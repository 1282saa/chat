# 🧪 모델 선택 기능 테스트 가이드

## 📋 테스트 준비
1. 개발 서버가 실행 중인지 확인 (http://localhost:3000)
2. 브라우저 개발자 도구 열기 (F12)
3. Console 탭 열어두기

## 🔍 테스트 단계

### 1단계: 모델 선택기 확인
- ✅ 채팅 입력창 하단에 모델 선택 버튼 표시 여부
- ✅ 버튼 클릭 시 드롭다운 메뉴 표시 여부
- ✅ 29개 모델 목록 표시 여부
- ✅ 필터 기능 (전체, Anthropic, Amazon, Meta) 작동 여부

### 2단계: 모델 변경 테스트
1. **기본 모델 확인**
   - 초기 선택: "3.5 Sonnet v2" (Claude 3.5 Sonnet v2)
   
2. **다른 모델로 변경**
   - Claude 3.5 Haiku 선택
   - Nova Pro 선택  
   - Llama 3.3 70B 선택

3. **각 변경 시 콘솔 로그 확인**
   ```
   🚀 대화 생성 요청 시작: {
     projectId: "...",
     modelId: "anthropic.claude-3-5-haiku-20241022-v1:0",
     ...
   }
   ```

### 3단계: 실제 응답 테스트
**테스트 입력 텍스트:**
```
삼성전자가 새로운 갤럭시 스마트폰을 출시했다는 내용의 뉴스 제목을 3개 생성해주세요.
```

**각 모델별로 테스트:**
1. Claude 3.5 Sonnet v2 (기본)
2. Claude 3.5 Haiku (빠른 응답)
3. Nova Pro (Amazon)
4. Llama 3.3 70B (Meta)

### 4단계: 응답 차이 확인
- ✅ 모델별로 다른 스타일의 제목 생성 여부
- ✅ 응답 속도 차이 여부
- ✅ 오류 없이 모든 모델 작동 여부

## 🔍 디버깅 로그 체크포인트

### 프론트엔드 콘솔에서 확인할 로그:
```javascript
// 1. 모델 선택 시 상태 업데이트
"selectedModel updated: anthropic.claude-3-5-haiku-20241022-v1:0"

// 2. API 호출 시 modelId 포함
"🚀 대화 생성 요청 시작: { ..., modelId: '...' }"

// 3. 백엔드 전송 데이터 확인
"백엔드 전송 데이터 최종 확인: { ..., modelId: '...' }"
```

### 백엔드 Lambda 로그에서 확인할 로그:
```python
# 1. 요청 수신 확인
"📋 요청 본문에서 받은 modelId: anthropic.claude-3-5-haiku-20241022-v1:0"

# 2. 모델 선택 확인  
"🤖 선택된 모델: anthropic.claude-3-5-haiku-20241022-v1:0 (Claude 3.5 Haiku)"

# 3. 베드락 호출 확인
"스트리밍 생성 시작: 프로젝트 ID=..., 모델=anthropic.claude-3-5-haiku-20241022-v1:0"
```

## ✅ 성공 기준
- [ ] 모델 선택기 UI 정상 작동
- [ ] 모델 변경 시 프론트엔드 상태 업데이트
- [ ] API 호출에 modelId 포함
- [ ] 백엔드에서 modelId 수신 및 로깅
- [ ] 베드락 호출 시 동적 모델 사용
- [ ] 각 모델별 정상 응답 생성
- [ ] 모델별 응답 스타일/속도 차이 확인

## 🚨 문제 해결
만약 오류가 발생한다면:

1. **모델 선택기가 보이지 않는 경우**
   - 브라우저 새로고침 (Ctrl+F5)
   - 개발 서버 재시작

2. **모델 변경이 반영되지 않는 경우**
   - 콘솔에서 selectedModel 상태 확인
   - 네트워크 탭에서 API 요청 데이터 확인

3. **베드락 호출 오류**
   - 지원되지 않는 모델 ID인지 확인
   - AWS 베드락 모델 액세스 권한 확인

## 📊 예상 결과
- **Claude 모델**: 정제되고 전문적인 제목
- **Nova 모델**: 균형잡힌 스타일의 제목  
- **Llama 모델**: 창의적이고 다양한 제목

각 모델마다 다른 특성의 응답을 받을 수 있어야 합니다!