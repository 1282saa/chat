"use strict";(self.webpackChunkbedrock_diy_frontend=self.webpackChunkbedrock_diy_frontend||[]).push([[873],{3873:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var a=s(5043),r=s(7656),d=s(2059),l=s(4290),i=s(579);const n=e=>{let{title:t,value:s,icon:a,trend:r,color:n="blue"}=e;const c=r&&r.startsWith("+"),x=r&&r.startsWith("-");return(0,i.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),(0,i.jsx)("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-white",children:s}),r&&(0,i.jsxs)("div",{className:"mt-2 flex items-center text-sm",children:[c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{className:"h-4 w-4 text-green-500 mr-1"}),(0,i.jsx)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:r})]}),x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{className:"h-4 w-4 text-red-500 mr-1"}),(0,i.jsx)("span",{className:"text-red-600 dark:text-red-400 font-medium",children:r})]}),(0,i.jsx)("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:"vs \uc5b4\uc81c"})]})]}),(0,i.jsx)("div",{className:`p-3 rounded-lg ${{blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400",purple:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",orange:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400"}[n]}`,children:(0,i.jsx)(a,{className:"h-6 w-6"})})]})})};var c=s(108),x=s(1009),o=s(8687);const g=e=>{let{used:t,limit:s}=e;const a=t/s*100,r=[{name:"\uc0ac\uc6a9\ub7c9",value:a,fill:a>=80?"#f97316":"#3b82f6"}],d=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString();return(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\uc6d4\uac04 \ud1a0\ud070 \ud55c\ub3c4"}),(0,i.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d(t)," / ",d(s)," \ud1a0\ud070 \uc0ac\uc6a9\ub428"]})]}),(0,i.jsxs)("div",{className:"relative h-48",children:[(0,i.jsx)(c.u,{width:"100%",height:"100%",children:(0,i.jsx)(x.D,{cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"90%",data:r,startAngle:90,endAngle:-270,children:(0,i.jsx)(o.Z,{dataKey:"value",cornerRadius:10,fill:r[0].fill})})}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold "+(a>=80?"text-orange-600 dark:text-orange-400":"text-blue-600 dark:text-blue-400"),children:[a.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\uc0ac\uc6a9\ub428"})]})})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[(0,i.jsx)("span",{children:"0"}),(0,i.jsx)("span",{children:d(s)})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(a>=80?"bg-orange-500":"bg-blue-500"),style:{width:`${Math.min(a,100)}%`}})})]}),a>=80&&(0,i.jsx)("div",{className:"mt-3 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:(0,i.jsx)("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"\u26a0\ufe0f \ud1a0\ud070 \uc0ac\uc6a9\ub7c9\uc774 80%\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4. \ud50c\ub79c \uc5c5\uadf8\ub808\uc774\ub4dc\ub97c \uace0\ub824\ud574\ubcf4\uc138\uc694."})})]})};var m=s(1553),h=s(7734),y=s(2185),u=s(760),p=s(3670),j=s(6805);const b=e=>{let{data:t}=e;const s=e=>{const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}`},a=e=>e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),r=e=>{let{active:t,payload:a,label:r}=e;return t&&a&&a.length?(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:s(r)}),a.map((e,t)=>(0,i.jsxs)("p",{className:"text-sm",style:{color:e.color},children:[e.name,": ",e.value.toLocaleString()]},t))]}):null};return(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\uc0ac\uc6a9\ub7c9 \ucd94\uc774"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\ucd5c\uadfc 30\uc77c\uac04 \ud1a0\ud070 \ubc0f \uc694\uccad \uc0ac\uc6a9\ub7c9"})]}),(0,i.jsx)("div",{className:"h-80",children:(0,i.jsx)(c.u,{width:"100%",height:"100%",children:(0,i.jsxs)(m.Q,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"tokensGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,i.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),(0,i.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,i.jsxs)("linearGradient",{id:"requestsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,i.jsx)("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),(0,i.jsx)("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),(0,i.jsx)(h.d,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-600"}),(0,i.jsx)(y.W,{dataKey:"date",tickFormatter:s,axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6b7280"},className:"dark:fill-gray-400"}),(0,i.jsx)(u.h,{yAxisId:"tokens",orientation:"left",tickFormatter:a,axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6b7280"},className:"dark:fill-gray-400"}),(0,i.jsx)(u.h,{yAxisId:"requests",orientation:"right",tickFormatter:a,axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6b7280"},className:"dark:fill-gray-400"}),(0,i.jsx)(p.m,{content:(0,i.jsx)(r,{})}),(0,i.jsx)(j.Gk,{yAxisId:"tokens",type:"monotone",dataKey:"tokens",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#tokensGradient)",name:"\ud1a0\ud070"}),(0,i.jsx)(j.Gk,{yAxisId:"requests",type:"monotone",dataKey:"requests",stroke:"#10b981",strokeWidth:2,fillOpacity:.6,fill:"url(#requestsGradient)",name:"\uc694\uccad"})]})})}),(0,i.jsxs)("div",{className:"flex justify-center mt-4 space-x-6",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),(0,i.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"\ud1a0\ud070"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),(0,i.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"\uc694\uccad"})]})]})]})};var k=s(4538),N=s(7098),f=s(7012);const v=e=>{let{logs:t}=e;const[s,r]=(0,a.useState)(1),d=e=>{switch(e){case"success":return(0,i.jsx)(k.A,{className:"h-5 w-5 text-green-500"});case"error":return(0,i.jsx)(N.A,{className:"h-5 w-5 text-red-500"});default:return(0,i.jsx)(f.A,{className:"h-5 w-5 text-yellow-500"})}},l=Math.ceil(t.length/10),n=10*(s-1),c=t.slice(n,n+10);return(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[(0,i.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\ucd5c\uadfc \ud638\ucd9c \ub85c\uadf8"}),(0,i.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["\ucd5c\uadfc ",t.length,"\uac74\uc758 API \ud638\ucd9c \uae30\ub85d"]})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,i.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"\uc2dc\uac04"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"\ubaa8\ub378"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"\ud1a0\ud070"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"\uc751\ub2f5\uc2dc\uac04"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"\uc0c1\ud0dc"})]})}),(0,i.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:c.map(e=>{return(0,i.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:(a=e.timestamp,new Date(a).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.model})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:e.tokens.toLocaleString()})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:(s=e.duration,s<1e3?`${s}ms`:`${(s/1e3).toFixed(1)}s`)})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex items-center",children:[d(e.status),(0,i.jsx)("div",{className:"ml-2",children:(t=e.status,(0,i.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{success:"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200",error:"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200",pending:"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"}[t]}`,children:{success:"\uc131\uacf5",error:"\uc624\ub958",pending:"\ub300\uae30"}[t]}))})]})})]},e.id);var t,s,a})})]})}),l>1&&(0,i.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n+1,"-",Math.min(n+10,t.length)," of ",t.length," \uacb0\uacfc"]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{onClick:()=>r(e=>Math.max(e-1,1)),disabled:1===s,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"\uc774\uc804"}),(0,i.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-700 dark:text-gray-300",children:[s," / ",l]}),(0,i.jsx)("button",{onClick:()=>r(e=>Math.min(e+1,l)),disabled:s===l,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"\ub2e4\uc74c"})]})]})})]})};var w=s(4505),S=s(3315),A=s(7985);const M=()=>{var e;const{user:t}=(0,r.A)(),[s,d]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[x,o]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{try{d(!0);const e=await(0,w.yh)("month");c(e)}catch(e){o("\uc0ac\uc6a9\ub7c9 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),console.error("Usage fetch error:",e)}finally{d(!1)}})()},[]),s)return(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((e,t)=>(0,i.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 h-32"},t))}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsx)("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg p-6 h-80"}),(0,i.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 h-80"})]})]});if(x)return(0,i.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded relative",children:x});const m={todayRequests:127,todayTokens:45320,monthlyLimit:1e6,monthlyUsed:523400,chartData:Array.from({length:30},(e,t)=>({date:new Date(Date.now()-24*(29-t)*60*60*1e3).toISOString().split("T")[0],tokens:Math.floor(3e4*Math.random())+1e4,requests:Math.floor(100*Math.random())+50})),recentLogs:Array.from({length:20},(e,t)=>({id:`log-${t}`,timestamp:new Date(Date.now()-60*t*60*1e3).toISOString(),model:["Claude 3 Sonnet","Claude 3.5 Haiku","Claude 3 Opus"][Math.floor(3*Math.random())],tokens:Math.floor(5e3*Math.random())+1e3,duration:Math.floor(3e3*Math.random())+500,status:Math.random()>.1?"success":"error"}))},h=l||m;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"\ub300\uc2dc\ubcf4\ub4dc"}),(0,i.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"\uc0ac\uc6a9\uc790","\ub2d8\uc758 \uc0ac\uc6a9 \ud604\ud669\uc744 \ud655\uc778\ud558\uc138\uc694"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6",children:[(0,i.jsx)(n,{title:"\uc624\ub298 \ud638\ucd9c \uc218",value:h.todayRequests.toLocaleString(),icon:S.A,trend:"+12%",color:"blue"}),(0,i.jsx)(n,{title:"\uc624\ub298 \ud1a0\ud070 \uc218",value:h.todayTokens.toLocaleString(),icon:A.A,trend:"+8%",color:"green"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,i.jsx)("div",{className:"lg:col-span-3",children:(0,i.jsx)(b,{data:h.chartData})}),(0,i.jsx)("div",{className:"lg:col-span-1",children:(0,i.jsx)(g,{used:h.monthlyUsed,limit:h.monthlyLimit})})]}),(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(v,{logs:h.recentLogs})})]})}}}]);
//# sourceMappingURL=873.a8466baa.chunk.js.map