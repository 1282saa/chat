"use strict";(self.webpackChunkbedrock_diy_frontend=self.webpackChunkbedrock_diy_frontend||[]).push([[505],{4505:(e,t,s)=>{s.d(t,{R2:()=>l,WK:()=>c,YG:()=>i,_x:()=>n,dF:()=>d,t6:()=>u,zz:()=>p});var a=s(6213);const o="https://nq5qrt16lb.execute-api.us-east-1.amazonaws.com/prod",r=a.A.create({baseURL:o,headers:{"Content-Type":"application/json"},timeout:3e5});r.interceptors.request.use(e=>{var t;return console.log("API \uc694\uccad:",null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),e.url),e}),r.interceptors.response.use(e=>(console.log("API \uc751\ub2f5:",e.status,e.config.url),e),e=>{var t,s,a;return console.error("API \uc624\ub958 \uc0c1\uc138:",{status:null===(t=e.response)||void 0===t?void 0:t.status,message:e.message,code:e.code,url:null===(s=e.config)||void 0===s?void 0:s.url,data:null===(a=e.response)||void 0===a?void 0:a.data}),Promise.reject(e)});const n={getProjects:async()=>(await r.get("/projects")).data,getProject:async e=>(await r.get(`/projects/${e}`)).data,createProject:async e=>(await r.post("/projects",e)).data,updateProject:async(e,t)=>(await r.put(`/projects/${e}`,t)).data,deleteProject:async e=>(await r.delete(`/projects/${e}`)).data,getUploadUrl:async(e,t)=>(await r.get(`/projects/${e}/upload-url`,{params:{fileName:t}})).data},d={getPromptCards:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(await r.get(`/prompts/${e}`,{params:{includeContent:t,includeStats:s}})).data},createPromptCard:async(e,t)=>(await r.post(`/prompts/${e}`,t)).data,updatePromptCard:async(e,t,s)=>(await r.put(`/prompts/${e}/${t}`,s)).data,getPromptContent:async(e,t)=>(await r.get(`/prompts/${e}/${t}/content`)).data,deletePromptCard:async(e,t)=>(await r.delete(`/prompts/${e}/${t}`)).data,reorderPromptCards:async(e,t)=>{const s=t.map(t=>{let{promptId:s,stepOrder:a}=t;return r.put(`/prompts/${e}/${s}`,{stepOrder:a})});return{message:"\ud504\ub86c\ud504\ud2b8 \uce74\ub4dc \uc21c\uc11c\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",updatedCards:(await Promise.all(s)).map(e=>e.data)}}},i={generateTitle:async(e,t)=>{var s;console.log("\ub300\ud654 \uc0dd\uc131 \uc694\uccad \uc2dc\uc791:",{projectId:e,inputLength:t.userInput.length,historyLength:(null===(s=t.chat_history)||void 0===s?void 0:s.length)||0,timestamp:(new Date).toISOString()});try{const s=await r.post(`/projects/${e}/generate`,t);return console.log("\ub300\ud654 \uc0dd\uc131 \uc131\uacf5:",{status:s.status,mode:s.data.mode,message:s.data.message,timestamp:(new Date).toISOString()}),s.data}catch(n){var a,o;throw console.error("\ub300\ud654 \uc0dd\uc131 \uc2e4\ud328:",{code:n.code,message:n.message,status:null===(a=n.response)||void 0===a?void 0:a.status,responseData:null===(o=n.response)||void 0===o?void 0:o.data,timestamp:(new Date).toISOString()}),n}},generateTitleStream:async(e,t,s,a,n)=>{var d;console.log("\uc2a4\ud2b8\ub9ac\ubc0d \ub300\ud654 \uc0dd\uc131 \uc694\uccad \uc2dc\uc791:",{projectId:e,inputLength:t.userInput.length,historyLength:(null===(d=t.chat_history)||void 0===d?void 0:d.length)||0,timestamp:(new Date).toISOString()});try{const a=`${o}/projects/${e}/generate/stream`;console.log("\ud83d\ude80 \uc2e4\uc81c \uc2a4\ud2b8\ub9ac\ubc0d API \uc2dc\ub3c4:",a);const r=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const d=r.headers.get("content-type");if(!d||!d.includes("text/event-stream"))throw console.log("\u274c \uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc774 \uc544\ub2d8, \ud3f4\ubc31 \ucc98\ub9ac"),new Error("\uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc774 \uc544\ub2d9\ub2c8\ub2e4");const c=r.body.getReader(),l=new TextDecoder;let u="",p="";try{for(;;){const{done:e,value:t}=await c.read();if(e)break;u+=l.decode(t,{stream:!0});const a=u.split("\n");u=a.pop()||"";for(const o of a)if(o.startsWith("data: "))try{const e=JSON.parse(o.slice(6));if("start"===e.type)console.log("\u2705 \uc2a4\ud2b8\ub9ac\ubc0d \uc2dc\uc791");else if("chunk"===e.type)p+=e.response,s&&s(e.response,{content:e.response});else{if("complete"===e.type)return console.log("\u2705 \uc2a4\ud2b8\ub9ac\ubc0d \uc644\ub8cc"),n&&n({result:e.fullResponse||p,timestamp:(new Date).toISOString()}),{result:e.fullResponse||p};if("error"===e.type)throw new Error(e.error)}}catch(i){console.error("JSON \ud30c\uc2f1 \uc624\ub958:",i)}}}finally{c.releaseLock()}return{result:p}}catch(c){console.log("\u26a0\ufe0f \uc2a4\ud2b8\ub9ac\ubc0d \uc2e4\ud328, \ud3f4\ubc31 \ucc98\ub9ac:",c.message);try{const a=await r.post(`/projects/${e}/generate`,t);if(console.log("\u2705 \ud3f4\ubc31 API \uc131\uacf5:",{mode:a.data.mode,timestamp:(new Date).toISOString()}),a.data.result&&s){const e=a.data.result.split(" ");for(let t=0;t<e.length;t++){const a=e[t]+(t<e.length-1?" ":"");s(a,{content:a}),await new Promise(e=>setTimeout(e,30))}}return n&&n({result:a.data.result,model_info:a.data.model_info,performance_metrics:a.data.performance_metrics,timestamp:(new Date).toISOString()}),a.data}catch(l){throw console.error("\u274c \ud3f4\ubc31 API\ub3c4 \uc2e4\ud328:",l),a&&a(new Error("\uc11c\ube44\uc2a4\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")),new Error("\uc11c\ube44\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}}},getExecutionStatus:async e=>({status:"SUCCEEDED",output:"{}"})},c={createCrewInstance:async(e,t)=>{console.log("\ud06c\ub8e8 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \uc694\uccad:",{projectId:e,promptCardsCount:t.length});const s=await r.post("/crew/instances",{projectId:e,promptCards:t.map(e=>({promptId:e.promptId,prompt_text:e.prompt_text,stepOrder:e.stepOrder,isActive:e.isActive}))});return console.log("\ud06c\ub8e8 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \uc644\ub8cc:",s.data),s.data},getCrewInstances:async e=>{console.log("\ud06c\ub8e8 \uc778\uc2a4\ud134\uc2a4 \uc870\ud68c:",{projectId:e});return(await r.get(`/crew/instances/${e}`)).data},getCrewConfig:async e=>{console.log("\ud06c\ub8e8 \uc124\uc815 \uc870\ud68c:",{projectId:e});return(await r.get(`/crew/config/${e}`)).data},executeMultiAgent:async function(e,t){console.log("\uba40\ud2f0-\uc5d0\uc774\uc804\ud2b8 \uc2e4\ud589 \uc2dc\uc791:",{projectId:e,inputLength:t.length,timestamp:(new Date).toISOString()});try{const s=await r.post("/crew/execute",{projectId:e,userInput:t,mode:"parallel"});return console.log("\uba40\ud2f0-\uc5d0\uc774\uc804\ud2b8 \uc2e4\ud589 \uc644\ub8cc:",{agentCount:Object.keys(s.data.agentResults||{}).length,titleCount:Object.keys(s.data.finalTitles||{}).length,tokenUsage:s.data.tokenUsage,timestamp:(new Date).toISOString()}),s.data}catch(o){var s,a;throw console.error("\uba40\ud2f0-\uc5d0\uc774\uc804\ud2b8 \uc2e4\ud589 \uc2e4\ud328:",{error:o.message,status:null===(s=o.response)||void 0===s?void 0:s.status,data:null===(a=o.response)||void 0===a?void 0:a.data,timestamp:(new Date).toISOString()}),o}},getAgentResults:async(e,t)=>{console.log("\uc5d0\uc774\uc804\ud2b8 \uacb0\uacfc \uc870\ud68c:",{projectId:e,executionId:t});return(await r.get(`/crew/results/${e}/${t}`)).data}},l={isAuthenticated:()=>!0,getCurrentUser:()=>({id:"user",email:"user@example.com",name:"\uc0ac\uc6a9\uc790"}),signin:async e=>(await r.post("/auth/signin",e)).data,signup:async e=>(await r.post("/auth/signup",e)).data,signout:async()=>(await r.post("/auth/signout")).data,verifyEmail:async e=>(await r.post("/auth/verify-email",e)).data,forgotPassword:async e=>(await r.post("/auth/forgot-password",{email:e})).data,confirmPassword:async e=>(await r.post("/auth/confirm-password",e)).data,requestPasswordReset:async e=>(await r.post("/auth/forgot-password",{email:e})).data,resetPassword:async e=>(await r.post("/auth/confirm-password",{email:e.email,code:e.code,newPassword:e.newPassword})).data},u=e=>{var t,s,a,o,r,n,d;if(console.error("API \uc624\ub958 \uc0c1\uc138 \ubd84\uc11d:",{message:e.message,code:e.code,status:null===(t=e.response)||void 0===t?void 0:t.status,statusText:null===(s=e.response)||void 0===s?void 0:s.statusText,data:null===(a=e.response)||void 0===a?void 0:a.data,timestamp:(new Date).toISOString()}),403===(null===(o=e.response)||void 0===o?void 0:o.status))return{message:"API \uc811\uadfc\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.",statusCode:403,errorType:"FORBIDDEN"};if(504===(null===(r=e.response)||void 0===r?void 0:r.status))return{message:"\uc11c\ubc84 \uc751\ub2f5 \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc694\uccad\uc744 \uac04\uc18c\ud654\ud558\uac70\ub098 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:504,errorType:"GATEWAY_TIMEOUT"};if(null!==(n=e.message)&&void 0!==n&&n.includes("CORS")||"ERR_NETWORK"===e.code||null!==(d=e.message)&&void 0!==d&&d.includes("Access-Control-Allow-Origin"))return{message:"\uc11c\ubc84 \uc5f0\uacb0 \uc124\uc815\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:0,errorType:"CORS_ERROR"};if("ECONNABORTED"===e.code)return{message:"\uc694\uccad \ucc98\ub9ac \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc785\ub825\uc744 \uc904\uc774\uac70\ub098 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:0,errorType:"TIMEOUT_ERROR"};if(!e.response)return e.request?{message:"\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694",statusCode:0,errorType:"NETWORK_ERROR"}:{message:`\uc694\uccad \uc624\ub958: ${e.message}`,statusCode:-1,errorType:"REQUEST_ERROR"};{var i,c;const t=e.response.status,s=(null===(i=e.response.data)||void 0===i?void 0:i.message)||(null===(c=e.response.data)||void 0===c?void 0:c.error)||"\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4";switch(t){case 400:return{message:`\uc798\ubabb\ub41c \uc694\uccad: ${s}`,statusCode:400};case 401:return{message:"\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4",statusCode:401};case 404:return{message:"\uc694\uccad\ud55c \ub9ac\uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",statusCode:404};case 429:return{message:"\uc694\uccad\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694",statusCode:429};case 500:return{message:"\uc11c\ubc84 \ub0b4\ubd80 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4",statusCode:500};default:return{message:`\uc11c\ubc84 \uc624\ub958 (${t}): ${s}`,statusCode:t}}}},p=(e,t)=>{let s=[...e];if(t.searchQuery){const e=t.searchQuery.toLowerCase();s=s.filter(t=>{var s,a,o;return(null===(s=t.name)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.description)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(o=t.tags)||void 0===o?void 0:o.some(t=>t.toLowerCase().includes(e)))})}switch(t.sortBy){case"created":s.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt));break;case"updated":s.sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt));break;case"name":s.sort((e,t)=>{var s;return null===(s=e.name)||void 0===s?void 0:s.localeCompare(t.name)})}return s}}}]);
//# sourceMappingURL=505.6ca977e7.chunk.js.map