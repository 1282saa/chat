{"version":3,"file":"static/js/727.4cf98ab2.chunk.js","mappings":"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","sources":["components/ForgotPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { handleAPIError } from \"../services/api\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst ForgotPassword = () => {\n  const { forgotPassword, confirmResetPassword } = useAuth();\n  const [step, setStep] = useState(1); // 1: 이메일 입력, 2: 인증번호 입력 및 비밀번호 변경\n  const [formData, setFormData] = useState({\n    email: \"\",\n    confirmationCode: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleSendCode = async (e) => {\n    e.preventDefault();\n    \n    if (!formData.email) {\n      setError(\"이메일을 입력해주세요.\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    try {\n      await forgotPassword(formData.email);\n      setSuccess(\"인증번호가 이메일로 발송되었습니다.\");\n      setStep(2);\n    } catch (error) {\n      const apiError = handleAPIError(error);\n      setError(apiError.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResetPassword = async (e) => {\n    e.preventDefault();\n    \n    if (!formData.confirmationCode || !formData.newPassword || !formData.confirmPassword) {\n      setError(\"모든 필드를 입력해주세요.\");\n      return;\n    }\n\n    if (formData.newPassword !== formData.confirmPassword) {\n      setError(\"새 비밀번호가 일치하지 않습니다.\");\n      return;\n    }\n\n    if (formData.newPassword.length < 8) {\n      setError(\"비밀번호는 최소 8자 이상이어야 합니다.\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    try {\n      await confirmResetPassword({\n        email: formData.email,\n        code: formData.confirmationCode,\n        newPassword: formData.newPassword,\n      });\n      setSuccess(\"비밀번호가 성공적으로 변경되었습니다. 로그인 페이지로 이동합니다.\");\n      setTimeout(() => {\n        window.location.href = '/login';\n      }, 2000);\n    } catch (error) {\n      const apiError = handleAPIError(error);\n      setError(apiError.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const goBackToLogin = () => {\n    window.location.href = '/login';\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white\">\n            {step === 1 ? \"비밀번호 찾기\" : \"비밀번호 재설정\"}\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600 dark:text-gray-300\">\n            {step === 1 \n              ? \"등록된 이메일 주소로 인증번호를 발송해드립니다.\"\n              : \"인증번호를 입력하고 새 비밀번호를 설정하세요.\"\n            }\n          </p>\n        </div>\n\n        {step === 1 && (\n          <form className=\"mt-8 space-y-6\" onSubmit={handleSendCode}>\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"\n              >\n                이메일 주소\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                value={formData.email}\n                onChange={handleInputChange}\n                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm transition-colors duration-200\"\n                placeholder=\"등록된 이메일 주소를 입력하세요\"\n              />\n            </div>\n\n            {error && (\n              <div className=\"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded relative\">\n                {error}\n              </div>\n            )}\n\n            {success && (\n              <div className=\"bg-green-50 dark:bg-green-900 border border-green-200 dark:border-green-700 text-green-700 dark:text-green-300 px-4 py-3 rounded relative\">\n                {success}\n              </div>\n            )}\n\n            <div className=\"space-y-3\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? \"발송 중...\" : \"인증번호 발송\"}\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={goBackToLogin}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                로그인으로 돌아가기\n              </button>\n            </div>\n          </form>\n        )}\n\n        {step === 2 && (\n          <form className=\"mt-8 space-y-6\" onSubmit={handleResetPassword}>\n            <div className=\"space-y-4\">\n              <div>\n                <label\n                  htmlFor=\"confirmationCode\"\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"\n                >\n                  인증번호\n                </label>\n                <input\n                  id=\"confirmationCode\"\n                  name=\"confirmationCode\"\n                  type=\"text\"\n                  required\n                  value={formData.confirmationCode}\n                  onChange={handleInputChange}\n                  className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm transition-colors duration-200\"\n                  placeholder=\"이메일로 받은 인증번호를 입력하세요\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"newPassword\"\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"\n                >\n                  새 비밀번호\n                </label>\n                <input\n                  id=\"newPassword\"\n                  name=\"newPassword\"\n                  type=\"password\"\n                  required\n                  value={formData.newPassword}\n                  onChange={handleInputChange}\n                  className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm transition-colors duration-200\"\n                  placeholder=\"새 비밀번호 (최소 8자)\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"confirmPassword\"\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\"\n                >\n                  새 비밀번호 확인\n                </label>\n                <input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type=\"password\"\n                  required\n                  value={formData.confirmPassword}\n                  onChange={handleInputChange}\n                  className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm transition-colors duration-200\"\n                  placeholder=\"새 비밀번호를 다시 입력하세요\"\n                />\n              </div>\n            </div>\n\n            {error && (\n              <div className=\"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded relative\">\n                {error}\n              </div>\n            )}\n\n            {success && (\n              <div className=\"bg-green-50 dark:bg-green-900 border border-green-200 dark:border-green-700 text-green-700 dark:text-green-300 px-4 py-3 rounded relative\">\n                {success}\n              </div>\n            )}\n\n            <div className=\"space-y-3\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? \"변경 중...\" : \"비밀번호 변경\"}\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={() => setStep(1)}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                이전 단계로\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;"],"names":["ForgotPassword","forgotPassword","confirmResetPassword","useAuth","step","setStep","useState","formData","setFormData","email","confirmationCode","newPassword","confirmPassword","loading","setLoading","error","setError","success","setSuccess","handleInputChange","e","name","value","target","prev","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","apiError","handleAPIError","message","htmlFor","id","type","required","onChange","placeholder","disabled","onClick","goBackToLogin","window","location","href","length","code","setTimeout"],"sourceRoot":""}