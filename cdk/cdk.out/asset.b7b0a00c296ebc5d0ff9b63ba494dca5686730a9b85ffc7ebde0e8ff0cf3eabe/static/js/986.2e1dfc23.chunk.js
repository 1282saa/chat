"use strict";(self.webpackChunkbedrock_diy_frontend=self.webpackChunkbedrock_diy_frontend||[]).push([[986],{2986:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(5043),r=a(3768);function o(e,t){let{title:a,titleId:r,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const n=s.forwardRef(o);var l=a(7591),d=a(6214),i=a(8662),c=a(4505),u=a(579);const p=e=>{let{isOpen:t,onClose:a,onSuccess:o}=e;const[p,m]=(0,s.useState)(!1),[g,h]=(0,s.useState)({name:"",description:"",tags:[]}),[y,x]=(0,s.useState)("");return t?(0,u.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,u.jsxs)("div",{className:"bg-white dark:bg-dark-secondary rounded-2xl max-w-md w-full shadow-xl dark:shadow-none transform transition-all duration-300",children:[(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,u.jsx)(n,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\uc0c8 \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131"}),(0,u.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"AI \uc81c\ubaa9 \uc0dd\uc131 \ud504\ub85c\uc81d\ud2b8\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694"})]})]}),(0,u.jsx)("button",{onClick:a,className:"p-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-tertiary transition-colors",children:(0,u.jsx)(l.A,{className:"h-5 w-5"})})]})}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.name.trim())try{m(!0);const e=await c._x.createProject(g);r.oR.success("\ud504\ub85c\uc81d\ud2b8\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),null===o||void 0===o||o(e),a()}catch(t){console.error("\ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131 \uc2e4\ud328:",t);const e=(0,c.t6)(t);r.oR.error(e.message)}finally{m(!1)}else r.oR.error("\ud504\ub85c\uc81d\ud2b8 \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},className:"p-6 space-y-6",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["\ud504\ub85c\uc81d\ud2b8 \uc774\ub984 ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"text",value:g.name,onChange:e=>h(t=>({...t,name:e.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-dark-tertiary text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",placeholder:"\uc608: \uc11c\uc6b8\uacbd\uc81c\uc2e0\ubb38 \uc81c\ubaa9 \uc0dd\uc131",required:!0})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"\ud504\ub85c\uc81d\ud2b8 \uc124\uba85"}),(0,u.jsx)("textarea",{value:g.description,onChange:e=>h(t=>({...t,description:e.target.value})),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-dark-tertiary text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 resize-none",placeholder:"\ud504\ub85c\uc81d\ud2b8\uc5d0 \ub300\ud55c \uac04\ub2e8\ud55c \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",rows:4})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"flex items-center text-sm font-semibold text-gray-800 dark:text-gray-200",children:[(0,u.jsx)(d.A,{className:"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400"}),"\ud0dc\uadf8"]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),onKeyPress:e=>{if("Enter"===e.key&&y.trim()){e.preventDefault();const t=y.trim();g.tags.includes(t)||h(e=>({...e,tags:[...e.tags,t]})),x("")}},className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-dark-tertiary text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uace0 Enter\ub97c \ub204\ub974\uc138\uc694"}),g.tags.length>0&&(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:g.tags.map((e,t)=>(0,u.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:["#",e,(0,u.jsx)("button",{type:"button",onClick:()=>{return t=e,void h(e=>({...e,tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:(0,u.jsx)(l.A,{className:"h-3 w-3"})})]},t))})]})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,u.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-dark-tertiary rounded-lg hover:bg-gray-200 dark:hover:bg-dark-primary transition-colors font-medium",children:"\ucde8\uc18c"}),(0,u.jsx)("button",{type:"submit",disabled:p||!g.name.trim(),className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium shadow-lg hover:shadow-xl flex items-center gap-2",children:p?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"\uc0dd\uc131 \uc911..."]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{className:"h-4 w-4"}),"\uc0dd\uc131\ud558\uae30"]})})]})]})]})}):null}},4505:(e,t,a)=>{a.d(t,{R2:()=>i,YG:()=>d,_x:()=>n,dF:()=>l,t6:()=>c,zz:()=>u});var s=a(6213);const r="https://gcm3qzoy04.execute-api.us-east-1.amazonaws.com/prod",o=s.A.create({baseURL:r,headers:{"Content-Type":"application/json"},timeout:3e5});o.interceptors.request.use(e=>{var t;return console.log("API \uc694\uccad:",null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),e.url),e}),o.interceptors.response.use(e=>(console.log("API \uc751\ub2f5:",e.status,e.config.url),e),e=>{var t,a,s;return console.error("API \uc624\ub958 \uc0c1\uc138:",{status:null===(t=e.response)||void 0===t?void 0:t.status,message:e.message,code:e.code,url:null===(a=e.config)||void 0===a?void 0:a.url,data:null===(s=e.response)||void 0===s?void 0:s.data}),Promise.reject(e)});const n={getProjects:async()=>(await o.get("/projects")).data,getProject:async e=>(await o.get(`/projects/${e}`)).data,createProject:async e=>(await o.post("/projects",e)).data,updateProject:async(e,t)=>(await o.put(`/projects/${e}`,t)).data,deleteProject:async e=>(await o.delete(`/projects/${e}`)).data,getUploadUrl:async(e,t)=>(await o.get(`/projects/${e}/upload-url`,{params:{fileName:t}})).data},l={getPromptCards:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(await o.get(`/prompts/${e}`,{params:{includeContent:t,includeStats:a}})).data},createPromptCard:async(e,t)=>(await o.post(`/prompts/${e}`,t)).data,updatePromptCard:async(e,t,a)=>(await o.put(`/prompts/${e}/${t}`,a)).data,getPromptContent:async(e,t)=>(await o.get(`/prompts/${e}/${t}/content`)).data,deletePromptCard:async(e,t)=>(await o.delete(`/prompts/${e}/${t}`)).data,reorderPromptCards:async(e,t)=>{const a=t.map(t=>{let{promptId:a,stepOrder:s}=t;return o.put(`/prompts/${e}/${a}`,{stepOrder:s})});return{message:"\ud504\ub86c\ud504\ud2b8 \uce74\ub4dc \uc21c\uc11c\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",updatedCards:(await Promise.all(a)).map(e=>e.data)}}},d={generateTitle:async(e,t)=>{var a;console.log("\ub300\ud654 \uc0dd\uc131 \uc694\uccad \uc2dc\uc791:",{projectId:e,inputLength:t.userInput.length,historyLength:(null===(a=t.chat_history)||void 0===a?void 0:a.length)||0,timestamp:(new Date).toISOString()});try{const a=await o.post(`/projects/${e}/generate`,t);return console.log("\ub300\ud654 \uc0dd\uc131 \uc131\uacf5:",{status:a.status,mode:a.data.mode,message:a.data.message,timestamp:(new Date).toISOString()}),a.data}catch(n){var s,r;throw console.error("\ub300\ud654 \uc0dd\uc131 \uc2e4\ud328:",{code:n.code,message:n.message,status:null===(s=n.response)||void 0===s?void 0:s.status,responseData:null===(r=n.response)||void 0===r?void 0:r.data,timestamp:(new Date).toISOString()}),n}},generateTitleStream:async(e,t,a,s,n)=>{var l;console.log("\uc2a4\ud2b8\ub9ac\ubc0d \ub300\ud654 \uc0dd\uc131 \uc694\uccad \uc2dc\uc791:",{projectId:e,inputLength:t.userInput.length,historyLength:(null===(l=t.chat_history)||void 0===l?void 0:l.length)||0,timestamp:(new Date).toISOString()});try{const s=`${r}/projects/${e}/generate/stream`;console.log("\ud83d\ude80 \uc2e4\uc81c \uc2a4\ud2b8\ub9ac\ubc0d API \uc2dc\ub3c4:",s);const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify(t)});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const l=o.headers.get("content-type");if(!l||!l.includes("text/event-stream"))throw console.log("\u274c \uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc774 \uc544\ub2d8, \ud3f4\ubc31 \ucc98\ub9ac"),new Error("\uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc774 \uc544\ub2d9\ub2c8\ub2e4");const i=o.body.getReader(),c=new TextDecoder;let u="",p="";try{for(;;){const{done:e,value:t}=await i.read();if(e)break;u+=c.decode(t,{stream:!0});const s=u.split("\n");u=s.pop()||"";for(const r of s)if(r.startsWith("data: "))try{const e=JSON.parse(r.slice(6));if("start"===e.type)console.log("\u2705 \uc2a4\ud2b8\ub9ac\ubc0d \uc2dc\uc791");else if("chunk"===e.type)p+=e.response,a&&a(e.response,{content:e.response});else{if("complete"===e.type)return console.log("\u2705 \uc2a4\ud2b8\ub9ac\ubc0d \uc644\ub8cc"),n&&n({result:e.fullResponse||p,timestamp:(new Date).toISOString()}),{result:e.fullResponse||p};if("error"===e.type)throw new Error(e.error)}}catch(d){console.error("JSON \ud30c\uc2f1 \uc624\ub958:",d)}}}finally{i.releaseLock()}return{result:p}}catch(i){console.log("\u26a0\ufe0f \uc2a4\ud2b8\ub9ac\ubc0d \uc2e4\ud328, \ud3f4\ubc31 \ucc98\ub9ac:",i.message);try{const s=await o.post(`/projects/${e}/generate`,t);if(console.log("\u2705 \ud3f4\ubc31 API \uc131\uacf5:",{mode:s.data.mode,timestamp:(new Date).toISOString()}),s.data.result&&a){const e=s.data.result.split(" ");for(let t=0;t<e.length;t++){const s=e[t]+(t<e.length-1?" ":"");a(s,{content:s}),await new Promise(e=>setTimeout(e,30))}}return n&&n({result:s.data.result,model_info:s.data.model_info,performance_metrics:s.data.performance_metrics,timestamp:(new Date).toISOString()}),s.data}catch(c){throw console.error("\u274c \ud3f4\ubc31 API\ub3c4 \uc2e4\ud328:",c),s&&s(new Error("\uc11c\ube44\uc2a4\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")),new Error("\uc11c\ube44\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}}},getExecutionStatus:async e=>({status:"SUCCEEDED",output:"{}"})},i={isAuthenticated:()=>!0,getCurrentUser:()=>({id:"user",email:"user@example.com",name:"\uc0ac\uc6a9\uc790"}),signin:async e=>(await o.post("/auth/signin",e)).data,signup:async e=>(await o.post("/auth/signup",e)).data,signout:async()=>(await o.post("/auth/signout")).data,verifyEmail:async e=>(await o.post("/auth/verify-email",e)).data,forgotPassword:async e=>(await o.post("/auth/forgot-password",{email:e})).data,confirmPassword:async e=>(await o.post("/auth/confirm-password",e)).data},c=e=>{var t,a,s,r,o,n,l;if(console.error("API \uc624\ub958 \uc0c1\uc138 \ubd84\uc11d:",{message:e.message,code:e.code,status:null===(t=e.response)||void 0===t?void 0:t.status,statusText:null===(a=e.response)||void 0===a?void 0:a.statusText,data:null===(s=e.response)||void 0===s?void 0:s.data,timestamp:(new Date).toISOString()}),403===(null===(r=e.response)||void 0===r?void 0:r.status))return{message:"API \uc811\uadfc\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.",statusCode:403,errorType:"FORBIDDEN"};if(504===(null===(o=e.response)||void 0===o?void 0:o.status))return{message:"\uc11c\ubc84 \uc751\ub2f5 \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc694\uccad\uc744 \uac04\uc18c\ud654\ud558\uac70\ub098 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:504,errorType:"GATEWAY_TIMEOUT"};if(null!==(n=e.message)&&void 0!==n&&n.includes("CORS")||"ERR_NETWORK"===e.code||null!==(l=e.message)&&void 0!==l&&l.includes("Access-Control-Allow-Origin"))return{message:"\uc11c\ubc84 \uc5f0\uacb0 \uc124\uc815\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:0,errorType:"CORS_ERROR"};if("ECONNABORTED"===e.code)return{message:"\uc694\uccad \ucc98\ub9ac \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc785\ub825\uc744 \uc904\uc774\uac70\ub098 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:0,errorType:"TIMEOUT_ERROR"};if(!e.response)return e.request?{message:"\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694",statusCode:0,errorType:"NETWORK_ERROR"}:{message:`\uc694\uccad \uc624\ub958: ${e.message}`,statusCode:-1,errorType:"REQUEST_ERROR"};{var d,i;const t=e.response.status,a=(null===(d=e.response.data)||void 0===d?void 0:d.message)||(null===(i=e.response.data)||void 0===i?void 0:i.error)||"\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4";switch(t){case 400:return{message:`\uc798\ubabb\ub41c \uc694\uccad: ${a}`,statusCode:400};case 401:return{message:"\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4",statusCode:401};case 404:return{message:"\uc694\uccad\ud55c \ub9ac\uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",statusCode:404};case 429:return{message:"\uc694\uccad\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694",statusCode:429};case 500:return{message:"\uc11c\ubc84 \ub0b4\ubd80 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4",statusCode:500};default:return{message:`\uc11c\ubc84 \uc624\ub958 (${t}): ${a}`,statusCode:t}}}},u=(e,t)=>{let a=[...e];if(t.searchQuery){const e=t.searchQuery.toLowerCase();a=a.filter(t=>{var a,s,r;return(null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(s=t.description)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(r=t.tags)||void 0===r?void 0:r.some(t=>t.toLowerCase().includes(e)))})}switch(t.sortBy){case"created":a.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt));break;case"updated":a.sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt));break;case"name":a.sort((e,t)=>{var a;return null===(a=e.name)||void 0===a?void 0:a.localeCompare(t.name)})}return a}}}]);
//# sourceMappingURL=986.2e1dfc23.chunk.js.map