"use strict";(self.webpackChunkbedrock_diy_frontend=self.webpackChunkbedrock_diy_frontend||[]).push([[58],{4505:(e,t,s)=>{s.d(t,{R2:()=>l,YG:()=>d,_x:()=>i,dF:()=>n,t6:()=>c,zz:()=>h});var a=s(6213);const r="https://gcm3qzoy04.execute-api.us-east-1.amazonaws.com/prod",o=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"},timeout:3e5});o.interceptors.request.use(e=>{var t;return console.log("API \uc694\uccad:",null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),e.url),e}),o.interceptors.response.use(e=>(console.log("API \uc751\ub2f5:",e.status,e.config.url),e),e=>{var t,s,a;return console.error("API \uc624\ub958 \uc0c1\uc138:",{status:null===(t=e.response)||void 0===t?void 0:t.status,message:e.message,code:e.code,url:null===(s=e.config)||void 0===s?void 0:s.url,data:null===(a=e.response)||void 0===a?void 0:a.data}),Promise.reject(e)});const i={getProjects:async()=>(await o.get("/projects")).data,getProject:async e=>(await o.get(`/projects/${e}`)).data,createProject:async e=>(await o.post("/projects",e)).data,updateProject:async(e,t)=>(await o.put(`/projects/${e}`,t)).data,deleteProject:async e=>(await o.delete(`/projects/${e}`)).data,getUploadUrl:async(e,t)=>(await o.get(`/projects/${e}/upload-url`,{params:{fileName:t}})).data},n={getPromptCards:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(await o.get(`/prompts/${e}`,{params:{includeContent:t,includeStats:s}})).data},createPromptCard:async(e,t)=>(await o.post(`/prompts/${e}`,t)).data,updatePromptCard:async(e,t,s)=>(await o.put(`/prompts/${e}/${t}`,s)).data,getPromptContent:async(e,t)=>(await o.get(`/prompts/${e}/${t}/content`)).data,deletePromptCard:async(e,t)=>(await o.delete(`/prompts/${e}/${t}`)).data,reorderPromptCards:async(e,t)=>{const s=t.map(t=>{let{promptId:s,stepOrder:a}=t;return o.put(`/prompts/${e}/${s}`,{stepOrder:a})});return{message:"\ud504\ub86c\ud504\ud2b8 \uce74\ub4dc \uc21c\uc11c\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",updatedCards:(await Promise.all(s)).map(e=>e.data)}}},d={generateTitle:async(e,t)=>{var s;console.log("\ub300\ud654 \uc0dd\uc131 \uc694\uccad \uc2dc\uc791:",{projectId:e,inputLength:t.userInput.length,historyLength:(null===(s=t.chat_history)||void 0===s?void 0:s.length)||0,timestamp:(new Date).toISOString()});try{const s=await o.post(`/projects/${e}/generate`,t);return console.log("\ub300\ud654 \uc0dd\uc131 \uc131\uacf5:",{status:s.status,mode:s.data.mode,message:s.data.message,timestamp:(new Date).toISOString()}),s.data}catch(i){var a,r;throw console.error("\ub300\ud654 \uc0dd\uc131 \uc2e4\ud328:",{code:i.code,message:i.message,status:null===(a=i.response)||void 0===a?void 0:a.status,responseData:null===(r=i.response)||void 0===r?void 0:r.data,timestamp:(new Date).toISOString()}),i}},generateTitleStream:async(e,t,s,a,i)=>{var n;console.log("\uc2a4\ud2b8\ub9ac\ubc0d \ub300\ud654 \uc0dd\uc131 \uc694\uccad \uc2dc\uc791:",{projectId:e,inputLength:t.userInput.length,historyLength:(null===(n=t.chat_history)||void 0===n?void 0:n.length)||0,timestamp:(new Date).toISOString()});try{const a=`${r}/projects/${e}/generate/stream`;console.log("\ud83d\ude80 \uc2e4\uc81c \uc2a4\ud2b8\ub9ac\ubc0d API \uc2dc\ub3c4:",a);const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify(t)});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const n=o.headers.get("content-type");if(!n||!n.includes("text/event-stream"))throw console.log("\u274c \uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc774 \uc544\ub2d8, \ud3f4\ubc31 \ucc98\ub9ac"),new Error("\uc2a4\ud2b8\ub9ac\ubc0d \uc751\ub2f5\uc774 \uc544\ub2d9\ub2c8\ub2e4");const l=o.body.getReader(),c=new TextDecoder;let h="",u="";try{for(;;){const{done:e,value:t}=await l.read();if(e)break;h+=c.decode(t,{stream:!0});const a=h.split("\n");h=a.pop()||"";for(const r of a)if(r.startsWith("data: "))try{const e=JSON.parse(r.slice(6));if("start"===e.type)console.log("\u2705 \uc2a4\ud2b8\ub9ac\ubc0d \uc2dc\uc791");else if("chunk"===e.type)u+=e.response,s&&s(e.response,{content:e.response});else{if("complete"===e.type)return console.log("\u2705 \uc2a4\ud2b8\ub9ac\ubc0d \uc644\ub8cc"),i&&i({result:e.fullResponse||u,timestamp:(new Date).toISOString()}),{result:e.fullResponse||u};if("error"===e.type)throw new Error(e.error)}}catch(d){console.error("JSON \ud30c\uc2f1 \uc624\ub958:",d)}}}finally{l.releaseLock()}return{result:u}}catch(l){console.log("\u26a0\ufe0f \uc2a4\ud2b8\ub9ac\ubc0d \uc2e4\ud328, \ud3f4\ubc31 \ucc98\ub9ac:",l.message);try{const a=await o.post(`/projects/${e}/generate`,t);if(console.log("\u2705 \ud3f4\ubc31 API \uc131\uacf5:",{mode:a.data.mode,timestamp:(new Date).toISOString()}),a.data.result&&s){const e=a.data.result.split(" ");for(let t=0;t<e.length;t++){const a=e[t]+(t<e.length-1?" ":"");s(a,{content:a}),await new Promise(e=>setTimeout(e,30))}}return i&&i({result:a.data.result,model_info:a.data.model_info,performance_metrics:a.data.performance_metrics,timestamp:(new Date).toISOString()}),a.data}catch(c){throw console.error("\u274c \ud3f4\ubc31 API\ub3c4 \uc2e4\ud328:",c),a&&a(new Error("\uc11c\ube44\uc2a4\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")),new Error("\uc11c\ube44\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}}},getExecutionStatus:async e=>({status:"SUCCEEDED",output:"{}"})},l={isAuthenticated:()=>!0,getCurrentUser:()=>({id:"user",email:"user@example.com",name:"\uc0ac\uc6a9\uc790"}),signin:async e=>(await o.post("/auth/signin",e)).data,signup:async e=>(await o.post("/auth/signup",e)).data,signout:async()=>(await o.post("/auth/signout")).data,verifyEmail:async e=>(await o.post("/auth/verify-email",e)).data,forgotPassword:async e=>(await o.post("/auth/forgot-password",{email:e})).data,confirmPassword:async e=>(await o.post("/auth/confirm-password",e)).data},c=e=>{var t,s,a,r,o,i,n;if(console.error("API \uc624\ub958 \uc0c1\uc138 \ubd84\uc11d:",{message:e.message,code:e.code,status:null===(t=e.response)||void 0===t?void 0:t.status,statusText:null===(s=e.response)||void 0===s?void 0:s.statusText,data:null===(a=e.response)||void 0===a?void 0:a.data,timestamp:(new Date).toISOString()}),403===(null===(r=e.response)||void 0===r?void 0:r.status))return{message:"API \uc811\uadfc\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.",statusCode:403,errorType:"FORBIDDEN"};if(504===(null===(o=e.response)||void 0===o?void 0:o.status))return{message:"\uc11c\ubc84 \uc751\ub2f5 \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc694\uccad\uc744 \uac04\uc18c\ud654\ud558\uac70\ub098 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:504,errorType:"GATEWAY_TIMEOUT"};if(null!==(i=e.message)&&void 0!==i&&i.includes("CORS")||"ERR_NETWORK"===e.code||null!==(n=e.message)&&void 0!==n&&n.includes("Access-Control-Allow-Origin"))return{message:"\uc11c\ubc84 \uc5f0\uacb0 \uc124\uc815\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:0,errorType:"CORS_ERROR"};if("ECONNABORTED"===e.code)return{message:"\uc694\uccad \ucc98\ub9ac \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc785\ub825\uc744 \uc904\uc774\uac70\ub098 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",statusCode:0,errorType:"TIMEOUT_ERROR"};if(!e.response)return e.request?{message:"\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694",statusCode:0,errorType:"NETWORK_ERROR"}:{message:`\uc694\uccad \uc624\ub958: ${e.message}`,statusCode:-1,errorType:"REQUEST_ERROR"};{var d,l;const t=e.response.status,s=(null===(d=e.response.data)||void 0===d?void 0:d.message)||(null===(l=e.response.data)||void 0===l?void 0:l.error)||"\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4";switch(t){case 400:return{message:`\uc798\ubabb\ub41c \uc694\uccad: ${s}`,statusCode:400};case 401:return{message:"\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4",statusCode:401};case 404:return{message:"\uc694\uccad\ud55c \ub9ac\uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",statusCode:404};case 429:return{message:"\uc694\uccad\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694",statusCode:429};case 500:return{message:"\uc11c\ubc84 \ub0b4\ubd80 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4",statusCode:500};default:return{message:`\uc11c\ubc84 \uc624\ub958 (${t}): ${s}`,statusCode:t}}}},h=(e,t)=>{let s=[...e];if(t.searchQuery){const e=t.searchQuery.toLowerCase();s=s.filter(t=>{var s,a,r;return(null===(s=t.name)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.description)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(r=t.tags)||void 0===r?void 0:r.some(t=>t.toLowerCase().includes(e)))})}switch(t.sortBy){case"created":s.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt));break;case"updated":s.sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt));break;case"name":s.sort((e,t)=>{var s;return null===(s=e.name)||void 0===s?void 0:s.localeCompare(t.name)})}return s}},4546:(e,t,s)=>{s.d(t,{P7:()=>l,XF:()=>d,dO:()=>i});s(5043);var a=s(579);const r=e=>{let{width:t="w-full",height:s="h-4",className:r=""}=e;return(0,a.jsx)("div",{className:`bg-gray-200 dark:bg-gray-700 rounded animate-pulse ${t} ${s} ${r}`})},o=e=>{let{size:t="w-10 h-10",className:s=""}=e;return(0,a.jsx)("div",{className:`bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse ${t} ${s}`})},i=e=>{let{isUser:t=!1}=e;return(0,a.jsx)("div",{className:`group relative ${t?"ml-8":"mr-8"} mb-6`,children:(0,a.jsx)("div",{className:"flex "+(t?"justify-end":"justify-start"),children:t?(0,a.jsxs)("div",{className:"max-w-[85%] rounded-lg px-6 py-4 bg-gray-200 dark:bg-gray-700 animate-pulse",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r,{width:"w-3/4",height:"h-4"}),(0,a.jsx)(r,{width:"w-full",height:"h-4"}),(0,a.jsx)(r,{width:"w-1/2",height:"h-4"})]}),(0,a.jsx)(r,{width:"w-16",height:"h-3",className:"mt-3"})]}):(0,a.jsxs)("div",{className:"max-w-[85%] w-full",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(r,{width:"w-full",height:"h-4"}),(0,a.jsx)(r,{width:"w-5/6",height:"h-4"}),(0,a.jsx)(r,{width:"w-4/5",height:"h-4"}),(0,a.jsx)(r,{width:"w-3/4",height:"h-4"}),(0,a.jsx)(r,{width:"w-2/3",height:"h-4"})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(r,{width:"w-20",height:"h-8",className:"rounded-lg"}),(0,a.jsx)(r,{width:"w-16",height:"h-6",className:"rounded"})]}),(0,a.jsx)(r,{width:"w-12",height:"h-3"})]})]})})})},n=()=>(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 h-[280px] flex flex-col animate-pulse",children:(0,a.jsxs)("div",{className:"p-6 flex flex-col flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,a.jsx)(o,{size:"w-12 h-12"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(r,{width:"w-3/4",height:"h-5"}),(0,a.jsx)(r,{width:"w-1/2",height:"h-4"})]})]}),(0,a.jsx)(r,{width:"w-6",height:"h-6",className:"rounded"})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-3 mb-4",children:[(0,a.jsx)(r,{width:"w-full",height:"h-4"}),(0,a.jsx)(r,{width:"w-5/6",height:"h-4"}),(0,a.jsx)(r,{width:"w-4/5",height:"h-4"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)(r,{width:"w-20",height:"h-4"}),(0,a.jsx)(r,{width:"w-16",height:"h-4"})]})]})}),d=e=>{let{count:t=6}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:t},(e,t)=>(0,a.jsx)(n,{},t))})},l=()=>(0,a.jsxs)("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 animate-pulse",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(r,{width:"w-16",height:"h-8",className:"rounded-lg"}),(0,a.jsx)(r,{width:"w-32",height:"h-6"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(r,{width:"w-20",height:"h-6",className:"rounded-full"})})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[(0,a.jsx)(i,{isUser:!0}),(0,a.jsx)(i,{isUser:!1}),(0,a.jsx)(i,{isUser:!0}),(0,a.jsx)(i,{isUser:!1})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(r,{width:"flex-1",height:"h-12",className:"rounded-lg"}),(0,a.jsx)(r,{width:"w-12",height:"h-12",className:"rounded-lg"})]})})]})}}]);
//# sourceMappingURL=58.f340fbc8.chunk.js.map