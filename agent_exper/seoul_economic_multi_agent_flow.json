{
  "name": "seoul-economic-title-generator-flow",
  "description": "서울경제신문 제목 생성을 위한 멀티-에이전트 Flow - 5개의 프롬프트 카드가 병렬로 실행됩니다",
  "tags": {
    "Environment": "production",
    "Project": "seoul-economic-title-generator",
    "Type": "multi-agent-parallel"
  },
  "definition": {
    "connections": [
      {
        "configuration": {
          "data": {
            "sourceOutput": "userInput",
            "targetInput": "agentInputText"
          }
        },
        "name": "InputToAgent1",
        "source": "FlowInputNode",
        "target": "PlannerAgent",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "userInput",
            "targetInput": "agentInputText"
          }
        },
        "name": "InputToAgent2",
        "source": "FlowInputNode",
        "target": "JournalistAgent",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "userInput",
            "targetInput": "agentInputText"
          }
        },
        "name": "InputToAgent3",
        "source": "FlowInputNode",
        "target": "SEOExpertAgent",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "userInput",
            "targetInput": "agentInputText"
          }
        },
        "name": "InputToAgent4",
        "source": "FlowInputNode",
        "target": "SocialStrategistAgent",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "userInput",
            "targetInput": "agentInputText"
          }
        },
        "name": "InputToAgent5",
        "source": "FlowInputNode",
        "target": "DataAnalystAgent",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "agentResponse",
            "targetInput": "plannerResult"
          }
        },
        "name": "PlannerToCollector",
        "source": "PlannerAgent",
        "target": "ResultCollectorNode",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "agentResponse",
            "targetInput": "journalistResult"
          }
        },
        "name": "JournalistToCollector",
        "source": "JournalistAgent",
        "target": "ResultCollectorNode",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "agentResponse",
            "targetInput": "seoResult"
          }
        },
        "name": "SEOToCollector",
        "source": "SEOExpertAgent",
        "target": "ResultCollectorNode",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "agentResponse",
            "targetInput": "socialResult"
          }
        },
        "name": "SocialToCollector",
        "source": "SocialStrategistAgent",
        "target": "ResultCollectorNode",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "agentResponse",
            "targetInput": "dataAnalystResult"
          }
        },
        "name": "DataAnalystToCollector",
        "source": "DataAnalystAgent",
        "target": "ResultCollectorNode",
        "type": "Data"
      },
      {
        "configuration": {
          "data": {
            "sourceOutput": "combinedResults",
            "targetInput": "document"
          }
        },
        "name": "CollectorToOutput",
        "source": "ResultCollectorNode",
        "target": "FlowOutputNode",
        "type": "Data"
      }
    ],
    "nodes": [
      {
        "configuration": {
          "input": {}
        },
        "name": "FlowInputNode",
        "outputs": [
          {
            "name": "userInput",
            "type": "String"
          }
        ],
        "type": "Input"
      },
      {
        "configuration": {
          "agent": {
            "agentAliasArn": "$$PLANNER_AGENT_ALIAS_ARN"
          }
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "agentInputText",
            "type": "String"
          }
        ],
        "name": "PlannerAgent",
        "outputs": [
          {
            "name": "agentResponse",
            "type": "String"
          }
        ],
        "type": "Agent"
      },
      {
        "configuration": {
          "agent": {
            "agentAliasArn": "$$JOURNALIST_AGENT_ALIAS_ARN"
          }
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "agentInputText",
            "type": "String"
          }
        ],
        "name": "JournalistAgent",
        "outputs": [
          {
            "name": "agentResponse",
            "type": "String"
          }
        ],
        "type": "Agent"
      },
      {
        "configuration": {
          "agent": {
            "agentAliasArn": "$$SEO_EXPERT_AGENT_ALIAS_ARN"
          }
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "agentInputText",
            "type": "String"
          }
        ],
        "name": "SEOExpertAgent",
        "outputs": [
          {
            "name": "agentResponse",
            "type": "String"
          }
        ],
        "type": "Agent"
      },
      {
        "configuration": {
          "agent": {
            "agentAliasArn": "$$SOCIAL_STRATEGIST_AGENT_ALIAS_ARN"
          }
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "agentInputText",
            "type": "String"
          }
        ],
        "name": "SocialStrategistAgent",
        "outputs": [
          {
            "name": "agentResponse",
            "type": "String"
          }
        ],
        "type": "Agent"
      },
      {
        "configuration": {
          "agent": {
            "agentAliasArn": "$$DATA_ANALYST_AGENT_ALIAS_ARN"
          }
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "agentInputText",
            "type": "String"
          }
        ],
        "name": "DataAnalystAgent",
        "outputs": [
          {
            "name": "agentResponse",
            "type": "String"
          }
        ],
        "type": "Agent"
      },
      {
        "configuration": {
          "prompt": {
            "sourceConfiguration": {
              "inline": {
                "modelId": "anthropic.claude-3-5-sonnet-20241022-v2:0",
                "templateType": "TEXT",
                "templateConfiguration": {
                  "text": {
                    "text": "다음은 5명의 에이전트로부터 받은 제목 제안입니다:\n\n플래너: {{plannerResult}}\n저널리스트: {{journalistResult}}\nSEO 전문가: {{seoResult}}\n소셜 전략가: {{socialResult}}\n데이터 분석가: {{dataAnalystResult}}\n\n이 결과들을 종합하여 서울경제신문에 적합한 최종 제목들을 생성해주세요."
                  }
                }
              }
            }
          }
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "plannerResult",
            "type": "String"
          },
          {
            "expression": "$.data",
            "name": "journalistResult",
            "type": "String"
          },
          {
            "expression": "$.data",
            "name": "seoResult",
            "type": "String"
          },
          {
            "expression": "$.data",
            "name": "socialResult",
            "type": "String"
          },
          {
            "expression": "$.data",
            "name": "dataAnalystResult",
            "type": "String"
          }
        ],
        "name": "ResultCollectorNode",
        "outputs": [
          {
            "name": "combinedResults",
            "type": "String"
          }
        ],
        "type": "Prompt"
      },
      {
        "configuration": {
          "output": {}
        },
        "inputs": [
          {
            "expression": "$.data",
            "name": "document",
            "type": "String"
          }
        ],
        "name": "FlowOutputNode",
        "type": "Output"
      }
    ]
  }
}