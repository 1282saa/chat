{"ast":null,"code":"import React from'react';import{motion,AnimatePresence}from'framer-motion';import ReactMarkdown from'react-markdown';import{ClipboardDocumentIcon,CheckCircleIcon,DocumentDuplicateIcon,ExclamationTriangleIcon}from'@heroicons/react/24/outline';import{ChatMessageSkeleton}from'./skeleton/SkeletonComponents';// 스트리밍 표시 컴포넌트\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnimatedStreamingIndicator=()=>{return/*#__PURE__*/_jsxs(motion.div,{className:\"inline-flex items-center mt-2 px-2 py-1 bg-blue-50 dark:bg-blue-900 rounded-lg text-blue-600 dark:text-blue-400 text-xs font-medium\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},transition:{duration:0.3},children:[/*#__PURE__*/_jsxs(motion.div,{className:\"relative h-2 w-2 mr-2\",animate:{scale:[1,1.2,1]},transition:{repeat:Infinity,duration:1.5},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute animate-ping h-2 w-2 rounded-full bg-blue-400 opacity-75\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute h-2 w-2 rounded-full bg-blue-600 dark:bg-blue-400\"})]}),/*#__PURE__*/_jsx(motion.span,{animate:{opacity:[0.5,1,0.5]},transition:{repeat:Infinity,duration:2},children:\"\\uC2A4\\uD2B8\\uB9AC\\uBC0D \\uC911...\"})]});};// 간단한 로딩 표시\nconst AnimatedLoadingIndicator=()=>{return/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center text-blue-600 dark:text-blue-400 text-sm\",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.4},children:[/*#__PURE__*/_jsx(motion.div,{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 dark:border-blue-400 mr-2\",animate:{rotate:360},transition:{repeat:Infinity,duration:1}}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB2F5\\uBCC0 \\uC0DD\\uC131 \\uC911...\"})]});};// 오류 상세 정보 표시 컴포넌트\nconst AnimatedErrorDetails=_ref=>{let{errorDetails}=_ref;if(!errorDetails)return null;return/*#__PURE__*/_jsxs(motion.div,{className:\"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800\",initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},transition:{duration:0.3},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-red-700 dark:text-red-400 mb-2\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uC624\\uB958 \\uC0C1\\uC138 \\uC815\\uBCF4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-red-600 dark:text-red-400 space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uC720\\uD615:\"}),\" \",errorDetails.type]}),errorDetails.status&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uC0C1\\uD0DC:\"}),\" \",errorDetails.status]}),errorDetails.message&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uBA54\\uC2DC\\uC9C0:\"}),\" \",errorDetails.message]})]})]});};const AnimatedChatMessage=_ref2=>{var _message$timestamp,_message$timestamp2;let{message,onCopyMessage,onCopyTitle,copiedMessage}=_ref2;const isUser=message.type==='user';const messageVariants={initial:{opacity:0,y:20,scale:0.95},animate:{opacity:1,y:0,scale:1,transition:{type:\"spring\",stiffness:300,damping:25,staggerChildren:0.1}}};const contentVariants={initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{type:\"spring\",stiffness:300,damping:25}}};const buttonVariants={initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1,transition:{type:\"spring\",stiffness:400,damping:20}},hover:{scale:1.05,transition:{type:\"spring\",stiffness:400,damping:20}},tap:{scale:0.95,transition:{type:\"spring\",stiffness:600,damping:30}}};return/*#__PURE__*/_jsx(motion.div,{className:`group relative ${isUser?'ml-8':'mr-8'} mb-6`,variants:messageVariants,initial:\"initial\",animate:\"animate\",children:/*#__PURE__*/_jsx(\"div\",{className:`flex ${isUser?'justify-end':'justify-start'}`,children:isUser?/*#__PURE__*/// 사용자 메시지 - 디자인된 박스\n_jsxs(motion.div,{className:\"max-w-[85%] rounded-lg px-6 py-4 bg-blue-600 dark:bg-blue-700 text-white\",variants:contentVariants,whileHover:{scale:1.01},transition:{type:\"spring\",stiffness:300,damping:25},children:[/*#__PURE__*/_jsx(motion.div,{className:\"text-base font-medium whitespace-pre-wrap leading-relaxed\",variants:contentVariants,children:message.content}),/*#__PURE__*/_jsx(motion.div,{className:\"text-xs mt-3 font-medium text-blue-100 dark:text-blue-200\",variants:contentVariants,children:((_message$timestamp=message.timestamp)===null||_message$timestamp===void 0?void 0:_message$timestamp.toLocaleTimeString())||''})]}):/*#__PURE__*/// AI 메시지 - 박스 없이 깔끔하게\n_jsxs(motion.div,{className:\"max-w-[85%] w-full\",variants:contentVariants,children:[/*#__PURE__*/_jsx(motion.div,{className:\"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200\",variants:contentVariants,children:message.isError?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.4},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 dark:text-red-400 text-base\",children:message.content}),/*#__PURE__*/_jsx(AnimatedErrorDetails,{errorDetails:message.errorDetails})]}):message.isLoading?/*#__PURE__*/_jsx(\"div\",{children:message.isStreaming?/*#__PURE__*/// 스트리밍 메시지 표시\n_jsxs(\"div\",{children:[message.content?/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-base max-w-none prose-headings:text-gray-900 dark:prose-headings:text-white prose-p:text-gray-800 dark:prose-p:text-gray-200 prose-strong:text-gray-900 dark:prose-strong:text-white prose-ul:text-gray-800 dark:prose-ul:text-gray-200 prose-li:text-gray-800 dark:prose-li:text-gray-200 prose-code:text-gray-800 dark:prose-code:text-gray-200 prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:message.content})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-600 dark:text-blue-400 text-base font-medium\",children:\"\\uC751\\uB2F5\\uC744 \\uC0DD\\uC131\\uD558\\uB294 \\uC911...\"}),/*#__PURE__*/_jsx(AnimatedStreamingIndicator,{})]}):/*#__PURE__*/// 스켈레톤 UI 표시\n_jsx(ChatMessageSkeleton,{isUser:false})}):/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-base max-w-none prose-headings:text-gray-900 dark:prose-headings:text-white prose-p:text-gray-800 dark:prose-p:text-gray-200 prose-strong:text-gray-900 dark:prose-strong:text-white prose-ul:text-gray-800 dark:prose-ul:text-gray-200 prose-li:text-gray-800 dark:prose-li:text-gray-200 prose-code:text-gray-800 dark:prose-code:text-gray-200 prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:message.content})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:message.titles&&/*#__PURE__*/_jsx(motion.div,{className:\"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700\",initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},transition:{duration:0.3},children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:message.titles.map((title,index)=>/*#__PURE__*/_jsxs(motion.button,{onClick:()=>onCopyTitle(title,message.id,index),className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${copiedMessage===`${message.id}_title_${index}`?'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-700':'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600'}`,variants:buttonVariants,initial:\"initial\",animate:\"animate\",whileHover:\"hover\",whileTap:\"tap\",custom:index,children:[/*#__PURE__*/_jsx(motion.div,{animate:copiedMessage===`${message.id}_title_${index}`?{scale:[1,1.2,1]}:{},transition:{duration:0.3},children:copiedMessage===`${message.id}_title_${index}`?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-3 w-3 mr-1\"}):/*#__PURE__*/_jsx(DocumentDuplicateIcon,{className:\"h-3 w-3 mr-1\"})}),\"\\uC81C\\uBAA9 \",index+1,\" \\uBCF5\\uC0AC\"]},index))})})}),!message.isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(motion.button,{onClick:()=>onCopyMessage(message.content,message.id),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${copiedMessage===message.id?'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-700':'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600'}`,variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:[/*#__PURE__*/_jsx(motion.div,{animate:copiedMessage===message.id?{scale:[1,1.2,1]}:{},transition:{duration:0.3},children:copiedMessage===message.id?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 mr-2\"}):/*#__PURE__*/_jsx(ClipboardDocumentIcon,{className:\"h-4 w-4 mr-2\"})}),copiedMessage===message.id?'복사됨!':'복사하기']}),message.performance_metrics&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 px-2 py-1 rounded\",children:[\"\\uCC98\\uB9AC\\uC2DC\\uAC04: \",message.performance_metrics.total_time,\"\\uCD08\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:((_message$timestamp2=message.timestamp)===null||_message$timestamp2===void 0?void 0:_message$timestamp2.toLocaleTimeString())||''})]})]})})});};export default AnimatedChatMessage;","map":{"version":3,"names":["React","motion","AnimatePresence","ReactMarkdown","ClipboardDocumentIcon","CheckCircleIcon","DocumentDuplicateIcon","ExclamationTriangleIcon","ChatMessageSkeleton","jsx","_jsx","jsxs","_jsxs","AnimatedStreamingIndicator","div","className","initial","opacity","scale","animate","transition","duration","children","repeat","Infinity","span","AnimatedLoadingIndicator","x","rotate","AnimatedErrorDetails","_ref","errorDetails","height","type","status","message","AnimatedChatMessage","_ref2","_message$timestamp","_message$timestamp2","onCopyMessage","onCopyTitle","copiedMessage","isUser","messageVariants","y","stiffness","damping","staggerChildren","contentVariants","buttonVariants","hover","tap","variants","whileHover","content","timestamp","toLocaleTimeString","isError","isLoading","isStreaming","titles","exit","map","title","index","button","onClick","id","whileTap","custom","performance_metrics","total_time"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기(수)_완성본_스트리밍구현 복사본/frontend/src/components/AnimatedChatMessage.js"],"sourcesContent":["import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport ReactMarkdown from 'react-markdown';\nimport {\n  ClipboardDocumentIcon,\n  CheckCircleIcon,\n  DocumentDuplicateIcon,\n  ExclamationTriangleIcon,\n} from '@heroicons/react/24/outline';\nimport { ChatMessageSkeleton } from './skeleton/SkeletonComponents';\n\n// 스트리밍 표시 컴포넌트\nconst AnimatedStreamingIndicator = () => {\n  return (\n    <motion.div \n      className=\"inline-flex items-center mt-2 px-2 py-1 bg-blue-50 dark:bg-blue-900 rounded-lg text-blue-600 dark:text-blue-400 text-xs font-medium\"\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.3 }}\n    >\n      <motion.div \n        className=\"relative h-2 w-2 mr-2\"\n        animate={{ scale: [1, 1.2, 1] }}\n        transition={{ repeat: Infinity, duration: 1.5 }}\n      >\n        <div className=\"absolute animate-ping h-2 w-2 rounded-full bg-blue-400 opacity-75\"></div>\n        <div className=\"absolute h-2 w-2 rounded-full bg-blue-600 dark:bg-blue-400\"></div>\n      </motion.div>\n      <motion.span\n        animate={{ opacity: [0.5, 1, 0.5] }}\n        transition={{ repeat: Infinity, duration: 2 }}\n      >\n        스트리밍 중...\n      </motion.span>\n    </motion.div>\n  );\n};\n\n// 간단한 로딩 표시\nconst AnimatedLoadingIndicator = () => {\n  return (\n    <motion.div \n      className=\"flex items-center text-blue-600 dark:text-blue-400 text-sm\"\n      initial={{ opacity: 0, x: -20 }}\n      animate={{ opacity: 1, x: 0 }}\n      transition={{ duration: 0.4 }}\n    >\n      <motion.div \n        className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 dark:border-blue-400 mr-2\"\n        animate={{ rotate: 360 }}\n        transition={{ repeat: Infinity, duration: 1 }}\n      />\n      <span>답변 생성 중...</span>\n    </motion.div>\n  );\n};\n\n// 오류 상세 정보 표시 컴포넌트\nconst AnimatedErrorDetails = ({ errorDetails }) => {\n  if (!errorDetails) return null;\n\n  return (\n    <motion.div \n      className=\"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800\"\n      initial={{ opacity: 0, height: 0 }}\n      animate={{ opacity: 1, height: 'auto' }}\n      transition={{ duration: 0.3 }}\n    >\n      <div className=\"flex items-center text-sm text-red-700 dark:text-red-400 mb-2\">\n        <ExclamationTriangleIcon className=\"h-4 w-4 mr-2\" />\n        <span className=\"font-medium\">오류 상세 정보</span>\n      </div>\n      <div className=\"text-xs text-red-600 dark:text-red-400 space-y-1\">\n        <div>\n          <span className=\"font-medium\">유형:</span> {errorDetails.type}\n        </div>\n        {errorDetails.status && (\n          <div>\n            <span className=\"font-medium\">상태:</span> {errorDetails.status}\n          </div>\n        )}\n        {errorDetails.message && (\n          <div>\n            <span className=\"font-medium\">메시지:</span> {errorDetails.message}\n          </div>\n        )}\n      </div>\n    </motion.div>\n  );\n};\n\nconst AnimatedChatMessage = ({\n  message,\n  onCopyMessage,\n  onCopyTitle,\n  copiedMessage,\n}) => {\n  const isUser = message.type === 'user';\n\n  const messageVariants = {\n    initial: { \n      opacity: 0, \n      y: 20,\n      scale: 0.95\n    },\n    animate: { \n      opacity: 1, \n      y: 0,\n      scale: 1,\n      transition: {\n        type: \"spring\",\n        stiffness: 300,\n        damping: 25,\n        staggerChildren: 0.1\n      }\n    }\n  };\n\n  const contentVariants = {\n    initial: { opacity: 0, y: 10 },\n    animate: { \n      opacity: 1, \n      y: 0,\n      transition: {\n        type: \"spring\",\n        stiffness: 300,\n        damping: 25\n      }\n    }\n  };\n\n  const buttonVariants = {\n    initial: { opacity: 0, scale: 0.8 },\n    animate: { \n      opacity: 1, \n      scale: 1,\n      transition: {\n        type: \"spring\",\n        stiffness: 400,\n        damping: 20\n      }\n    },\n    hover: { \n      scale: 1.05,\n      transition: {\n        type: \"spring\",\n        stiffness: 400,\n        damping: 20\n      }\n    },\n    tap: { \n      scale: 0.95,\n      transition: {\n        type: \"spring\",\n        stiffness: 600,\n        damping: 30\n      }\n    }\n  };\n\n  return (\n    <motion.div \n      className={`group relative ${isUser ? 'ml-8' : 'mr-8'} mb-6`}\n      variants={messageVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n    >\n      <div className={`flex ${isUser ? 'justify-end' : 'justify-start'}`}>\n        {isUser ? (\n          // 사용자 메시지 - 디자인된 박스\n          <motion.div \n            className=\"max-w-[85%] rounded-lg px-6 py-4 bg-blue-600 dark:bg-blue-700 text-white\"\n            variants={contentVariants}\n            whileHover={{ scale: 1.01 }}\n            transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n          >\n            <motion.div \n              className=\"text-base font-medium whitespace-pre-wrap leading-relaxed\"\n              variants={contentVariants}\n            >\n              {message.content}\n            </motion.div>\n            <motion.div \n              className=\"text-xs mt-3 font-medium text-blue-100 dark:text-blue-200\"\n              variants={contentVariants}\n            >\n              {message.timestamp?.toLocaleTimeString() || ''}\n            </motion.div>\n          </motion.div>\n        ) : (\n          // AI 메시지 - 박스 없이 깔끔하게\n          <motion.div \n            className=\"max-w-[85%] w-full\"\n            variants={contentVariants}\n          >\n            {/* AI 응답 내용 */}\n            <motion.div \n              className=\"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200\"\n              variants={contentVariants}\n            >\n              {message.isError ? (\n                <motion.div\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.4 }}\n                >\n                  <div className=\"text-red-600 dark:text-red-400 text-base\">\n                    {message.content}\n                  </div>\n                  <AnimatedErrorDetails errorDetails={message.errorDetails} />\n                </motion.div>\n              ) : message.isLoading ? (\n                <div>\n                  {message.isStreaming ? (\n                    // 스트리밍 메시지 표시\n                    <div>\n                      {message.content ? (\n                        <div \n                          className=\"prose prose-base max-w-none prose-headings:text-gray-900 dark:prose-headings:text-white prose-p:text-gray-800 dark:prose-p:text-gray-200 prose-strong:text-gray-900 dark:prose-strong:text-white prose-ul:text-gray-800 dark:prose-ul:text-gray-200 prose-li:text-gray-800 dark:prose-li:text-gray-200 prose-code:text-gray-800 dark:prose-code:text-gray-200 prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800\"\n                        >\n                          <ReactMarkdown>{message.content}</ReactMarkdown>\n                        </div>\n                      ) : (\n                        <div className=\"text-blue-600 dark:text-blue-400 text-base font-medium\">\n                          응답을 생성하는 중...\n                        </div>\n                      )}\n                      <AnimatedStreamingIndicator />\n                    </div>\n                  ) : (\n                    // 스켈레톤 UI 표시\n                    <ChatMessageSkeleton isUser={false} />\n                  )}\n                </div>\n              ) : (\n                <div \n                  className=\"prose prose-base max-w-none prose-headings:text-gray-900 dark:prose-headings:text-white prose-p:text-gray-800 dark:prose-p:text-gray-200 prose-strong:text-gray-900 dark:prose-strong:text-white prose-ul:text-gray-800 dark:prose-ul:text-gray-200 prose-li:text-gray-800 dark:prose-li:text-gray-200 prose-code:text-gray-800 dark:prose-code:text-gray-200 prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800\"\n                >\n                  <ReactMarkdown>{message.content}</ReactMarkdown>\n                </div>\n              )}\n            </motion.div>\n\n            {/* 제목 복사 버튼들 */}\n            <AnimatePresence>\n              {message.titles && (\n                <motion.div \n                  className=\"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700\"\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  transition={{ duration: 0.3 }}\n                >\n                  <div className=\"flex flex-wrap gap-2\">\n                    {message.titles.map((title, index) => (\n                      <motion.button\n                        key={index}\n                        onClick={() => onCopyTitle(title, message.id, index)}\n                        className={`flex items-center px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${\n                          copiedMessage === `${message.id}_title_${index}`\n                            ? 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-700'\n                            : 'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600'\n                        }`}\n                        variants={buttonVariants}\n                        initial=\"initial\"\n                        animate=\"animate\"\n                        whileHover=\"hover\"\n                        whileTap=\"tap\"\n                        custom={index}\n                      >\n                        <motion.div\n                          animate={copiedMessage === `${message.id}_title_${index}` ? { scale: [1, 1.2, 1] } : {}}\n                          transition={{ duration: 0.3 }}\n                        >\n                          {copiedMessage === `${message.id}_title_${index}` ? (\n                            <CheckCircleIcon className=\"h-3 w-3 mr-1\" />\n                          ) : (\n                            <DocumentDuplicateIcon className=\"h-3 w-3 mr-1\" />\n                          )}\n                        </motion.div>\n                        제목 {index + 1} 복사\n                      </motion.button>\n                    ))}\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            {/* 복사 버튼 및 성능 정보 표시 */}\n            {!message.isLoading && (\n              <div \n                className=\"mt-4 flex items-center justify-between\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  {/* 복사 버튼 */}\n                  <motion.button\n                    onClick={() => onCopyMessage(message.content, message.id)}\n                    className={`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                      copiedMessage === message.id\n                        ? 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-700'\n                        : 'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600'\n                    }`}\n                    variants={buttonVariants}\n                    whileHover=\"hover\"\n                    whileTap=\"tap\"\n                  >\n                    <motion.div\n                      animate={copiedMessage === message.id ? { scale: [1, 1.2, 1] } : {}}\n                      transition={{ duration: 0.3 }}\n                    >\n                      {copiedMessage === message.id ? (\n                        <CheckCircleIcon className=\"h-4 w-4 mr-2\" />\n                      ) : (\n                        <ClipboardDocumentIcon className=\"h-4 w-4 mr-2\" />\n                      )}\n                    </motion.div>\n                    {copiedMessage === message.id ? '복사됨!' : '복사하기'}\n                  </motion.button>\n\n                  {/* 성능 정보 표시 (AI 응답인 경우) */}\n                  {message.performance_metrics && (\n                    <div \n                      className=\"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 px-2 py-1 rounded\"\n                    >\n                      처리시간: {message.performance_metrics.total_time}초\n                    </div>\n                  )}\n                </div>\n\n                {/* 타임스탬프 */}\n                <div \n                  className=\"text-xs text-gray-500 dark:text-gray-400\"\n                >\n                  {message.timestamp?.toLocaleTimeString() || ''}\n                </div>\n              </div>\n            )}\n          </motion.div>\n        )}\n      </div>\n    </motion.div>\n  );\n};\n\nexport default AnimatedChatMessage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}