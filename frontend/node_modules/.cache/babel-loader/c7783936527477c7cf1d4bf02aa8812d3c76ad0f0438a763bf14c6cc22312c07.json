{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{ArrowLeftIcon,ChatBubbleLeftRightIcon,DocumentTextIcon,CheckCircleIcon,SparklesIcon,InformationCircleIcon,Cog6ToothIcon}from\"@heroicons/react/24/outline\";import{projectAPI,handleAPIError,promptCardAPI}from\"../services/api\";import PromptCardManager from\"./PromptCardManager\";import ChatInterface from\"./ChatInterface\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectDetail=()=>{const{projectId}=useParams();const navigate=useNavigate();const[project,setProject]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState(\"chat\");const[promptCards,setPromptCards]=useState([]);// Helper function to check if we can generate titles (for UI display purposes)\nconst canGenerate=()=>{return promptCards.length>0||true;// Always allow in chat mode\n};const loadProject=useCallback(async()=>{try{setLoading(true);setError(null);const projectData=await projectAPI.getProject(projectId);setProject(projectData);}catch(err){const errorInfo=handleAPIError(err);setError(errorInfo.message);toast.error(errorInfo.message);}finally{setLoading(false);}},[projectId]);const loadPromptCards=useCallback(async()=>{try{const response=await promptCardAPI.getPromptCards(projectId,false,true);setPromptCards(response.promptCards||[]);}catch(error){console.error(\"프롬프트 카드 로딩 실패:\",error);setPromptCards([]);}},[projectId]);useEffect(()=>{loadProject();loadPromptCards();},[loadProject,loadPromptCards]);const handleCardReorder=useCallback(async(fromIndex,toIndex)=>{const sortedCards=[...promptCards].sort((a,b)=>(a.stepOrder||0)-(b.stepOrder||0));const newCards=[...sortedCards];const[movedCard]=newCards.splice(fromIndex,1);newCards.splice(toIndex,0,movedCard);// stepOrder 업데이트\nconst updatedCards=newCards.map((card,index)=>({...card,stepOrder:index+1}));setPromptCards(updatedCards);try{// API 호출로 순서 업데이트\nawait Promise.all(updatedCards.map(card=>promptCardAPI.updatePromptCard(projectId,card.promptId,{...card,stepOrder:card.stepOrder})));toast.success(\"카드 순서가 변경되었습니다!\");}catch(error){console.error(\"카드 순서 변경 실패:\",error);toast.error(\"카드 순서 변경에 실패했습니다.\");// 실패시 원래 순서로 복원\nloadPromptCards();}},[promptCards,projectId,loadPromptCards]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uB85C\\uB529 \\uC911...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"text-blue-600 hover:underline\",children:\"\\uB3CC\\uC544\\uAC00\\uAE30\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b border-gray-200 mb-8 sticky top-0 z-30\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"flex items-center text-gray-600 hover:text-gray-900 transition-all duration-200 hover:bg-gray-100 px-3 py-2 rounded-lg group\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2 group-hover:-translate-x-1 transition-transform duration-200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA9\\uB85D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-12 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:project===null||project===void 0?void 0:project.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1 text-lg\",children:(project===null||project===void 0?void 0:project.description)||\"AI 기반 제목 생성 프로젝트\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-blue-200 rounded-xl p-6 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:promptCards.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-500 font-medium\",children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\uD65C\\uC131 \\uCE74\\uB4DC\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-blue-600\",children:[promptCards.filter(card=>card.enabled!==false).length,\"\\uAC1C\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-green-200 rounded-xl p-6 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-600\",children:canGenerate()?\"준비\":\"대기\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-500 font-medium\",children:\"\\uC0DD\\uC131 \\uC0C1\\uD0DC\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:canGenerate()?\"제목 생성 가능\":\"프롬프트 카드 필요\"}),/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full ${canGenerate()?'bg-green-400':'bg-yellow-400'}`})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-purple-200 rounded-xl p-6 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(SparklesIcon,{className:\"h-6 w-6 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-purple-600\",children:\"Claude 3.5\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-500 font-medium\",children:\"AI \\uBAA8\\uB378\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\uCD5C\\uACE0 \\uC131\\uB2A5 \\uBAA8\\uB378\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 bg-purple-400 rounded-full\"},i))})]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/70 backdrop-blur-sm rounded-2xl p-2 shadow-sm border border-gray-200/50\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"chat\"),className:`flex items-center px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 ${activeTab===\"chat\"?\"bg-blue-600 text-white shadow-md shadow-blue-600/25\":\"text-gray-600 hover:text-gray-900 hover:bg-gray-100/70\"}`,children:[/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AI \\uB300\\uD654\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"prompt-cards\"),className:`flex items-center px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 ${activeTab===\"prompt-cards\"?\"bg-blue-600 text-white shadow-md shadow-blue-600/25\":\"text-gray-600 hover:text-gray-900 hover:bg-gray-100/70\"}`,children:[/*#__PURE__*/_jsx(Cog6ToothIcon,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uC124\\uC815\"}),/*#__PURE__*/_jsx(\"span\",{className:`ml-3 px-2 py-1 text-xs rounded-full font-semibold ${activeTab===\"prompt-cards\"?\"bg-white/20 text-white\":\"bg-blue-100 text-blue-600\"}`,children:promptCards.length})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[activeTab===\"chat\"&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200/50 rounded-2xl p-6 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-xl\",children:/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-900 mb-2\",children:\"AI \\uB300\\uD654\\uD615 \\uC81C\\uBAA9 \\uC0DD\\uC131\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-800 leading-relaxed\",children:\"ChatGPT\\uB098 Claude\\uCC98\\uB7FC AI\\uC640 \\uB300\\uD654\\uD558\\uBA70 \\uC81C\\uBAA9\\uC744 \\uC0DD\\uC131\\uD558\\uACE0 \\uC218\\uC815\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uAE30\\uC0AC \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uAC70\\uB098 \\uAE30\\uC874 \\uC81C\\uBAA9 \\uC218\\uC815\\uC744 \\uC694\\uCCAD\\uD558\\uBA70 \\uC5F0\\uC18D\\uC801\\uC73C\\uB85C \\uB300\\uD654\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})]})}),activeTab===\"prompt-cards\"&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-2xl p-6 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-xl\",children:/*#__PURE__*/_jsx(Cog6ToothIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-900 mb-2\",children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uC124\\uC815 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-800 leading-relaxed\",children:\"AI\\uAC00 \\uB300\\uD654\\uD560 \\uB54C \\uC0AC\\uC6A9\\uD560 \\uC9C0\\uCE68\\uACFC \\uADDC\\uCE59\\uC744 \\uCE74\\uB4DC \\uD615\\uD0DC\\uB85C \\uAD00\\uB9AC\\uD569\\uB2C8\\uB2E4. \\uCE74\\uB4DC\\uC758 \\uC21C\\uC11C\\uB97C \\uB4DC\\uB798\\uADF8\\uC564\\uB4DC\\uB86D\\uC73C\\uB85C \\uC870\\uC815\\uD558\\uACE0 \\uD65C\\uC131/\\uBE44\\uD65C\\uC131\\uC744 \\uC124\\uC815\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",children:[activeTab===\"prompt-cards\"&&/*#__PURE__*/_jsx(PromptCardManager,{projectId:projectId,onCardsChanged:loadPromptCards}),activeTab===\"chat\"&&/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-300px)]\",children:/*#__PURE__*/_jsx(ChatInterface,{projectId:projectId,projectName:project===null||project===void 0?void 0:project.name})})]})]})]});};// 프롬프트 카드 미니 컴포넌트\nconst PromptCardMini=_ref=>{var _card$category;let{card,index,total,onReorder}=_ref;const[isDragging,setIsDragging]=useState(false);const getCategoryIcon=category=>{switch(category){case\"instruction\":return\"📋\";case\"knowledge\":return\"📚\";case\"summary\":return\"📝\";case\"style_guide\":return\"🎨\";case\"validation\":return\"✅\";case\"enhancement\":return\"✨\";default:return\"📄\";}};const getCategoryColor=category=>{switch(category){case\"instruction\":return\"blue\";case\"knowledge\":return\"green\";case\"summary\":return\"purple\";case\"style_guide\":return\"pink\";case\"validation\":return\"orange\";case\"enhancement\":return\"indigo\";default:return\"gray\";}};const categoryColor=getCategoryColor(card.category);const handleDragStart=e=>{setIsDragging(true);e.dataTransfer.setData(\"text/plain\",index.toString());e.dataTransfer.effectAllowed=\"move\";};const handleDragOver=e=>{e.preventDefault();e.dataTransfer.dropEffect=\"move\";};const handleDrop=e=>{e.preventDefault();const draggedIndex=parseInt(e.dataTransfer.getData(\"text/plain\"));if(draggedIndex!==index&&onReorder){onReorder(draggedIndex,index);}};const handleDragEnd=()=>{setIsDragging(false);};return/*#__PURE__*/_jsx(\"div\",{draggable:true,onDragStart:handleDragStart,onDragOver:handleDragOver,onDrop:handleDrop,onDragEnd:handleDragEnd,className:`p-3 rounded-lg border transition-all duration-200 cursor-move ${isDragging?\"opacity-50 scale-95\":\"\"} ${card.enabled!==false?`bg-${categoryColor}-50 border-${categoryColor}-200 hover:bg-${categoryColor}-100`:\"bg-gray-50 border-gray-200 opacity-60\"}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 flex-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg flex-shrink-0\",children:getCategoryIcon(card.category)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-500 bg-white px-2 py-0.5 rounded-full\",children:card.stepOrder||index+1}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${card.enabled!==false?`bg-${categoryColor}-100 text-${categoryColor}-700`:\"bg-gray-100 text-gray-500\"}`,children:(_card$category=card.category)===null||_card$category===void 0?void 0:_card$category.replace('_',' ').toUpperCase()})]}),/*#__PURE__*/_jsx(\"h4\",{className:`text-sm font-medium truncate ${card.enabled!==false?\"text-gray-900\":\"text-gray-500\"}`,children:card.title||`${card.category} 카드`}),card.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 truncate mt-1\",children:card.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[card.enabled!==false?/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4 text-green-500 flex-shrink-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded-full bg-gray-300 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zM10 17a1 1 0 01-.707-.293l-3-3a1 1 0 011.414-1.414L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3A1 1 0 0110 17z\"})})})]})]})});};export default ProjectDetail;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","toast","ArrowLeftIcon","ChatBubbleLeftRightIcon","DocumentTextIcon","CheckCircleIcon","SparklesIcon","InformationCircleIcon","Cog6ToothIcon","projectAPI","handleAPIError","promptCardAPI","PromptCardManager","ChatInterface","jsx","_jsx","jsxs","_jsxs","ProjectDetail","projectId","navigate","project","setProject","loading","setLoading","error","setError","activeTab","setActiveTab","promptCards","setPromptCards","canGenerate","length","loadProject","projectData","getProject","err","errorInfo","message","loadPromptCards","response","getPromptCards","console","handleCardReorder","fromIndex","toIndex","sortedCards","sort","a","b","stepOrder","newCards","movedCard","splice","updatedCards","map","card","index","Promise","all","updatePromptCard","promptId","success","className","children","onClick","name","description","filter","enabled","Array","_","i","onCardsChanged","projectName","PromptCardMini","_ref","_card$category","total","onReorder","isDragging","setIsDragging","getCategoryIcon","category","getCategoryColor","categoryColor","handleDragStart","e","dataTransfer","setData","toString","effectAllowed","handleDragOver","preventDefault","dropEffect","handleDrop","draggedIndex","parseInt","getData","handleDragEnd","draggable","onDragStart","onDragOver","onDrop","onDragEnd","replace","toUpperCase","title","fill","viewBox","d"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/ProjectDetail.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  ArrowLeftIcon,\n  ChatBubbleLeftRightIcon,\n  DocumentTextIcon,\n  CheckCircleIcon,\n  SparklesIcon,\n  InformationCircleIcon,\n  Cog6ToothIcon,\n} from \"@heroicons/react/24/outline\";\nimport {\n  projectAPI,\n  handleAPIError,\n  promptCardAPI,\n} from \"../services/api\";\nimport PromptCardManager from \"./PromptCardManager\";\nimport ChatInterface from \"./ChatInterface\";\n\nconst ProjectDetail = () => {\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n\n  const [project, setProject] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [promptCards, setPromptCards] = useState([]);\n\n  // Helper function to check if we can generate titles (for UI display purposes)\n  const canGenerate = () => {\n    return promptCards.length > 0 || true; // Always allow in chat mode\n  };\n\n  const loadProject = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const projectData = await projectAPI.getProject(projectId);\n      setProject(projectData);\n    } catch (err) {\n      const errorInfo = handleAPIError(err);\n      setError(errorInfo.message);\n      toast.error(errorInfo.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  const loadPromptCards = useCallback(async () => {\n    try {\n      const response = await promptCardAPI.getPromptCards(\n        projectId,\n        false,\n        true\n      );\n      setPromptCards(response.promptCards || []);\n    } catch (error) {\n      console.error(\"프롬프트 카드 로딩 실패:\", error);\n      setPromptCards([]);\n    }\n  }, [projectId]);\n\n  useEffect(() => {\n    loadProject();\n    loadPromptCards();\n  }, [loadProject, loadPromptCards]);\n\n  const handleCardReorder = useCallback(async (fromIndex, toIndex) => {\n    const sortedCards = [...promptCards].sort((a, b) => (a.stepOrder || 0) - (b.stepOrder || 0));\n    const newCards = [...sortedCards];\n    const [movedCard] = newCards.splice(fromIndex, 1);\n    newCards.splice(toIndex, 0, movedCard);\n\n    // stepOrder 업데이트\n    const updatedCards = newCards.map((card, index) => ({\n      ...card,\n      stepOrder: index + 1\n    }));\n\n    setPromptCards(updatedCards);\n\n    try {\n      // API 호출로 순서 업데이트\n      await Promise.all(\n        updatedCards.map(card => \n          promptCardAPI.updatePromptCard(projectId, card.promptId, {\n            ...card,\n            stepOrder: card.stepOrder\n          })\n        )\n      );\n      toast.success(\"카드 순서가 변경되었습니다!\");\n    } catch (error) {\n      console.error(\"카드 순서 변경 실패:\", error);\n      toast.error(\"카드 순서 변경에 실패했습니다.\");\n      // 실패시 원래 순서로 복원\n      loadPromptCards();\n    }\n  }, [promptCards, projectId, loadPromptCards]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">프로젝트 로딩 중...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-red-600 mb-4\">{error}</p>\n          <button\n            onClick={() => navigate(-1)}\n            className=\"text-blue-600 hover:underline\"\n          >\n            돌아가기\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* 헤더 */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200 mb-8 sticky top-0 z-30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-6\">\n              <button\n                onClick={() => navigate(-1)}\n                className=\"flex items-center text-gray-600 hover:text-gray-900 transition-all duration-200 hover:bg-gray-100 px-3 py-2 rounded-lg group\"\n              >\n                <ArrowLeftIcon className=\"h-5 w-5 mr-2 group-hover:-translate-x-1 transition-transform duration-200\" />\n                <span className=\"font-medium\">프로젝트 목록</span>\n              </button>\n\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"w-1 h-12 bg-blue-500 rounded-full\"></div>\n                <div>\n                  <h1 className=\"text-3xl font-bold text-gray-900\">\n                    {project?.name}\n                  </h1>\n                  <p className=\"text-gray-600 mt-1 text-lg\">\n                    {project?.description || \"AI 기반 제목 생성 프로젝트\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* 프로젝트 상태 정보 */}\n          <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"bg-white border border-blue-200 rounded-xl p-6 shadow-sm\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"p-3 bg-blue-100 rounded-lg\">\n                  <DocumentTextIcon className=\"h-6 w-6 text-blue-600\" />\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-3xl font-bold text-blue-600\">\n                    {promptCards.length}\n                  </p>\n                  <p className=\"text-sm text-blue-500 font-medium\">\n                    프롬프트 카드\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-600\">활성 카드</span>\n                <span className=\"text-sm font-semibold text-blue-600\">\n                  {promptCards.filter((card) => card.enabled !== false).length}개\n                </span>\n              </div>\n            </div>\n\n            <div className=\"bg-white border border-green-200 rounded-xl p-6 shadow-sm\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"p-3 bg-green-100 rounded-lg\">\n                  <CheckCircleIcon className=\"h-6 w-6 text-green-600\" />\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-3xl font-bold text-green-600\">\n                    {canGenerate() ? \"준비\" : \"대기\"}\n                  </p>\n                  <p className=\"text-sm text-green-500 font-medium\">\n                    생성 상태\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-600\">\n                  {canGenerate() ? \"제목 생성 가능\" : \"프롬프트 카드 필요\"}\n                </span>\n                <div className={`w-3 h-3 rounded-full ${canGenerate() ? 'bg-green-400' : 'bg-yellow-400'}`}></div>\n              </div>\n            </div>\n\n            <div className=\"bg-white border border-purple-200 rounded-xl p-6 shadow-sm\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"p-3 bg-purple-100 rounded-lg\">\n                  <SparklesIcon className=\"h-6 w-6 text-purple-600\" />\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-lg font-bold text-purple-600\">\n                    Claude 3.5\n                  </p>\n                  <p className=\"text-sm text-purple-500 font-medium\">\n                    AI 모델\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-600\">최고 성능 모델</span>\n                <div className=\"flex space-x-1\">\n                  {[...Array(5)].map((_, i) => (\n                    <div key={i} className=\"w-1.5 h-1.5 bg-purple-400 rounded-full\"></div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 탭 네비게이션 */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-8\">\n          <div className=\"bg-white/70 backdrop-blur-sm rounded-2xl p-2 shadow-sm border border-gray-200/50\">\n            <nav className=\"flex space-x-2\">\n              <button\n                onClick={() => setActiveTab(\"chat\")}\n                className={`flex items-center px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 ${\n                  activeTab === \"chat\"\n                    ? \"bg-blue-600 text-white shadow-md shadow-blue-600/25\"\n                    : \"text-gray-600 hover:text-gray-900 hover:bg-gray-100/70\"\n                }`}\n              >\n                <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-2\" />\n                <span>AI 대화</span>\n              </button>\n\n              <button\n                onClick={() => setActiveTab(\"prompt-cards\")}\n                className={`flex items-center px-6 py-3 rounded-xl font-medium text-sm transition-all duration-200 ${\n                  activeTab === \"prompt-cards\"\n                    ? \"bg-blue-600 text-white shadow-md shadow-blue-600/25\"\n                    : \"text-gray-600 hover:text-gray-900 hover:bg-gray-100/70\"\n                }`}\n              >\n                <Cog6ToothIcon className=\"h-5 w-5 mr-2\" />\n                <span>프롬프트 설정</span>\n                <span className={`ml-3 px-2 py-1 text-xs rounded-full font-semibold ${\n                  activeTab === \"prompt-cards\" \n                    ? \"bg-white/20 text-white\" \n                    : \"bg-blue-100 text-blue-600\"\n                }`}>\n                  {promptCards.length}\n                </span>\n              </button>\n            </nav>\n          </div>\n        </div>\n\n        {/* 탭 설명 */}\n        <div className=\"mb-8\">\n          {activeTab === \"chat\" && (\n            <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200/50 rounded-2xl p-6 backdrop-blur-sm\">\n              <div className=\"flex items-start space-x-4\">\n                <div className=\"p-3 bg-green-100 rounded-xl\">\n                  <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-green-600\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-green-900 mb-2\">\n                    AI 대화형 제목 생성\n                  </h3>\n                  <p className=\"text-green-800 leading-relaxed\">\n                    ChatGPT나 Claude처럼 AI와 대화하며 제목을 생성하고 수정할 수 있습니다. \n                    기사 내용을 입력하거나 기존 제목 수정을 요청하며 연속적으로 대화할 수 있습니다.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === \"prompt-cards\" && (\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-2xl p-6 backdrop-blur-sm\">\n              <div className=\"flex items-start space-x-4\">\n                <div className=\"p-3 bg-blue-100 rounded-xl\">\n                  <Cog6ToothIcon className=\"h-6 w-6 text-blue-600\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-blue-900 mb-2\">\n                    프롬프트 설정 관리\n                  </h3>\n                  <p className=\"text-blue-800 leading-relaxed\">\n                    AI가 대화할 때 사용할 지침과 규칙을 카드 형태로 관리합니다. \n                    카드의 순서를 드래그앤드롭으로 조정하고 활성/비활성을 설정할 수 있습니다.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* 탭 콘텐츠 */}\n        <div className=\"min-h-screen\">\n          {activeTab === \"prompt-cards\" && (\n            <PromptCardManager\n              projectId={projectId}\n              onCardsChanged={loadPromptCards}\n            />\n          )}\n\n          {activeTab === \"chat\" && (\n            <div className=\"h-[calc(100vh-300px)]\">\n              <ChatInterface\n                projectId={projectId}\n                projectName={project?.name}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 프롬프트 카드 미니 컴포넌트\nconst PromptCardMini = ({ card, index, total, onReorder }) => {\n  const [isDragging, setIsDragging] = useState(false);\n\n  const getCategoryIcon = (category) => {\n    switch (category) {\n      case \"instruction\":\n        return \"📋\";\n      case \"knowledge\":\n        return \"📚\";\n      case \"summary\":\n        return \"📝\";\n      case \"style_guide\":\n        return \"🎨\";\n      case \"validation\":\n        return \"✅\";\n      case \"enhancement\":\n        return \"✨\";\n      default:\n        return \"📄\";\n    }\n  };\n\n  const getCategoryColor = (category) => {\n    switch (category) {\n      case \"instruction\":\n        return \"blue\";\n      case \"knowledge\":\n        return \"green\";\n      case \"summary\":\n        return \"purple\";\n      case \"style_guide\":\n        return \"pink\";\n      case \"validation\":\n        return \"orange\";\n      case \"enhancement\":\n        return \"indigo\";\n      default:\n        return \"gray\";\n    }\n  };\n\n  const categoryColor = getCategoryColor(card.category);\n\n  const handleDragStart = (e) => {\n    setIsDragging(true);\n    e.dataTransfer.setData(\"text/plain\", index.toString());\n    e.dataTransfer.effectAllowed = \"move\";\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = \"move\";\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    const draggedIndex = parseInt(e.dataTransfer.getData(\"text/plain\"));\n    if (draggedIndex !== index && onReorder) {\n      onReorder(draggedIndex, index);\n    }\n  };\n\n  const handleDragEnd = () => {\n    setIsDragging(false);\n  };\n\n  return (\n    <div \n      draggable\n      onDragStart={handleDragStart}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n      onDragEnd={handleDragEnd}\n      className={`p-3 rounded-lg border transition-all duration-200 cursor-move ${\n        isDragging ? \"opacity-50 scale-95\" : \"\"\n      } ${\n        card.enabled !== false\n          ? `bg-${categoryColor}-50 border-${categoryColor}-200 hover:bg-${categoryColor}-100`\n          : \"bg-gray-50 border-gray-200 opacity-60\"\n      }`}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-start space-x-2 flex-1\">\n          <span className=\"text-lg flex-shrink-0\">\n            {getCategoryIcon(card.category)}\n          </span>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center space-x-2 mb-1\">\n              <span className=\"text-xs font-medium text-gray-500 bg-white px-2 py-0.5 rounded-full\">\n                {card.stepOrder || index + 1}\n              </span>\n              <span className={`text-xs font-medium px-2 py-0.5 rounded-full ${\n                card.enabled !== false\n                  ? `bg-${categoryColor}-100 text-${categoryColor}-700`\n                  : \"bg-gray-100 text-gray-500\"\n              }`}>\n                {card.category?.replace('_', ' ').toUpperCase()}\n              </span>\n            </div>\n            <h4 className={`text-sm font-medium truncate ${\n              card.enabled !== false ? \"text-gray-900\" : \"text-gray-500\"\n            }`}>\n              {card.title || `${card.category} 카드`}\n            </h4>\n            {card.description && (\n              <p className=\"text-xs text-gray-600 truncate mt-1\">\n                {card.description}\n              </p>\n            )}\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          {card.enabled !== false ? (\n            <CheckCircleIcon className=\"h-4 w-4 text-green-500 flex-shrink-0\" />\n          ) : (\n            <div className=\"w-4 h-4 rounded-full bg-gray-300 flex-shrink-0\"></div>\n          )}\n          <div className=\"text-gray-400\">\n            <svg className=\"h-4 w-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path d=\"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zM10 17a1 1 0 01-.707-.293l-3-3a1 1 0 011.414-1.414L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3A1 1 0 0110 17z\" />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}