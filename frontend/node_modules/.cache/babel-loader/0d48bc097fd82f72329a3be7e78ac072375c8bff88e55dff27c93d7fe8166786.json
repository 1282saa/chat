{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{ArrowLeftIcon}from\"@heroicons/react/24/outline\";import{projectAPI,handleAPIError}from\"../services/api\";import LoadingSpinner from\"./LoadingSpinner\";import AdminView from\"./AdminView\";import UserView from\"./UserView\";import{useApp}from\"../contexts/AppContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectDetail=()=>{const{projectId}=useParams();const navigate=useNavigate();const{mode,setMode}=useApp();const[project,setProject]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadProjectData();},[projectId,navigate]);const loadProjectData=async()=>{try{setLoading(true);const projectData=await projectAPI.getProject(projectId);setProject(projectData);}catch(error){console.error(\"프로젝트 로드 실패:\",error);const errorInfo=handleAPIError(error);toast.error(errorInfo.message);navigate(\"/projects\");}finally{setLoading(false);}};const handleBackNavigation=()=>{navigate(\"/projects\");};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4 text-gray-600\",children:mode===\"admin\"?\"관리자 화면을 준비하고 있습니다...\":\"채팅 화면을 준비하고 있습니다...\"})]});}if(!project){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/projects\"),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2\"}),\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA9\\uB85D\\uC73C\\uB85C\"]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-white border-b border-gray-200 px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleBackNavigation,className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-2\"}),\"\\uBAA9\\uB85D\\uC73C\\uB85C\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold text-gray-900\",children:project.name})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-3 py-1 bg-green-50 border border-green-100 rounded-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-700\",children:\"\\uC900\\uBE44\\uC644\\uB8CC\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden\",children:mode===\"admin\"?/*#__PURE__*/// 관리자 모드: 프롬프트 카드 관리 + 채팅\n_jsx(AdminView,{projectId:projectId,projectName:project.name}):/*#__PURE__*/// 사용자 모드: 채팅만\n_jsx(UserView,{projectId:projectId,projectName:project.name})})]});};export default ProjectDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","toast","ArrowLeftIcon","projectAPI","handleAPIError","LoadingSpinner","AdminView","UserView","useApp","jsx","_jsx","jsxs","_jsxs","ProjectDetail","projectId","navigate","mode","setMode","project","setProject","loading","setLoading","loadProjectData","projectData","getProject","error","console","errorInfo","message","handleBackNavigation","className","children","onClick","name","projectName"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기(수)_완성본_스트리밍구현 복사본/frontend/src/components/ProjectDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport { ArrowLeftIcon } from \"@heroicons/react/24/outline\";\nimport { projectAPI, handleAPIError } from \"../services/api\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport AdminView from \"./AdminView\";\nimport UserView from \"./UserView\";\nimport { useApp } from \"../contexts/AppContext\";\n\nconst ProjectDetail = () => {\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n  const { mode, setMode } = useApp();\n  const [project, setProject] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProjectData();\n  }, [projectId, navigate]);\n\n  const loadProjectData = async () => {\n    try {\n      setLoading(true);\n      const projectData = await projectAPI.getProject(projectId);\n      setProject(projectData);\n    } catch (error) {\n      console.error(\"프로젝트 로드 실패:\", error);\n      const errorInfo = handleAPIError(error);\n      toast.error(errorInfo.message);\n      navigate(\"/projects\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBackNavigation = () => {\n    navigate(\"/projects\");\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <LoadingSpinner />\n        <div className=\"ml-4 text-gray-600\">\n          {mode === \"admin\"\n            ? \"관리자 화면을 준비하고 있습니다...\"\n            : \"채팅 화면을 준비하고 있습니다...\"}\n        </div>\n      </div>\n    );\n  }\n\n  if (!project) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n            프로젝트를 찾을 수 없습니다\n          </h2>\n          <button\n            onClick={() => navigate(\"/projects\")}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n            프로젝트 목록으로\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* 상단 네비게이션 바 */}\n      <div className=\"flex-shrink-0 bg-white border-b border-gray-200 px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={handleBackNavigation}\n              className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n              목록으로\n            </button>\n            <div className=\"flex items-center\">\n              <h1 className=\"text-lg font-semibold text-gray-900\">\n                {project.name}\n              </h1>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center gap-2 px-3 py-1 bg-green-50 border border-green-100 rounded-full\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n              <span className=\"text-xs text-green-700\">준비완료</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 메인 콘텐츠 */}\n      <div className=\"flex-1 overflow-hidden\">\n        {mode === \"admin\" ? (\n          // 관리자 모드: 프롬프트 카드 관리 + 채팅\n          <AdminView projectId={projectId} projectName={project.name} />\n        ) : (\n          // 사용자 모드: 채팅만\n          <UserView projectId={projectId} projectName={project.name} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}