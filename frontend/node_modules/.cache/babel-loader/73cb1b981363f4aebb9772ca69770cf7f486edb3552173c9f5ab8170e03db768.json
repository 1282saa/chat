{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{ArrowLeftIcon,EllipsisHorizontalIcon}from\"@heroicons/react/24/outline\";import{projectAPI,promptCardAPI,handleAPIError}from\"../services/api\";import LoadingSpinner from\"./LoadingSpinner\";import PromptCardManager from\"./PromptCardManager\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectDetail=()=>{const{projectId}=useParams();const navigate=useNavigate();const[project,setProject]=useState(null);const[loading,setLoading]=useState(true);const[promptCards,setPromptCards]=useState([]);const[showProjectMenu,setShowProjectMenu]=useState(false);useEffect(()=>{loadProject();loadPromptCards();},[projectId]);const loadProject=async()=>{try{setLoading(true);const data=await projectAPI.getProject(projectId);setProject(data);}catch(error){console.error(\"프로젝트 로드 실패:\",error);const errorInfo=handleAPIError(error);toast.error(errorInfo.message);navigate(\"/\");}finally{setLoading(false);}};const loadPromptCards=async()=>{try{const data=await promptCardAPI.getPromptCards(projectId,true);setPromptCards(data.promptCards||[]);}catch(error){console.error(\"프롬프트 카드 로드 실패:\",error);const errorInfo=handleAPIError(error);toast.error(errorInfo.message);}};const handleDeleteProject=async()=>{if(!window.confirm(\"정말로 이 프로젝트를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.\")){return;}try{await projectAPI.deleteProject(projectId);toast.success(\"프로젝트가 삭제되었습니다.\");navigate(\"/\");}catch(error){console.error(\"프로젝트 삭제 실패:\",error);const errorInfo=handleAPIError(error);toast.error(errorInfo.message);}};if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}if(!project){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),className:\"text-blue-600 hover:text-blue-800\",children:\"\\uD648\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(PromptCardManager,{projectId:projectId,projectName:project.title,promptCards:promptCards,onCardsChanged:loadPromptCards})});};export default ProjectDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","toast","ArrowLeftIcon","EllipsisHorizontalIcon","projectAPI","promptCardAPI","handleAPIError","LoadingSpinner","PromptCardManager","jsx","_jsx","jsxs","_jsxs","ProjectDetail","projectId","navigate","project","setProject","loading","setLoading","promptCards","setPromptCards","showProjectMenu","setShowProjectMenu","loadProject","loadPromptCards","data","getProject","error","console","errorInfo","message","getPromptCards","handleDeleteProject","window","confirm","deleteProject","success","className","children","onClick","projectName","title","onCardsChanged"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/ProjectDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  ArrowLeftIcon,\n  EllipsisHorizontalIcon,\n} from \"@heroicons/react/24/outline\";\nimport { projectAPI, promptCardAPI, handleAPIError } from \"../services/api\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport PromptCardManager from \"./PromptCardManager\";\n\nconst ProjectDetail = () => {\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n  const [project, setProject] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [promptCards, setPromptCards] = useState([]);\n  const [showProjectMenu, setShowProjectMenu] = useState(false);\n\n  useEffect(() => {\n    loadProject();\n    loadPromptCards();\n  }, [projectId]);\n\n  const loadProject = async () => {\n    try {\n      setLoading(true);\n      const data = await projectAPI.getProject(projectId);\n      setProject(data);\n    } catch (error) {\n      console.error(\"프로젝트 로드 실패:\", error);\n      const errorInfo = handleAPIError(error);\n      toast.error(errorInfo.message);\n      navigate(\"/\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadPromptCards = async () => {\n    try {\n      const data = await promptCardAPI.getPromptCards(projectId, true);\n      setPromptCards(data.promptCards || []);\n    } catch (error) {\n      console.error(\"프롬프트 카드 로드 실패:\", error);\n      const errorInfo = handleAPIError(error);\n      toast.error(errorInfo.message);\n    }\n  };\n\n  const handleDeleteProject = async () => {\n    if (\n      !window.confirm(\n        \"정말로 이 프로젝트를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.\"\n      )\n    ) {\n      return;\n    }\n\n    try {\n      await projectAPI.deleteProject(projectId);\n      toast.success(\"프로젝트가 삭제되었습니다.\");\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"프로젝트 삭제 실패:\", error);\n      const errorInfo = handleAPIError(error);\n      toast.error(errorInfo.message);\n    }\n  };\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  if (!project) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\n            프로젝트를 찾을 수 없습니다\n          </h2>\n          <button\n            onClick={() => navigate(\"/\")}\n            className=\"text-blue-600 hover:text-blue-800\"\n          >\n            홈으로 돌아가기\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n\n      {/* 메인 콘텐츠 - 새로운 PromptCardManager 사용 */}\n      <PromptCardManager\n        projectId={projectId}\n        projectName={project.title}\n        promptCards={promptCards}\n        onCardsChanged={loadPromptCards}\n      />\n\n    </div>\n  );\n};\n\nexport default ProjectDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}