{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/ai_\\u110C\\u1166\\u1106\\u1169\\u11A8\\u1103\\u1161\\u11AF\\u1100\\u1175/frontend/src/components/PromptCardManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { PlusIcon, PencilIcon, TrashIcon, EyeIcon, EyeSlashIcon, Cog6ToothIcon, DocumentTextIcon, SparklesIcon, CloudArrowUpIcon, XMarkIcon, Bars3Icon, EllipsisHorizontalIcon } from \"@heroicons/react/24/outline\";\nimport { promptCardAPI, PROMPT_CARD_CATEGORIES, AVAILABLE_MODELS, handleAPIError } from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\n\n// 고정된 프롬프트 카테고리 템플릿 (순서 포함)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FIXED_PROMPT_CATEGORIES = [{\n  id: \"역할\",\n  name: \"역할\",\n  order: 1,\n  color: \"bg-blue-100 text-blue-800\",\n  description: \"AI의 역할과 정체성을 정의합니다\",\n  defaultContent: \"당신은 전문적인 기사 제목 작성자입니다. 서울경제신문의 스타일에 맞는 매력적이고 정확한 제목을 작성해주세요.\"\n}, {\n  id: \"가이드라인\",\n  name: \"가이드라인\",\n  order: 2,\n  color: \"bg-purple-100 text-purple-800\",\n  description: \"작업 수행을 위한 지침과 규칙을 제공합니다\",\n  defaultContent: \"제목 작성 시 다음 가이드라인을 따라주세요:\\n- 명확하고 간결하게 작성\\n- 독자의 관심을 끌 수 있는 표현 사용\\n- 기사의 핵심 내용을 정확히 반영\"\n}, {\n  id: \"워크플로우\",\n  name: \"워크플로우\",\n  order: 3,\n  color: \"bg-green-100 text-green-800\",\n  description: \"작업 진행 단계와 프로세스를 안내합니다\",\n  defaultContent: \"다음 단계를 따라 제목을 생성해주세요:\\n1. 기사 내용 분석\\n2. 핵심 키워드 추출\\n3. 여러 제목 후보 생성\\n4. 최적의 제목 선택\"\n}, {\n  id: \"출력결과\",\n  name: \"출력결과\",\n  order: 4,\n  color: \"bg-orange-100 text-orange-800\",\n  description: \"결과물의 형식과 구조를 정의합니다\",\n  defaultContent: \"결과는 다음 형식으로 제공해주세요:\\n- 메인 제목 1개\\n- 대안 제목 2-3개\\n- 각 제목의 선택 이유 간단 설명\"\n}, {\n  id: \"예시\",\n  name: \"예시\",\n  order: 5,\n  color: \"bg-yellow-100 text-yellow-800\",\n  description: \"참고할 수 있는 예시와 샘플을 제공합니다\",\n  defaultContent: \"좋은 제목 예시:\\n- '반도체 수출 급증, 3분기 실적 기대감 ↑'\\n- '부동산 규제 완화로 거래량 30% 증가'\\n- 'K-뷰티 해외진출 가속화, 올해 수출 목표 달성'\"\n}, {\n  id: \"검수\",\n  name: \"검수\",\n  order: 6,\n  color: \"bg-red-100 text-red-800\",\n  description: \"품질 검증과 최종 검토 기준을 제시합니다\",\n  defaultContent: \"생성된 제목을 다음 기준으로 검수해주세요:\\n- 문법적 정확성\\n- 사실 관계 확인\\n- 브랜드 가이드라인 준수\\n- 독자 친화성\"\n}];\n\n// 프롬프트 폼 (편집 전용)\nconst PromptEditForm = ({\n  onSubmit,\n  onCancel,\n  initialData\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"역할\",\n    model_name: \"claude-3-5-sonnet-20241022\",\n    temperature: 0.7,\n    prompt_text: \"\",\n    enabled: true,\n    step_order: 1,\n    ...initialData\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.prompt_text.trim()) {\n      toast.error(\"프롬프트 내용을 입력해주세요.\");\n      return;\n    }\n    try {\n      await onSubmit(formData);\n    } catch (error) {\n      console.error(\"폼 제출 실패:\", error);\n      toast.error(\"폼 제출에 실패했습니다.\");\n    }\n  };\n  const handleChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === formData.category);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border border-gray-200 p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2\",\n          children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uD3B8\\uC9D1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uCE74\\uD14C\\uACE0\\uB9AC (\\uC218\\uC815 \\uBD88\\uAC00)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `inline-flex items-center px-3 py-1 rounded-md text-sm font-medium ${categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.color}`,\n              children: [categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.order, \". \", categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uC81C\\uBAA9 (\\uC218\\uC815 \\uBD88\\uAC00)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.title,\n            readOnly: true,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\uBAA8\\uB378\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.model_name,\n              onChange: e => handleChange(\"model_name\", e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-5-sonnet-20241022\",\n                children: \"Claude 3.5 Sonnet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-sonnet-20240229\",\n                children: \"Claude 3 Sonnet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-haiku-20240307\",\n                children: \"Claude 3 Haiku\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: [\"\\uC628\\uB3C4: \", formData.temperature]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"0\",\n              max: \"1\",\n              step: \"0.1\",\n              value: formData.temperature,\n              onChange: e => handleChange(\"temperature\", parseFloat(e.target.value)),\n              className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-500 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uC815\\uD655\\uD568 (0.0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uCC3D\\uC758\\uC801 (1.0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uB0B4\\uC6A9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.prompt_text,\n            onChange: e => handleChange(\"prompt_text\", e.target.value),\n            rows: 12,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleChange(\"prompt_text\", (categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.defaultContent) || \"\"),\n              className: \"text-xs text-blue-600 hover:text-blue-800\",\n              children: \"\\uAE30\\uBCF8 \\uB0B4\\uC6A9\\uC73C\\uB85C \\uBCF5\\uC6D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3 pt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors\",\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\",\n            children: \"\\uC800\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n\n// 개선된 사이드바 프롬프트 카드 (편집 전용)\n_s(PromptEditForm, \"YdQGrNx39xJsrctmTa5ffIEKwPk=\");\n_c = PromptEditForm;\nconst SidebarPromptCard = ({\n  card,\n  onEdit,\n  onToggle\n}) => {\n  _s2();\n  const [isToggling, setIsToggling] = useState(false);\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === card.category);\n  const getModelDisplayName = modelId => {\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude-3-5-sonnet\")) return \"Claude 3.5 Sonnet\";\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude-3-sonnet\")) return \"Claude 3 Sonnet\";\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude\")) return \"Claude\";\n    return \"Unknown Model\";\n  };\n\n  // 즉시 반응하는 토글 (낙관적 업데이트)\n  const handleToggleClick = async () => {\n    if (isToggling) return;\n    setIsToggling(true);\n    const newEnabled = !card.enabled;\n\n    // 즉시 UI 업데이트 (낙관적 업데이트)\n    card.enabled = newEnabled;\n    try {\n      await onToggle(card.promptId || card.id, newEnabled);\n    } catch (error) {\n      // 실패시 원래 상태로 복원\n      card.enabled = !newEnabled;\n      toast.error(\"상태 변경에 실패했습니다.\");\n    } finally {\n      setIsToggling(false);\n    }\n  };\n  const handleEdit = () => {\n    onEdit(card);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"group p-4 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 transition-all duration-200 relative\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.color}`,\n            children: [categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.order, \". \", categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-sm font-medium text-gray-900 truncate\",\n            children: card.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Temperature: \", card.temperature || 0.7]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Model: \", getModelDisplayName(card.model)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEdit,\n          className: \"p-1 text-gray-400 hover:text-blue-600 rounded transition-all hover:bg-blue-50\",\n          title: \"\\uD3B8\\uC9D1\",\n          children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleToggleClick,\n          disabled: isToggling,\n          className: `w-8 h-4 rounded-full relative transition-colors ${card.enabled ? \"bg-blue-600\" : \"bg-gray-300\"} ${isToggling ? \"opacity-50\" : \"\"}`,\n          title: card.enabled ? \"비활성화\" : \"활성화\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-3 h-3 bg-white rounded-full shadow transform transition-transform absolute top-0.5 ${card.enabled ? \"translate-x-4\" : \"translate-x-0.5\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this);\n};\n\n// 메인 PromptCardManager 컴포넌트 (템플릿 시스템)\n_s2(SidebarPromptCard, \"L7q4RljS0ASaoS0XasDScXRfyVk=\");\n_c2 = SidebarPromptCard;\nconst PromptCardManager = ({\n  projectId,\n  onCardsChanged,\n  projectName\n}) => {\n  _s3();\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n\n  // 프롬프트 카드 목록 로딩 및 기본 카드 생성\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(projectId, true, true);\n      let cards = response.promptCards || [];\n\n      // 기본 카테고리별로 카드가 없으면 생성 (임시 비활성화)\n      console.log('Loaded cards from API:', cards.length);\n      // TODO: 기본 카드 생성 로직을 API 스키마 확인 후 다시 활성화\n      /*\n      for (const category of FIXED_PROMPT_CATEGORIES) {\n        const existingCard = cards.find(\n          (card) => card.category === category.id\n        );\n        if (!existingCard) {\n          // 기본 카드 생성\n          const defaultCard = {\n            title: `${category.name} 프롬프트`,\n            category: category.id,\n            model_name: \"claude-3-5-sonnet-20241022\",\n            temperature: 0.7,\n            prompt_text: category.defaultContent,\n            enabled: true,\n            step_order: category.order || 1,\n          };\n           try {\n            console.log(`Creating default card for ${category.name}:`, defaultCard);\n            const newCard = await promptCardAPI.createPromptCard(\n              projectId,\n              defaultCard\n            );\n            cards.push(newCard);\n          } catch (error) {\n            console.error(`기본 카드 생성 실패 (${category.name}):`, error);\n            if (error.response) {\n              console.error('API Response:', error.response.data);\n              console.error('Status:', error.response.status);\n            }\n          }\n        }\n      }\n      */\n\n      // 순서대로 정렬\n      cards.sort((a, b) => {\n        const aCategory = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === a.category);\n        const bCategory = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === b.category);\n        return ((aCategory === null || aCategory === void 0 ? void 0 : aCategory.order) || 999) - ((bCategory === null || bCategory === void 0 ? void 0 : bCategory.order) || 999);\n      });\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 프롬프트 카드 수정/생성\n  const handleUpdateCard = async cardData => {\n    try {\n      if (editingCard.promptId || editingCard.id) {\n        // 기존 카드 수정\n        await promptCardAPI.updatePromptCard(projectId, editingCard.promptId || editingCard.id, cardData);\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 새 카드 생성\n        console.log('Creating new card:', cardData);\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      setEditingCard(null);\n      setShowForm(false);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard.promptId || editingCard.id ? '수정' : '생성'} 실패: ${errorInfo.message}`);\n      console.error('Card operation error:', error);\n      if (error.response) {\n        console.error('API Response:', error.response.data);\n      }\n    }\n  };\n\n  // 프롬프트 카드 활성/비활성 토글 (백그라운드 처리)\n  const handleToggleCard = async (promptId, enabled) => {\n    try {\n      await promptCardAPI.togglePromptCard(projectId, promptId, enabled);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      throw error; // SidebarPromptCard에서 처리\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = card => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // 카테고리별 그룹화 (순서 유지) - 빈 카테고리도 표시\n  const groupedCards = FIXED_PROMPT_CATEGORIES.reduce((groups, category) => {\n    const categoryCards = promptCards.filter(card => card.category === category.id);\n    groups[category.id] = {\n      ...category,\n      cards: categoryCards\n    };\n    return groups;\n  }, {});\n\n  // 디버깅용 로그\n  console.log('PromptCardManager Debug:');\n  console.log('promptCards:', promptCards);\n  console.log('groupedCards:', groupedCards);\n  const activeCards = promptCards.filter(card => card.enabled !== false).length;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-hidden\",\n        children: showForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full overflow-y-auto p-6\",\n          children: /*#__PURE__*/_jsxDEV(PromptEditForm, {\n            onSubmit: handleUpdateCard,\n            onCancel: handleCancelForm,\n            initialData: editingCard\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ChatInterface, {\n          projectId: projectId,\n          projectName: projectName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-96 bg-white border-l border-gray-200 shadow-sm flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Cog6ToothIcon, {\n            className: \"h-5 w-5 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-900\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uD15C\\uD50C\\uB9BF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [activeCards, \"/\", promptCards.length, \" \\uD65C\\uC131\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\\uB97C \\uB85C\\uB529 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this) : Object.values(groupedCards).map(categoryGroup => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-xs font-medium text-gray-700 uppercase tracking-wider\",\n                children: [categoryGroup.order, \". \", categoryGroup.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: categoryGroup.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: categoryGroup.cards.length > 0 ? categoryGroup.cards.map(card => /*#__PURE__*/_jsxDEV(SidebarPromptCard, {\n                card: card,\n                onEdit: handleEditCard,\n                onToggle: handleToggleCard\n              }, card.promptId || card.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mb-2\",\n                  children: [categoryGroup.name, \" \\uD504\\uB86C\\uD504\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    // 해당 카테고리의 기본 카드 생성\n                    const defaultCard = {\n                      title: `${categoryGroup.name} 프롬프트`,\n                      category: categoryGroup.id,\n                      model_name: \"claude-3-5-sonnet-20241022\",\n                      temperature: 0.7,\n                      prompt_text: categoryGroup.defaultContent,\n                      enabled: true,\n                      step_order: categoryGroup.order || 1\n                    };\n                    setEditingCard(defaultCard);\n                    setShowForm(true);\n                  },\n                  className: \"text-xs text-blue-600 hover:text-blue-800\",\n                  children: \"+ \\uCE74\\uB4DC \\uCD94\\uAC00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 19\n            }, this)]\n          }, categoryGroup.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium mb-1\",\n            children: \"\\uD83D\\uDCA1 \\uD15C\\uD50C\\uB9BF \\uC2DC\\uC2A4\\uD15C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uAC01 \\uCE74\\uD14C\\uACE0\\uB9AC\\uBCC4 \\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uD3B8\\uC9D1\\uD558\\uC5EC AI \\uC751\\uB2F5\\uC744 \\uAC1C\\uC120\\uD558\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 506,\n    columnNumber: 5\n  }, this);\n};\n_s3(PromptCardManager, \"AcIVqa/+sZ2PDglpPDcoGHWxABI=\");\n_c3 = PromptCardManager;\nexport default PromptCardManager;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PromptEditForm\");\n$RefreshReg$(_c2, \"SidebarPromptCard\");\n$RefreshReg$(_c3, \"PromptCardManager\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","PlusIcon","PencilIcon","TrashIcon","EyeIcon","EyeSlashIcon","Cog6ToothIcon","DocumentTextIcon","SparklesIcon","CloudArrowUpIcon","XMarkIcon","Bars3Icon","EllipsisHorizontalIcon","promptCardAPI","PROMPT_CARD_CATEGORIES","AVAILABLE_MODELS","handleAPIError","ChatInterface","jsxDEV","_jsxDEV","FIXED_PROMPT_CATEGORIES","id","name","order","color","description","defaultContent","PromptEditForm","onSubmit","onCancel","initialData","_s","formData","setFormData","title","category","model_name","temperature","prompt_text","enabled","step_order","handleSubmit","e","preventDefault","trim","error","console","handleChange","field","value","prev","categoryInfo","find","cat","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","readOnly","onChange","target","min","max","step","parseFloat","rows","placeholder","onClick","_c","SidebarPromptCard","card","onEdit","onToggle","_s2","isToggling","setIsToggling","getModelDisplayName","modelId","includes","handleToggleClick","newEnabled","promptId","handleEdit","model","disabled","_c2","PromptCardManager","projectId","onCardsChanged","projectName","_s3","promptCards","setPromptCards","loading","setLoading","showForm","setShowForm","editingCard","setEditingCard","loadPromptCards","response","getPromptCards","cards","log","length","sort","a","b","aCategory","bCategory","errorInfo","message","handleUpdateCard","cardData","updatePromptCard","success","createPromptCard","data","handleToggleCard","togglePromptCard","handleEditCard","handleCancelForm","groupedCards","reduce","groups","categoryCards","filter","activeCards","Object","values","map","categoryGroup","defaultCard","_c3","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/PromptCardManager.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  EyeSlashIcon,\n  Cog6ToothIcon,\n  DocumentTextIcon,\n  SparklesIcon,\n  CloudArrowUpIcon,\n  XMarkIcon,\n  Bars3Icon,\n  EllipsisHorizontalIcon,\n} from \"@heroicons/react/24/outline\";\nimport {\n  promptCardAPI,\n  PROMPT_CARD_CATEGORIES,\n  AVAILABLE_MODELS,\n  handleAPIError,\n} from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\n\n// 고정된 프롬프트 카테고리 템플릿 (순서 포함)\nconst FIXED_PROMPT_CATEGORIES = [\n  {\n    id: \"역할\",\n    name: \"역할\",\n    order: 1,\n    color: \"bg-blue-100 text-blue-800\",\n    description: \"AI의 역할과 정체성을 정의합니다\",\n    defaultContent:\n      \"당신은 전문적인 기사 제목 작성자입니다. 서울경제신문의 스타일에 맞는 매력적이고 정확한 제목을 작성해주세요.\",\n  },\n  {\n    id: \"가이드라인\",\n    name: \"가이드라인\",\n    order: 2,\n    color: \"bg-purple-100 text-purple-800\",\n    description: \"작업 수행을 위한 지침과 규칙을 제공합니다\",\n    defaultContent:\n      \"제목 작성 시 다음 가이드라인을 따라주세요:\\n- 명확하고 간결하게 작성\\n- 독자의 관심을 끌 수 있는 표현 사용\\n- 기사의 핵심 내용을 정확히 반영\",\n  },\n  {\n    id: \"워크플로우\",\n    name: \"워크플로우\",\n    order: 3,\n    color: \"bg-green-100 text-green-800\",\n    description: \"작업 진행 단계와 프로세스를 안내합니다\",\n    defaultContent:\n      \"다음 단계를 따라 제목을 생성해주세요:\\n1. 기사 내용 분석\\n2. 핵심 키워드 추출\\n3. 여러 제목 후보 생성\\n4. 최적의 제목 선택\",\n  },\n  {\n    id: \"출력결과\",\n    name: \"출력결과\",\n    order: 4,\n    color: \"bg-orange-100 text-orange-800\",\n    description: \"결과물의 형식과 구조를 정의합니다\",\n    defaultContent:\n      \"결과는 다음 형식으로 제공해주세요:\\n- 메인 제목 1개\\n- 대안 제목 2-3개\\n- 각 제목의 선택 이유 간단 설명\",\n  },\n  {\n    id: \"예시\",\n    name: \"예시\",\n    order: 5,\n    color: \"bg-yellow-100 text-yellow-800\",\n    description: \"참고할 수 있는 예시와 샘플을 제공합니다\",\n    defaultContent:\n      \"좋은 제목 예시:\\n- '반도체 수출 급증, 3분기 실적 기대감 ↑'\\n- '부동산 규제 완화로 거래량 30% 증가'\\n- 'K-뷰티 해외진출 가속화, 올해 수출 목표 달성'\",\n  },\n  {\n    id: \"검수\",\n    name: \"검수\",\n    order: 6,\n    color: \"bg-red-100 text-red-800\",\n    description: \"품질 검증과 최종 검토 기준을 제시합니다\",\n    defaultContent:\n      \"생성된 제목을 다음 기준으로 검수해주세요:\\n- 문법적 정확성\\n- 사실 관계 확인\\n- 브랜드 가이드라인 준수\\n- 독자 친화성\",\n  },\n];\n\n// 프롬프트 폼 (편집 전용)\nconst PromptEditForm = ({ onSubmit, onCancel, initialData }) => {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"역할\",\n    model_name: \"claude-3-5-sonnet-20241022\",\n    temperature: 0.7,\n    prompt_text: \"\",\n    enabled: true,\n    step_order: 1,\n    ...initialData,\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.prompt_text.trim()) {\n      toast.error(\"프롬프트 내용을 입력해주세요.\");\n      return;\n    }\n\n    try {\n      await onSubmit(formData);\n    } catch (error) {\n      console.error(\"폼 제출 실패:\", error);\n      toast.error(\"폼 제출에 실패했습니다.\");\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(\n    (cat) => cat.id === formData.category\n  );\n\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            프롬프트 편집\n          </h2>\n          <p className=\"text-gray-600\">{categoryInfo?.description}</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* 카테고리 정보 (읽기 전용) */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              카테고리 (수정 불가)\n            </label>\n            <div className=\"flex items-center space-x-3\">\n              <span\n                className={`inline-flex items-center px-3 py-1 rounded-md text-sm font-medium ${categoryInfo?.color}`}\n              >\n                {categoryInfo?.order}. {categoryInfo?.name}\n              </span>\n              <span className=\"text-sm text-gray-500\">\n                {categoryInfo?.description}\n              </span>\n            </div>\n          </div>\n\n          {/* 제목 (읽기 전용) */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              제목 (수정 불가)\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              readOnly\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500\"\n            />\n          </div>\n\n          {/* 모델과 온도 설정 */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                모델\n              </label>\n              <select\n                value={formData.model_name}\n                onChange={(e) => handleChange(\"model_name\", e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"claude-3-5-sonnet-20241022\">\n                  Claude 3.5 Sonnet\n                </option>\n                <option value=\"claude-3-sonnet-20240229\">\n                  Claude 3 Sonnet\n                </option>\n                <option value=\"claude-3-haiku-20240307\">Claude 3 Haiku</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                온도: {formData.temperature}\n              </label>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.1\"\n                value={formData.temperature}\n                onChange={(e) =>\n                  handleChange(\"temperature\", parseFloat(e.target.value))\n                }\n                className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\n              />\n              <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                <span>정확함 (0.0)</span>\n                <span>창의적 (1.0)</span>\n              </div>\n            </div>\n          </div>\n\n          {/* 프롬프트 내용 편집 */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              프롬프트 내용\n            </label>\n            <textarea\n              value={formData.prompt_text}\n              onChange={(e) => handleChange(\"prompt_text\", e.target.value)}\n              rows={12}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"프롬프트 내용을 입력하세요...\"\n            />\n            <div className=\"mt-2 text-right\">\n              <button\n                type=\"button\"\n                onClick={() =>\n                  handleChange(\"prompt_text\", categoryInfo?.defaultContent || \"\")\n                }\n                className=\"text-xs text-blue-600 hover:text-blue-800\"\n              >\n                기본 내용으로 복원\n              </button>\n            </div>\n          </div>\n\n          {/* 버튼 */}\n          <div className=\"flex justify-end space-x-3 pt-6\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\n            >\n              취소\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n            >\n              저장\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// 개선된 사이드바 프롬프트 카드 (편집 전용)\nconst SidebarPromptCard = ({ card, onEdit, onToggle }) => {\n  const [isToggling, setIsToggling] = useState(false);\n\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(\n    (cat) => cat.id === card.category\n  );\n\n  const getModelDisplayName = (modelId) => {\n    if (modelId?.includes(\"claude-3-5-sonnet\")) return \"Claude 3.5 Sonnet\";\n    if (modelId?.includes(\"claude-3-sonnet\")) return \"Claude 3 Sonnet\";\n    if (modelId?.includes(\"claude\")) return \"Claude\";\n    return \"Unknown Model\";\n  };\n\n  // 즉시 반응하는 토글 (낙관적 업데이트)\n  const handleToggleClick = async () => {\n    if (isToggling) return;\n\n    setIsToggling(true);\n    const newEnabled = !card.enabled;\n\n    // 즉시 UI 업데이트 (낙관적 업데이트)\n    card.enabled = newEnabled;\n\n    try {\n      await onToggle(card.promptId || card.id, newEnabled);\n    } catch (error) {\n      // 실패시 원래 상태로 복원\n      card.enabled = !newEnabled;\n      toast.error(\"상태 변경에 실패했습니다.\");\n    } finally {\n      setIsToggling(false);\n    }\n  };\n\n  const handleEdit = () => {\n    onEdit(card);\n  };\n\n  return (\n    <div className=\"group p-4 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 transition-all duration-200 relative\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <span\n              className={`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${categoryInfo?.color}`}\n            >\n              {categoryInfo?.order}. {categoryInfo?.name}\n            </span>\n            <h6 className=\"text-sm font-medium text-gray-900 truncate\">\n              {card.title}\n            </h6>\n          </div>\n          <div className=\"text-xs text-gray-500 space-y-1\">\n            <div>Temperature: {card.temperature || 0.7}</div>\n            <div>Model: {getModelDisplayName(card.model)}</div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-2 ml-4\">\n          {/* 편집 버튼 */}\n          <button\n            onClick={handleEdit}\n            className=\"p-1 text-gray-400 hover:text-blue-600 rounded transition-all hover:bg-blue-50\"\n            title=\"편집\"\n          >\n            <PencilIcon className=\"h-4 w-4\" />\n          </button>\n\n          {/* 토글 스위치 */}\n          <button\n            onClick={handleToggleClick}\n            disabled={isToggling}\n            className={`w-8 h-4 rounded-full relative transition-colors ${\n              card.enabled ? \"bg-blue-600\" : \"bg-gray-300\"\n            } ${isToggling ? \"opacity-50\" : \"\"}`}\n            title={card.enabled ? \"비활성화\" : \"활성화\"}\n          >\n            <div\n              className={`w-3 h-3 bg-white rounded-full shadow transform transition-transform absolute top-0.5 ${\n                card.enabled ? \"translate-x-4\" : \"translate-x-0.5\"\n              }`}\n            ></div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 메인 PromptCardManager 컴포넌트 (템플릿 시스템)\nconst PromptCardManager = ({ projectId, onCardsChanged, projectName }) => {\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n\n  // 프롬프트 카드 목록 로딩 및 기본 카드 생성\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(\n        projectId,\n        true,\n        true\n      );\n      let cards = response.promptCards || [];\n\n      // 기본 카테고리별로 카드가 없으면 생성 (임시 비활성화)\n      console.log('Loaded cards from API:', cards.length);\n      // TODO: 기본 카드 생성 로직을 API 스키마 확인 후 다시 활성화\n      /*\n      for (const category of FIXED_PROMPT_CATEGORIES) {\n        const existingCard = cards.find(\n          (card) => card.category === category.id\n        );\n        if (!existingCard) {\n          // 기본 카드 생성\n          const defaultCard = {\n            title: `${category.name} 프롬프트`,\n            category: category.id,\n            model_name: \"claude-3-5-sonnet-20241022\",\n            temperature: 0.7,\n            prompt_text: category.defaultContent,\n            enabled: true,\n            step_order: category.order || 1,\n          };\n\n          try {\n            console.log(`Creating default card for ${category.name}:`, defaultCard);\n            const newCard = await promptCardAPI.createPromptCard(\n              projectId,\n              defaultCard\n            );\n            cards.push(newCard);\n          } catch (error) {\n            console.error(`기본 카드 생성 실패 (${category.name}):`, error);\n            if (error.response) {\n              console.error('API Response:', error.response.data);\n              console.error('Status:', error.response.status);\n            }\n          }\n        }\n      }\n      */\n\n      // 순서대로 정렬\n      cards.sort((a, b) => {\n        const aCategory = FIXED_PROMPT_CATEGORIES.find(\n          (cat) => cat.id === a.category\n        );\n        const bCategory = FIXED_PROMPT_CATEGORIES.find(\n          (cat) => cat.id === b.category\n        );\n        return (aCategory?.order || 999) - (bCategory?.order || 999);\n      });\n\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 프롬프트 카드 수정/생성\n  const handleUpdateCard = async (cardData) => {\n    try {\n      if (editingCard.promptId || editingCard.id) {\n        // 기존 카드 수정\n        await promptCardAPI.updatePromptCard(\n          projectId,\n          editingCard.promptId || editingCard.id,\n          cardData\n        );\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 새 카드 생성\n        console.log('Creating new card:', cardData);\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      setEditingCard(null);\n      setShowForm(false);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard.promptId || editingCard.id ? '수정' : '생성'} 실패: ${errorInfo.message}`);\n      console.error('Card operation error:', error);\n      if (error.response) {\n        console.error('API Response:', error.response.data);\n      }\n    }\n  };\n\n  // 프롬프트 카드 활성/비활성 토글 (백그라운드 처리)\n  const handleToggleCard = async (promptId, enabled) => {\n    try {\n      await promptCardAPI.togglePromptCard(projectId, promptId, enabled);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      throw error; // SidebarPromptCard에서 처리\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = (card) => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // 카테고리별 그룹화 (순서 유지) - 빈 카테고리도 표시\n  const groupedCards = FIXED_PROMPT_CATEGORIES.reduce((groups, category) => {\n    const categoryCards = promptCards.filter(\n      (card) => card.category === category.id\n    );\n    groups[category.id] = {\n      ...category,\n      cards: categoryCards,\n    };\n    return groups;\n  }, {});\n\n  // 디버깅용 로그\n  console.log('PromptCardManager Debug:');\n  console.log('promptCards:', promptCards);\n  console.log('groupedCards:', groupedCards);\n\n  const activeCards = promptCards.filter(\n    (card) => card.enabled !== false\n  ).length;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* 왼쪽 채팅 영역 */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* 메인 콘텐츠 영역 */}\n        <div className=\"flex-1 overflow-hidden\">\n          {showForm ? (\n            <div className=\"h-full overflow-y-auto p-6\">\n              <PromptEditForm\n                onSubmit={handleUpdateCard}\n                onCancel={handleCancelForm}\n                initialData={editingCard}\n              />\n            </div>\n          ) : (\n            <ChatInterface projectId={projectId} projectName={projectName} />\n          )}\n        </div>\n      </div>\n\n      {/* 우측 사이드바 */}\n      <aside className=\"w-96 bg-white border-l border-gray-200 shadow-sm flex flex-col\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-white\">\n          <div className=\"flex items-center space-x-2\">\n            <Cog6ToothIcon className=\"h-5 w-5 text-gray-600\" />\n            <h3 className=\"text-sm font-semibold text-gray-900\">\n              프롬프트 템플릿\n            </h3>\n          </div>\n          <div className=\"text-xs text-gray-500\">\n            {activeCards}/{promptCards.length} 활성\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          <div className=\"space-y-6\">\n            {loading ? (\n              <div className=\"text-center py-8\">\n                <DocumentTextIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-500\">프롬프트 카드를 로딩 중...</p>\n              </div>\n            ) : (\n              Object.values(groupedCards).map((categoryGroup) => (\n                <div key={categoryGroup.id}>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h5 className=\"text-xs font-medium text-gray-700 uppercase tracking-wider\">\n                      {categoryGroup.order}. {categoryGroup.name}\n                    </h5>\n                    <span className=\"text-xs text-gray-500\">\n                      {categoryGroup.description}\n                    </span>\n                  </div>\n                  <div className=\"space-y-2\">\n                    {categoryGroup.cards.length > 0 ? (\n                      categoryGroup.cards.map((card) => (\n                        <SidebarPromptCard\n                          key={card.promptId || card.id}\n                          card={card}\n                          onEdit={handleEditCard}\n                          onToggle={handleToggleCard}\n                        />\n                      ))\n                    ) : (\n                      <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\">\n                        <p className=\"text-xs text-gray-500 mb-2\">\n                          {categoryGroup.name} 프롬프트가 없습니다\n                        </p>\n                        <button \n                          onClick={() => {\n                            // 해당 카테고리의 기본 카드 생성\n                            const defaultCard = {\n                              title: `${categoryGroup.name} 프롬프트`,\n                              category: categoryGroup.id,\n                              model_name: \"claude-3-5-sonnet-20241022\",\n                              temperature: 0.7,\n                              prompt_text: categoryGroup.defaultContent,\n                              enabled: true,\n                              step_order: categoryGroup.order || 1,\n                            };\n                            setEditingCard(defaultCard);\n                            setShowForm(true);\n                          }}\n                          className=\"text-xs text-blue-600 hover:text-blue-800\"\n                        >\n                          + 카드 추가\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* 사이드바 하단 - 도움말 */}\n        <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n          <div className=\"text-xs text-gray-600\">\n            <p className=\"font-medium mb-1\">💡 템플릿 시스템</p>\n            <p>각 카테고리별 프롬프트를 편집하여 AI 응답을 개선하세요.</p>\n          </div>\n        </div>\n      </aside>\n    </div>\n  );\n};\n\nexport default PromptCardManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}