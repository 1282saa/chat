{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/ai_\\u110C\\u1166\\u1106\\u1169\\u11A8\\u1103\\u1161\\u11AF\\u1100\\u1175/frontend/src/components/PromptCardManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { PlusIcon, PencilIcon, TrashIcon, EyeIcon, EyeSlashIcon, Cog6ToothIcon, DocumentTextIcon, SparklesIcon, CloudArrowUpIcon, XMarkIcon, Bars3Icon, EllipsisHorizontalIcon } from \"@heroicons/react/24/outline\";\nimport { promptCardAPI, PROMPT_CARD_CATEGORIES, AVAILABLE_MODELS, handleAPIError } from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\nimport { SidebarSkeleton, PromptCardSkeleton } from \"./SkeletonLoader\";\n\n// 고정된 프롬프트 카테고리 템플릿 (순서 포함)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FIXED_PROMPT_CATEGORIES = [{\n  id: \"instruction\",\n  name: \"지시사항\",\n  order: 1,\n  color: \"bg-blue-100 text-blue-800\",\n  description: \"AI의 역할과 작업 지시사항을 정의합니다\",\n  defaultContent: \"당신은 전문적인 기사 제목 작성자입니다. 서울경제신문의 스타일에 맞는 매력적이고 정확한 제목을 작성해주세요.\"\n}, {\n  id: \"knowledge\",\n  name: \"지식 베이스\",\n  order: 2,\n  color: \"bg-purple-100 text-purple-800\",\n  description: \"작업에 필요한 배경 지식과 정보를 제공합니다\",\n  defaultContent: \"제목 작성 시 다음 가이드라인을 따라주세요:\\n- 명확하고 간결하게 작성\\n- 독자의 관심을 끌 수 있는 표현 사용\\n- 기사의 핵심 내용을 정확히 반영\"\n}, {\n  id: \"secondary\",\n  name: \"보조 지침\",\n  order: 3,\n  color: \"bg-green-100 text-green-800\",\n  description: \"추가적인 작업 지침과 세부 규칙을 안내합니다\",\n  defaultContent: \"다음 단계를 따라 제목을 생성해주세요:\\n1. 기사 내용 분석\\n2. 핵심 키워드 추출\\n3. 여러 제목 후보 생성\\n4. 최적의 제목 선택\"\n}, {\n  id: \"style_guide\",\n  name: \"스타일 가이드\",\n  order: 4,\n  color: \"bg-orange-100 text-orange-800\",\n  description: \"출력 형식과 스타일 규칙을 정의합니다\",\n  defaultContent: \"결과는 다음 형식으로 제공해주세요:\\n- 메인 제목 1개\\n- 대안 제목 2-3개\\n- 각 제목의 선택 이유 간단 설명\"\n}, {\n  id: \"validation\",\n  name: \"검증 기준\",\n  order: 5,\n  color: \"bg-yellow-100 text-yellow-800\",\n  description: \"품질 검증과 최종 검토 기준을 제시합니다\",\n  defaultContent: \"생성된 제목을 다음 기준으로 검수해주세요:\\n- 문법적 정확성\\n- 사실 관계 확인\\n- 브랜드 가이드라인 준수\\n- 독자 친화성\"\n}, {\n  id: \"enhancement\",\n  name: \"최적화\",\n  order: 6,\n  color: \"bg-red-100 text-red-800\",\n  description: \"결과 개선과 최적화 방법을 안내합니다\",\n  defaultContent: \"좋은 제목 예시:\\n- '반도체 수출 급증, 3분기 실적 기대감 ↑'\\n- '부동산 규제 완화로 거래량 30% 증가'\\n- 'K-뷰티 해외진출 가속화, 올해 수출 목표 달성'\"\n}];\n\n// 프롬프트 편집 모달\nconst PromptEditModal = ({\n  isOpen,\n  onSubmit,\n  onCancel,\n  initialData\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(PromptEditForm, {\n        onSubmit: onSubmit,\n        onCancel: onCancel,\n        initialData: initialData,\n        isModal: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n// 프롬프트 폼 (편집 전용)\n_c = PromptEditModal;\nconst PromptEditForm = ({\n  onSubmit,\n  onCancel,\n  initialData,\n  isModal = false\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"instruction\",\n    model_name: \"claude-3-5-sonnet-20241022\",\n    temperature: 0.7,\n    prompt_text: \"\",\n    enabled: true,\n    step_order: 1,\n    ...initialData\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.prompt_text.trim()) {\n      toast.error(\"프롬프트 내용을 입력해주세요.\");\n      return;\n    }\n    try {\n      await onSubmit(formData);\n    } catch (error) {\n      console.error(\"폼 제출 실패:\", error);\n      toast.error(\"폼 제출에 실패했습니다.\");\n    }\n  };\n  const handleChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === formData.category);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isModal ? \"w-full\" : \"max-w-2xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white rounded-xl shadow-sm border border-gray-200 ${isModal ? \"p-6\" : \"p-8\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `font-bold text-gray-900 mb-2 ${isModal ? \"text-xl\" : \"text-2xl\"}`,\n              children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uD3B8\\uC9D1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), isModal && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors\",\n            title: \"\\uB2EB\\uAE30\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uC81C\\uBAA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.title,\n            onChange: e => handleChange(\"title\", e.target.value),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white\",\n            placeholder: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\uBAA8\\uB378\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.model_name,\n              onChange: e => handleChange(\"model_name\", e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-5-sonnet-20241022\",\n                children: \"Claude 3.5 Sonnet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-sonnet-20240229\",\n                children: \"Claude 3 Sonnet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-haiku-20240307\",\n                children: \"Claude 3 Haiku\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: [\"\\uC628\\uB3C4: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-blue-600\",\n                children: formData.temperature\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.1\",\n                value: formData.temperature,\n                onChange: e => handleChange(\"temperature\", parseFloat(e.target.value)),\n                className: \"w-full h-3 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 shadow-lg\",\n                style: {\n                  background: `linear-gradient(to right, \n                      #60a5fa 0%, \n                      #3b82f6 ${formData.temperature * 25}%, \n                      #8b5cf6 ${formData.temperature * 50}%, \n                      #ec4899 ${formData.temperature * 75}%, \n                      #f97316 ${formData.temperature * 100}%, \n                      #e5e7eb ${formData.temperature * 100}%, \n                      #e5e7eb 100%)`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n                jsx: true,\n                children: `\n                  input[type=\"range\"]::-webkit-slider-thumb {\n                    appearance: none;\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    background: linear-gradient(45deg, #ffffff, #f3f4f6);\n                    border: 2px solid #3b82f6;\n                    cursor: pointer;\n                    box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);\n                    transition: all 0.2s ease;\n                  }\n                  input[type=\"range\"]::-webkit-slider-thumb:hover {\n                    transform: scale(1.1);\n                    box-shadow: 0 6px 12px rgba(59, 130, 246, 0.4);\n                  }\n                  input[type=\"range\"]::-moz-range-thumb {\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    background: linear-gradient(45deg, #ffffff, #f3f4f6);\n                    border: 2px solid #3b82f6;\n                    cursor: pointer;\n                    box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);\n                  }\n                `\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-600 font-medium\",\n                children: \"\\uD83C\\uDFAF \\uC815\\uD655\\uD568 (0.0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-orange-600 font-medium\",\n                children: \"\\uD83C\\uDFA8 \\uCC3D\\uC758\\uC801 (1.0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uB0B4\\uC6A9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.prompt_text,\n            onChange: e => handleChange(\"prompt_text\", e.target.value),\n            rows: 12,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleChange(\"prompt_text\", (categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.defaultContent) || \"\"),\n              className: \"text-xs text-blue-600 hover:text-blue-800\",\n              children: \"\\uAE30\\uBCF8 \\uB0B4\\uC6A9\\uC73C\\uB85C \\uBCF5\\uC6D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3 pt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors\",\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\",\n            children: \"\\uC800\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n\n// 개선된 사이드바 프롬프트 카드 (편집 전용)\n_s(PromptEditForm, \"E2yf2zzXu5KYI5JBQ3QmQ52iulY=\");\n_c2 = PromptEditForm;\nconst SidebarPromptCard = ({\n  card,\n  onEdit,\n  onToggle,\n  onDelete,\n  isCurrentStep = false,\n  isExecuted = false,\n  isExecuting = false,\n  stepNumber = 0\n}) => {\n  _s2();\n  const [isToggling, setIsToggling] = useState(false);\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === card.category);\n  const getModelDisplayName = modelId => {\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude-3-5-sonnet\")) return \"Claude 3.5 Sonnet\";\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude-3-sonnet\")) return \"Claude 3 Sonnet\";\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude\")) return \"Claude\";\n    return \"Unknown Model\";\n  };\n\n  // 즉시 반응하는 토글 (낙관적 업데이트)\n  const handleToggleClick = async () => {\n    if (isToggling) return;\n    setIsToggling(true);\n    const newEnabled = !card.enabled;\n\n    // 즉시 UI 업데이트 (낙관적 업데이트)\n    card.enabled = newEnabled;\n    try {\n      await onToggle(card.promptId || card.id, newEnabled);\n    } catch (error) {\n      // 실패시 원래 상태로 복원\n      card.enabled = !newEnabled;\n      toast.error(\"상태 변경에 실패했습니다.\");\n    } finally {\n      setIsToggling(false);\n    }\n  };\n  const handleEdit = () => {\n    onEdit(card);\n  };\n\n  // 실행 상태에 따른 스타일 결정\n  const getCardStyles = () => {\n    if (isCurrentStep && isExecuting) {\n      return \"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-400 shadow-lg shadow-blue-200 ring-2 ring-blue-300 ring-opacity-50\";\n    } else if (isExecuted) {\n      return \"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-400 shadow-md\";\n    } else if (isCurrentStep) {\n      return \"bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-400 shadow-md animate-pulse\";\n    } else {\n      return \"border border-gray-200 bg-white hover:bg-gray-50\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `group p-4 rounded-xl transition-all duration-300 relative ${getCardStyles()}`,\n    children: [stepNumber > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `absolute -top-2 -left-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${isCurrentStep && isExecuting ? \"bg-gradient-to-r from-blue-500 to-indigo-600 text-white animate-spin\" : isExecuted ? \"bg-gradient-to-r from-green-500 to-emerald-600 text-white\" : isCurrentStep ? \"bg-gradient-to-r from-yellow-500 to-amber-600 text-white animate-bounce\" : \"bg-gray-300 text-gray-600\"}`,\n      children: isExecuted ? \"✓\" : stepNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }, this), isCurrentStep && isExecuting && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-0 h-1 bg-gradient-to-r from-blue-400 to-indigo-600 rounded-t-xl animate-pulse\",\n      style: {\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.color}`,\n            children: [categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.order, \". \", categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-sm font-medium text-gray-900 truncate\",\n            children: card.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Temperature: \", card.temperature || 0.7]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Model: \", getModelDisplayName(card.model_name || card.model)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEdit,\n          className: \"p-1 text-gray-400 hover:text-blue-600 rounded transition-all hover:bg-blue-50\",\n          title: \"\\uD3B8\\uC9D1\",\n          children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (window.confirm('이 프롬프트 카드를 삭제하시겠습니까?')) {\n              onDelete(card.promptId || card.id);\n            }\n          },\n          className: \"p-1 text-gray-400 hover:text-red-600 rounded transition-all hover:bg-red-50\",\n          title: \"\\uC0AD\\uC81C\",\n          children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleToggleClick,\n          disabled: isToggling,\n          className: `relative w-12 h-6 rounded-full transition-all duration-300 focus:outline-none focus:ring-3 focus:ring-offset-2 transform hover:scale-105 ${card.enabled ? \"bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 shadow-lg shadow-emerald-200 focus:ring-emerald-300\" : \"bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-400 shadow-inner focus:ring-gray-300\"} ${isToggling ? \"opacity-70 cursor-not-allowed\" : \"cursor-pointer\"}`,\n          title: card.enabled ? \"비활성화\" : \"활성화\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-5 h-5 bg-white rounded-full shadow-lg transform transition-all duration-300 ease-in-out absolute top-0.5 flex items-center justify-center ${card.enabled ? \"translate-x-6\" : \"translate-x-0.5\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-2 h-2 rounded-full transition-colors duration-200 ${card.enabled ? \"bg-emerald-500\" : \"bg-gray-400\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), card.enabled && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 rounded-full animate-pulse bg-emerald-400 opacity-20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 370,\n    columnNumber: 5\n  }, this);\n};\n\n// 메인 PromptCardManager 컴포넌트 (템플릿 시스템)\n_s2(SidebarPromptCard, \"L7q4RljS0ASaoS0XasDScXRfyVk=\");\n_c3 = SidebarPromptCard;\nconst PromptCardManager = ({\n  projectId,\n  onCardsChanged,\n  projectName\n}) => {\n  _s3();\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n\n  // 오케스트레이션 단계 상태\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [executionHistory, setExecutionHistory] = useState([]);\n\n  // 프롬프트 카드 목록 로딩 및 기본 카드 생성\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(projectId, true, true);\n      let cards = response.promptCards || [];\n\n      // 기본 카테고리별로 카드가 없으면 생성 (임시 비활성화)\n      console.log('Loaded cards from API:', cards.length);\n      // TODO: 기본 카드 생성 로직을 API 스키마 확인 후 다시 활성화\n      /*\n      for (const category of FIXED_PROMPT_CATEGORIES) {\n        const existingCard = cards.find(\n          (card) => card.category === category.id\n        );\n        if (!existingCard) {\n          // 기본 카드 생성\n          const defaultCard = {\n            title: `${category.name} 프롬프트`,\n            category: category.id,\n            model_name: \"claude-3-5-sonnet-20241022\",\n            temperature: 0.7,\n            prompt_text: category.defaultContent,\n            enabled: true,\n            step_order: category.order || 1,\n          };\n           try {\n            console.log(`Creating default card for ${category.name}:`, defaultCard);\n            const newCard = await promptCardAPI.createPromptCard(\n              projectId,\n              defaultCard\n            );\n            cards.push(newCard);\n          } catch (error) {\n            console.error(`기본 카드 생성 실패 (${category.name}):`, error);\n            if (error.response) {\n              console.error('API Response:', error.response.data);\n              console.error('Status:', error.response.status);\n            }\n          }\n        }\n      }\n      */\n\n      // 순서대로 정렬\n      cards.sort((a, b) => {\n        const aCategory = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === a.category);\n        const bCategory = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === b.category);\n        return ((aCategory === null || aCategory === void 0 ? void 0 : aCategory.order) || 999) - ((bCategory === null || bCategory === void 0 ? void 0 : bCategory.order) || 999);\n      });\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 프롬프트 카드 수정/생성\n  const handleUpdateCard = async cardData => {\n    try {\n      if (editingCard.promptId || editingCard.id) {\n        // 기존 카드 수정\n        await promptCardAPI.updatePromptCard(projectId, editingCard.promptId || editingCard.id, cardData);\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 새 카드 생성\n        console.log('Creating new card:', cardData);\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      setEditingCard(null);\n      setShowForm(false);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard.promptId || editingCard.id ? '수정' : '생성'} 실패: ${errorInfo.message}`);\n      console.error('Card operation error:', error);\n      if (error.response) {\n        console.error('API Response:', error.response.data);\n      }\n    }\n  };\n\n  // 프롬프트 카드 활성/비활성 토글 (백그라운드 처리)\n  const handleToggleCard = async (promptId, enabled) => {\n    try {\n      await promptCardAPI.togglePromptCard(projectId, promptId, enabled);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      throw error; // SidebarPromptCard에서 처리\n    }\n  };\n\n  // 프롬프트 카드 삭제\n  const handleDeleteCard = async promptId => {\n    try {\n      await promptCardAPI.deletePromptCard(projectId, promptId);\n      toast.success(\"프롬프트 카드가 삭제되었습니다!\");\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 삭제 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = card => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // 오케스트레이션 실행 시뮬레이션 (ChatInterface에서 호출될 예정)\n  const simulateOrchestration = useCallback(() => {\n    const enabledCards = promptCards.filter(card => card.enabled);\n    if (enabledCards.length === 0) return;\n    setIsExecuting(true);\n    setCurrentStep(0);\n    setExecutionHistory([]);\n    const executeStep = stepIndex => {\n      if (stepIndex >= enabledCards.length) {\n        // 모든 단계 완료\n        setIsExecuting(false);\n        setCurrentStep(0);\n        return;\n      }\n      setCurrentStep(stepIndex + 1); // 1-based indexing for display\n\n      // 각 단계를 1.5초씩 실행\n      setTimeout(() => {\n        setExecutionHistory(prev => [...prev, stepIndex + 1]);\n        executeStep(stepIndex + 1);\n      }, 1500);\n    };\n    executeStep(0);\n  }, [promptCards]);\n\n  // ChatInterface에서 사용할 수 있도록 expose\n  React.useEffect(() => {\n    if (window) {\n      window.simulateOrchestration = simulateOrchestration;\n    }\n  }, [simulateOrchestration]);\n\n  // 카테고리별 그룹화 (순서 유지) - 빈 카테고리도 표시\n  const groupedCards = FIXED_PROMPT_CATEGORIES.reduce((groups, category) => {\n    const categoryCards = promptCards.filter(card => card.category === category.id);\n    groups[category.id] = {\n      ...category,\n      cards: categoryCards\n    };\n    return groups;\n  }, {});\n\n  // 디버깅용 로그\n  console.log('PromptCardManager Debug:');\n  console.log('promptCards:', promptCards);\n  console.log('groupedCards:', groupedCards);\n  const activeCards = promptCards.filter(card => card.enabled !== false).length;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-50 gap-4 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(ChatInterface, {\n          projectId: projectId,\n          projectName: projectName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-96 bg-white border border-gray-200 rounded-lg shadow-sm flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Cog6ToothIcon, {\n            className: \"h-5 w-5 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-900\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uD15C\\uD50C\\uB9BF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [activeCards, \"/\", promptCards.length, \" \\uD65C\\uC131\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\\uB97C \\uB85C\\uB529 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 15\n          }, this) : Object.values(groupedCards).map(categoryGroup => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-xs font-medium text-gray-700 uppercase tracking-wider\",\n                children: [categoryGroup.order, \". \", categoryGroup.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: categoryGroup.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: categoryGroup.cards.length > 0 ? categoryGroup.cards.map((card, index) => {\n                const enabledCards = promptCards.filter(c => c.enabled);\n                const cardIndex = enabledCards.findIndex(c => (c.promptId || c.id) === (card.promptId || card.id));\n                const stepNumber = cardIndex >= 0 ? cardIndex + 1 : 0;\n                return /*#__PURE__*/_jsxDEV(SidebarPromptCard, {\n                  card: card,\n                  onEdit: handleEditCard,\n                  onToggle: handleToggleCard,\n                  onDelete: handleDeleteCard,\n                  isCurrentStep: currentStep === stepNumber && card.enabled,\n                  isExecuted: executionHistory.includes(stepNumber),\n                  isExecuting: isExecuting,\n                  stepNumber: card.enabled ? stepNumber : 0\n                }, card.promptId || card.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 27\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mb-2\",\n                  children: [categoryGroup.name, \" \\uD504\\uB86C\\uD504\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    // 해당 카테고리의 기본 카드 생성\n                    const defaultCard = {\n                      title: `${categoryGroup.name} 프롬프트`,\n                      category: categoryGroup.id,\n                      model_name: \"claude-3-5-sonnet-20241022\",\n                      temperature: 0.7,\n                      prompt_text: categoryGroup.defaultContent,\n                      enabled: true,\n                      step_order: categoryGroup.order || 1\n                    };\n                    setEditingCard(defaultCard);\n                    setShowForm(true);\n                  },\n                  className: \"text-xs text-blue-600 hover:text-blue-800\",\n                  children: \"+ \\uCE74\\uB4DC \\uCD94\\uAC00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 19\n            }, this)]\n          }, categoryGroup.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium mb-1\",\n            children: \"\\uD83D\\uDCA1 \\uD15C\\uD50C\\uB9BF \\uC2DC\\uC2A4\\uD15C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uAC01 \\uCE74\\uD14C\\uACE0\\uB9AC\\uBCC4 \\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uD3B8\\uC9D1\\uD558\\uC5EC AI \\uC751\\uB2F5\\uC744 \\uAC1C\\uC120\\uD558\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PromptEditModal, {\n      isOpen: showForm,\n      onSubmit: handleUpdateCard,\n      onCancel: handleCancelForm,\n      initialData: editingCard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 683,\n    columnNumber: 5\n  }, this);\n};\n_s3(PromptCardManager, \"T04RuHIsi9QO2WN1RXWHqranju0=\");\n_c4 = PromptCardManager;\nexport default PromptCardManager;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"PromptEditModal\");\n$RefreshReg$(_c2, \"PromptEditForm\");\n$RefreshReg$(_c3, \"SidebarPromptCard\");\n$RefreshReg$(_c4, \"PromptCardManager\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","PlusIcon","PencilIcon","TrashIcon","EyeIcon","EyeSlashIcon","Cog6ToothIcon","DocumentTextIcon","SparklesIcon","CloudArrowUpIcon","XMarkIcon","Bars3Icon","EllipsisHorizontalIcon","promptCardAPI","PROMPT_CARD_CATEGORIES","AVAILABLE_MODELS","handleAPIError","ChatInterface","SidebarSkeleton","PromptCardSkeleton","jsxDEV","_jsxDEV","FIXED_PROMPT_CATEGORIES","id","name","order","color","description","defaultContent","PromptEditModal","isOpen","onSubmit","onCancel","initialData","className","children","PromptEditForm","isModal","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s","formData","setFormData","title","category","model_name","temperature","prompt_text","enabled","step_order","handleSubmit","e","preventDefault","trim","error","console","handleChange","field","value","prev","categoryInfo","find","cat","onClick","type","onChange","target","placeholder","min","max","step","parseFloat","style","background","jsx","rows","_c2","SidebarPromptCard","card","onEdit","onToggle","onDelete","isCurrentStep","isExecuted","isExecuting","stepNumber","_s2","isToggling","setIsToggling","getModelDisplayName","modelId","includes","handleToggleClick","newEnabled","promptId","handleEdit","getCardStyles","width","model","window","confirm","disabled","_c3","PromptCardManager","projectId","onCardsChanged","projectName","_s3","promptCards","setPromptCards","loading","setLoading","showForm","setShowForm","editingCard","setEditingCard","currentStep","setCurrentStep","setIsExecuting","executionHistory","setExecutionHistory","loadPromptCards","response","getPromptCards","cards","log","length","sort","a","b","aCategory","bCategory","errorInfo","message","handleUpdateCard","cardData","updatePromptCard","success","createPromptCard","data","handleToggleCard","togglePromptCard","handleDeleteCard","deletePromptCard","handleEditCard","handleCancelForm","simulateOrchestration","enabledCards","filter","executeStep","stepIndex","setTimeout","groupedCards","reduce","groups","categoryCards","activeCards","Object","values","map","categoryGroup","index","c","cardIndex","findIndex","defaultCard","_c4","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/PromptCardManager.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  EyeSlashIcon,\n  Cog6ToothIcon,\n  DocumentTextIcon,\n  SparklesIcon,\n  CloudArrowUpIcon,\n  XMarkIcon,\n  Bars3Icon,\n  EllipsisHorizontalIcon,\n} from \"@heroicons/react/24/outline\";\nimport {\n  promptCardAPI,\n  PROMPT_CARD_CATEGORIES,\n  AVAILABLE_MODELS,\n  handleAPIError,\n} from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\nimport { SidebarSkeleton, PromptCardSkeleton } from \"./SkeletonLoader\";\n\n// 고정된 프롬프트 카테고리 템플릿 (순서 포함)\nconst FIXED_PROMPT_CATEGORIES = [\n  {\n    id: \"instruction\",\n    name: \"지시사항\",\n    order: 1,\n    color: \"bg-blue-100 text-blue-800\",\n    description: \"AI의 역할과 작업 지시사항을 정의합니다\",\n    defaultContent:\n      \"당신은 전문적인 기사 제목 작성자입니다. 서울경제신문의 스타일에 맞는 매력적이고 정확한 제목을 작성해주세요.\",\n  },\n  {\n    id: \"knowledge\",\n    name: \"지식 베이스\",\n    order: 2,\n    color: \"bg-purple-100 text-purple-800\",\n    description: \"작업에 필요한 배경 지식과 정보를 제공합니다\",\n    defaultContent:\n      \"제목 작성 시 다음 가이드라인을 따라주세요:\\n- 명확하고 간결하게 작성\\n- 독자의 관심을 끌 수 있는 표현 사용\\n- 기사의 핵심 내용을 정확히 반영\",\n  },\n  {\n    id: \"secondary\",\n    name: \"보조 지침\",\n    order: 3,\n    color: \"bg-green-100 text-green-800\",\n    description: \"추가적인 작업 지침과 세부 규칙을 안내합니다\",\n    defaultContent:\n      \"다음 단계를 따라 제목을 생성해주세요:\\n1. 기사 내용 분석\\n2. 핵심 키워드 추출\\n3. 여러 제목 후보 생성\\n4. 최적의 제목 선택\",\n  },\n  {\n    id: \"style_guide\",\n    name: \"스타일 가이드\",\n    order: 4,\n    color: \"bg-orange-100 text-orange-800\",\n    description: \"출력 형식과 스타일 규칙을 정의합니다\",\n    defaultContent:\n      \"결과는 다음 형식으로 제공해주세요:\\n- 메인 제목 1개\\n- 대안 제목 2-3개\\n- 각 제목의 선택 이유 간단 설명\",\n  },\n  {\n    id: \"validation\",\n    name: \"검증 기준\",\n    order: 5,\n    color: \"bg-yellow-100 text-yellow-800\",\n    description: \"품질 검증과 최종 검토 기준을 제시합니다\",\n    defaultContent:\n      \"생성된 제목을 다음 기준으로 검수해주세요:\\n- 문법적 정확성\\n- 사실 관계 확인\\n- 브랜드 가이드라인 준수\\n- 독자 친화성\",\n  },\n  {\n    id: \"enhancement\",\n    name: \"최적화\",\n    order: 6,\n    color: \"bg-red-100 text-red-800\",\n    description: \"결과 개선과 최적화 방법을 안내합니다\",\n    defaultContent:\n      \"좋은 제목 예시:\\n- '반도체 수출 급증, 3분기 실적 기대감 ↑'\\n- '부동산 규제 완화로 거래량 30% 증가'\\n- 'K-뷰티 해외진출 가속화, 올해 수출 목표 달성'\",\n  },\n];\n\n// 프롬프트 편집 모달\nconst PromptEditModal = ({ isOpen, onSubmit, onCancel, initialData }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <PromptEditForm \n          onSubmit={onSubmit} \n          onCancel={onCancel} \n          initialData={initialData}\n          isModal={true}\n        />\n      </div>\n    </div>\n  );\n};\n\n// 프롬프트 폼 (편집 전용)\nconst PromptEditForm = ({ onSubmit, onCancel, initialData, isModal = false }) => {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"instruction\",\n    model_name: \"claude-3-5-sonnet-20241022\",\n    temperature: 0.7,\n    prompt_text: \"\",\n    enabled: true,\n    step_order: 1,\n    ...initialData,\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.prompt_text.trim()) {\n      toast.error(\"프롬프트 내용을 입력해주세요.\");\n      return;\n    }\n\n    try {\n      await onSubmit(formData);\n    } catch (error) {\n      console.error(\"폼 제출 실패:\", error);\n      toast.error(\"폼 제출에 실패했습니다.\");\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(\n    (cat) => cat.id === formData.category\n  );\n\n  return (\n    <div className={isModal ? \"w-full\" : \"max-w-2xl mx-auto\"}>\n      <div className={`bg-white rounded-xl shadow-sm border border-gray-200 ${isModal ? \"p-6\" : \"p-8\"}`}>\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className={`font-bold text-gray-900 mb-2 ${isModal ? \"text-xl\" : \"text-2xl\"}`}>\n                프롬프트 편집\n              </h2>\n              <p className=\"text-gray-600\">{categoryInfo?.description}</p>\n            </div>\n            {isModal && (\n              <button\n                onClick={onCancel}\n                className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors\"\n                title=\"닫기\"\n              >\n                <XMarkIcon className=\"h-5 w-5\" />\n              </button>\n            )}\n          </div>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n\n          {/* 제목 (수정 가능) */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              제목\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => handleChange(\"title\", e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white\"\n              placeholder=\"프롬프트 제목을 입력하세요...\"\n            />\n          </div>\n\n          {/* 모델과 온도 설정 */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                모델\n              </label>\n              <select\n                value={formData.model_name}\n                onChange={(e) => handleChange(\"model_name\", e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"claude-3-5-sonnet-20241022\">\n                  Claude 3.5 Sonnet\n                </option>\n                <option value=\"claude-3-sonnet-20240229\">\n                  Claude 3 Sonnet\n                </option>\n                <option value=\"claude-3-haiku-20240307\">Claude 3 Haiku</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                온도: <span className=\"font-semibold text-blue-600\">{formData.temperature}</span>\n              </label>\n              <div className=\"relative\">\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.1\"\n                  value={formData.temperature}\n                  onChange={(e) =>\n                    handleChange(\"temperature\", parseFloat(e.target.value))\n                  }\n                  className=\"w-full h-3 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 shadow-lg\"\n                  style={{\n                    background: `linear-gradient(to right, \n                      #60a5fa 0%, \n                      #3b82f6 ${formData.temperature * 25}%, \n                      #8b5cf6 ${formData.temperature * 50}%, \n                      #ec4899 ${formData.temperature * 75}%, \n                      #f97316 ${formData.temperature * 100}%, \n                      #e5e7eb ${formData.temperature * 100}%, \n                      #e5e7eb 100%)`\n                  }}\n                />\n                {/* 슬라이더 썸 커스텀 스타일 */}\n                <style jsx>{`\n                  input[type=\"range\"]::-webkit-slider-thumb {\n                    appearance: none;\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    background: linear-gradient(45deg, #ffffff, #f3f4f6);\n                    border: 2px solid #3b82f6;\n                    cursor: pointer;\n                    box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);\n                    transition: all 0.2s ease;\n                  }\n                  input[type=\"range\"]::-webkit-slider-thumb:hover {\n                    transform: scale(1.1);\n                    box-shadow: 0 6px 12px rgba(59, 130, 246, 0.4);\n                  }\n                  input[type=\"range\"]::-moz-range-thumb {\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    background: linear-gradient(45deg, #ffffff, #f3f4f6);\n                    border: 2px solid #3b82f6;\n                    cursor: pointer;\n                    box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);\n                  }\n                `}</style>\n              </div>\n              <div className=\"flex justify-between text-xs mt-2\">\n                <span className=\"text-blue-600 font-medium\">🎯 정확함 (0.0)</span>\n                <span className=\"text-orange-600 font-medium\">🎨 창의적 (1.0)</span>\n              </div>\n            </div>\n          </div>\n\n          {/* 프롬프트 내용 편집 */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              프롬프트 내용\n            </label>\n            <textarea\n              value={formData.prompt_text}\n              onChange={(e) => handleChange(\"prompt_text\", e.target.value)}\n              rows={12}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"프롬프트 내용을 입력하세요...\"\n            />\n            <div className=\"mt-2 text-right\">\n              <button\n                type=\"button\"\n                onClick={() =>\n                  handleChange(\"prompt_text\", categoryInfo?.defaultContent || \"\")\n                }\n                className=\"text-xs text-blue-600 hover:text-blue-800\"\n              >\n                기본 내용으로 복원\n              </button>\n            </div>\n          </div>\n\n          {/* 버튼 */}\n          <div className=\"flex justify-end space-x-3 pt-6\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\n            >\n              취소\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n            >\n              저장\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// 개선된 사이드바 프롬프트 카드 (편집 전용)\nconst SidebarPromptCard = ({ \n  card, \n  onEdit, \n  onToggle, \n  onDelete, \n  isCurrentStep = false, \n  isExecuted = false, \n  isExecuting = false,\n  stepNumber = 0 \n}) => {\n  const [isToggling, setIsToggling] = useState(false);\n\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(\n    (cat) => cat.id === card.category\n  );\n\n  const getModelDisplayName = (modelId) => {\n    if (modelId?.includes(\"claude-3-5-sonnet\")) return \"Claude 3.5 Sonnet\";\n    if (modelId?.includes(\"claude-3-sonnet\")) return \"Claude 3 Sonnet\";\n    if (modelId?.includes(\"claude\")) return \"Claude\";\n    return \"Unknown Model\";\n  };\n\n  // 즉시 반응하는 토글 (낙관적 업데이트)\n  const handleToggleClick = async () => {\n    if (isToggling) return;\n\n    setIsToggling(true);\n    const newEnabled = !card.enabled;\n\n    // 즉시 UI 업데이트 (낙관적 업데이트)\n    card.enabled = newEnabled;\n\n    try {\n      await onToggle(card.promptId || card.id, newEnabled);\n    } catch (error) {\n      // 실패시 원래 상태로 복원\n      card.enabled = !newEnabled;\n      toast.error(\"상태 변경에 실패했습니다.\");\n    } finally {\n      setIsToggling(false);\n    }\n  };\n\n  const handleEdit = () => {\n    onEdit(card);\n  };\n\n  // 실행 상태에 따른 스타일 결정\n  const getCardStyles = () => {\n    if (isCurrentStep && isExecuting) {\n      return \"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-400 shadow-lg shadow-blue-200 ring-2 ring-blue-300 ring-opacity-50\";\n    } else if (isExecuted) {\n      return \"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-400 shadow-md\";\n    } else if (isCurrentStep) {\n      return \"bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-400 shadow-md animate-pulse\";\n    } else {\n      return \"border border-gray-200 bg-white hover:bg-gray-50\";\n    }\n  };\n\n  return (\n    <div className={`group p-4 rounded-xl transition-all duration-300 relative ${getCardStyles()}`}>\n      {/* 단계 번호 표시 */}\n      {stepNumber > 0 && (\n        <div className={`absolute -top-2 -left-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${\n          isCurrentStep && isExecuting \n            ? \"bg-gradient-to-r from-blue-500 to-indigo-600 text-white animate-spin\" \n            : isExecuted \n            ? \"bg-gradient-to-r from-green-500 to-emerald-600 text-white\"\n            : isCurrentStep\n            ? \"bg-gradient-to-r from-yellow-500 to-amber-600 text-white animate-bounce\"\n            : \"bg-gray-300 text-gray-600\"\n        }`}>\n          {isExecuted ? \"✓\" : stepNumber}\n        </div>\n      )}\n      \n      {/* 실행 중일 때 진행 바 */}\n      {isCurrentStep && isExecuting && (\n        <div className=\"absolute top-0 left-0 h-1 bg-gradient-to-r from-blue-400 to-indigo-600 rounded-t-xl animate-pulse\" \n             style={{ width: \"100%\" }}></div>\n      )}\n      \n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <span\n              className={`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${categoryInfo?.color}`}\n            >\n              {categoryInfo?.order}. {categoryInfo?.name}\n            </span>\n            <h6 className=\"text-sm font-medium text-gray-900 truncate\">\n              {card.title}\n            </h6>\n          </div>\n          <div className=\"text-xs text-gray-500 space-y-1\">\n            <div>Temperature: {card.temperature || 0.7}</div>\n            <div>Model: {getModelDisplayName(card.model_name || card.model)}</div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-2 ml-4\">\n          {/* 편집 버튼 */}\n          <button\n            onClick={handleEdit}\n            className=\"p-1 text-gray-400 hover:text-blue-600 rounded transition-all hover:bg-blue-50\"\n            title=\"편집\"\n          >\n            <PencilIcon className=\"h-4 w-4\" />\n          </button>\n\n          {/* 삭제 버튼 */}\n          <button\n            onClick={() => {\n              if (window.confirm('이 프롬프트 카드를 삭제하시겠습니까?')) {\n                onDelete(card.promptId || card.id);\n              }\n            }}\n            className=\"p-1 text-gray-400 hover:text-red-600 rounded transition-all hover:bg-red-50\"\n            title=\"삭제\"\n          >\n            <TrashIcon className=\"h-4 w-4\" />\n          </button>\n\n          {/* 개선된 토글 스위치 */}\n          <button\n            onClick={handleToggleClick}\n            disabled={isToggling}\n            className={`relative w-12 h-6 rounded-full transition-all duration-300 focus:outline-none focus:ring-3 focus:ring-offset-2 transform hover:scale-105 ${\n              card.enabled \n                ? \"bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 shadow-lg shadow-emerald-200 focus:ring-emerald-300\" \n                : \"bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-400 shadow-inner focus:ring-gray-300\"\n            } ${isToggling ? \"opacity-70 cursor-not-allowed\" : \"cursor-pointer\"}`}\n            title={card.enabled ? \"비활성화\" : \"활성화\"}\n          >\n            <div\n              className={`w-5 h-5 bg-white rounded-full shadow-lg transform transition-all duration-300 ease-in-out absolute top-0.5 flex items-center justify-center ${\n                card.enabled ? \"translate-x-6\" : \"translate-x-0.5\"\n              }`}\n            >\n              {/* 토글 내부 아이콘 */}\n              <div className={`w-2 h-2 rounded-full transition-colors duration-200 ${\n                card.enabled ? \"bg-emerald-500\" : \"bg-gray-400\"\n              }`}></div>\n            </div>\n            {/* 활성화 상태 표시 */}\n            {card.enabled && (\n              <div className=\"absolute inset-0 rounded-full animate-pulse bg-emerald-400 opacity-20\"></div>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 메인 PromptCardManager 컴포넌트 (템플릿 시스템)\nconst PromptCardManager = ({ projectId, onCardsChanged, projectName }) => {\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n  \n  // 오케스트레이션 단계 상태\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [executionHistory, setExecutionHistory] = useState([]);\n\n  // 프롬프트 카드 목록 로딩 및 기본 카드 생성\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(\n        projectId,\n        true,\n        true\n      );\n      let cards = response.promptCards || [];\n\n      // 기본 카테고리별로 카드가 없으면 생성 (임시 비활성화)\n      console.log('Loaded cards from API:', cards.length);\n      // TODO: 기본 카드 생성 로직을 API 스키마 확인 후 다시 활성화\n      /*\n      for (const category of FIXED_PROMPT_CATEGORIES) {\n        const existingCard = cards.find(\n          (card) => card.category === category.id\n        );\n        if (!existingCard) {\n          // 기본 카드 생성\n          const defaultCard = {\n            title: `${category.name} 프롬프트`,\n            category: category.id,\n            model_name: \"claude-3-5-sonnet-20241022\",\n            temperature: 0.7,\n            prompt_text: category.defaultContent,\n            enabled: true,\n            step_order: category.order || 1,\n          };\n\n          try {\n            console.log(`Creating default card for ${category.name}:`, defaultCard);\n            const newCard = await promptCardAPI.createPromptCard(\n              projectId,\n              defaultCard\n            );\n            cards.push(newCard);\n          } catch (error) {\n            console.error(`기본 카드 생성 실패 (${category.name}):`, error);\n            if (error.response) {\n              console.error('API Response:', error.response.data);\n              console.error('Status:', error.response.status);\n            }\n          }\n        }\n      }\n      */\n\n      // 순서대로 정렬\n      cards.sort((a, b) => {\n        const aCategory = FIXED_PROMPT_CATEGORIES.find(\n          (cat) => cat.id === a.category\n        );\n        const bCategory = FIXED_PROMPT_CATEGORIES.find(\n          (cat) => cat.id === b.category\n        );\n        return (aCategory?.order || 999) - (bCategory?.order || 999);\n      });\n\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 프롬프트 카드 수정/생성\n  const handleUpdateCard = async (cardData) => {\n    try {\n      if (editingCard.promptId || editingCard.id) {\n        // 기존 카드 수정\n        await promptCardAPI.updatePromptCard(\n          projectId,\n          editingCard.promptId || editingCard.id,\n          cardData\n        );\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 새 카드 생성\n        console.log('Creating new card:', cardData);\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      setEditingCard(null);\n      setShowForm(false);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard.promptId || editingCard.id ? '수정' : '생성'} 실패: ${errorInfo.message}`);\n      console.error('Card operation error:', error);\n      if (error.response) {\n        console.error('API Response:', error.response.data);\n      }\n    }\n  };\n\n  // 프롬프트 카드 활성/비활성 토글 (백그라운드 처리)\n  const handleToggleCard = async (promptId, enabled) => {\n    try {\n      await promptCardAPI.togglePromptCard(projectId, promptId, enabled);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      throw error; // SidebarPromptCard에서 처리\n    }\n  };\n\n  // 프롬프트 카드 삭제\n  const handleDeleteCard = async (promptId) => {\n    try {\n      await promptCardAPI.deletePromptCard(projectId, promptId);\n      toast.success(\"프롬프트 카드가 삭제되었습니다!\");\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 삭제 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = (card) => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // 오케스트레이션 실행 시뮬레이션 (ChatInterface에서 호출될 예정)\n  const simulateOrchestration = useCallback(() => {\n    const enabledCards = promptCards.filter(card => card.enabled);\n    if (enabledCards.length === 0) return;\n\n    setIsExecuting(true);\n    setCurrentStep(0);\n    setExecutionHistory([]);\n\n    const executeStep = (stepIndex) => {\n      if (stepIndex >= enabledCards.length) {\n        // 모든 단계 완료\n        setIsExecuting(false);\n        setCurrentStep(0);\n        return;\n      }\n\n      setCurrentStep(stepIndex + 1); // 1-based indexing for display\n      \n      // 각 단계를 1.5초씩 실행\n      setTimeout(() => {\n        setExecutionHistory(prev => [...prev, stepIndex + 1]);\n        executeStep(stepIndex + 1);\n      }, 1500);\n    };\n\n    executeStep(0);\n  }, [promptCards]);\n\n  // ChatInterface에서 사용할 수 있도록 expose\n  React.useEffect(() => {\n    if (window) {\n      window.simulateOrchestration = simulateOrchestration;\n    }\n  }, [simulateOrchestration]);\n\n  // 카테고리별 그룹화 (순서 유지) - 빈 카테고리도 표시\n  const groupedCards = FIXED_PROMPT_CATEGORIES.reduce((groups, category) => {\n    const categoryCards = promptCards.filter(\n      (card) => card.category === category.id\n    );\n    groups[category.id] = {\n      ...category,\n      cards: categoryCards,\n    };\n    return groups;\n  }, {});\n\n  // 디버깅용 로그\n  console.log('PromptCardManager Debug:');\n  console.log('promptCards:', promptCards);\n  console.log('groupedCards:', groupedCards);\n\n  const activeCards = promptCards.filter(\n    (card) => card.enabled !== false\n  ).length;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50 gap-4 p-4\">\n      {/* 왼쪽 채팅 영역 */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* 메인 콘텐츠 영역 */}\n        <div className=\"flex-1 overflow-hidden\">\n          <ChatInterface projectId={projectId} projectName={projectName} />\n        </div>\n      </div>\n\n      {/* 우측 사이드바 */}\n      <aside className=\"w-96 bg-white border border-gray-200 rounded-lg shadow-sm flex flex-col\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-white\">\n          <div className=\"flex items-center space-x-2\">\n            <Cog6ToothIcon className=\"h-5 w-5 text-gray-600\" />\n            <h3 className=\"text-sm font-semibold text-gray-900\">\n              프롬프트 템플릿\n            </h3>\n          </div>\n          <div className=\"text-xs text-gray-500\">\n            {activeCards}/{promptCards.length} 활성\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          <div className=\"space-y-6\">\n            {loading ? (\n              <div className=\"text-center py-8\">\n                <DocumentTextIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-500\">프롬프트 카드를 로딩 중...</p>\n              </div>\n            ) : (\n              Object.values(groupedCards).map((categoryGroup) => (\n                <div key={categoryGroup.id}>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h5 className=\"text-xs font-medium text-gray-700 uppercase tracking-wider\">\n                      {categoryGroup.order}. {categoryGroup.name}\n                    </h5>\n                    <span className=\"text-xs text-gray-500\">\n                      {categoryGroup.description}\n                    </span>\n                  </div>\n                  <div className=\"space-y-2\">\n                    {categoryGroup.cards.length > 0 ? (\n                      categoryGroup.cards.map((card, index) => {\n                        const enabledCards = promptCards.filter(c => c.enabled);\n                        const cardIndex = enabledCards.findIndex(c => (c.promptId || c.id) === (card.promptId || card.id));\n                        const stepNumber = cardIndex >= 0 ? cardIndex + 1 : 0;\n                        \n                        return (\n                          <SidebarPromptCard\n                            key={card.promptId || card.id}\n                            card={card}\n                            onEdit={handleEditCard}\n                            onToggle={handleToggleCard}\n                            onDelete={handleDeleteCard}\n                            isCurrentStep={currentStep === stepNumber && card.enabled}\n                            isExecuted={executionHistory.includes(stepNumber)}\n                            isExecuting={isExecuting}\n                            stepNumber={card.enabled ? stepNumber : 0}\n                          />\n                        );\n                      })\n                    ) : (\n                      <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\">\n                        <p className=\"text-xs text-gray-500 mb-2\">\n                          {categoryGroup.name} 프롬프트가 없습니다\n                        </p>\n                        <button \n                          onClick={() => {\n                            // 해당 카테고리의 기본 카드 생성\n                            const defaultCard = {\n                              title: `${categoryGroup.name} 프롬프트`,\n                              category: categoryGroup.id,\n                              model_name: \"claude-3-5-sonnet-20241022\",\n                              temperature: 0.7,\n                              prompt_text: categoryGroup.defaultContent,\n                              enabled: true,\n                              step_order: categoryGroup.order || 1,\n                            };\n                            setEditingCard(defaultCard);\n                            setShowForm(true);\n                          }}\n                          className=\"text-xs text-blue-600 hover:text-blue-800\"\n                        >\n                          + 카드 추가\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* 사이드바 하단 - 도움말 */}\n        <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n          <div className=\"text-xs text-gray-600\">\n            <p className=\"font-medium mb-1\">💡 템플릿 시스템</p>\n            <p>각 카테고리별 프롬프트를 편집하여 AI 응답을 개선하세요.</p>\n          </div>\n        </div>\n      </aside>\n\n      {/* 프롬프트 편집 모달 */}\n      <PromptEditModal\n        isOpen={showForm}\n        onSubmit={handleUpdateCard}\n        onCancel={handleCancelForm}\n        initialData={editingCard}\n      />\n    </div>\n  );\n};\n\nexport default PromptCardManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}