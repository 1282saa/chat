{"ast":null,"code":"import React,{useState}from\"react\";import{useDropzone}from\"react-dropzone\";import{CloudArrowUpIcon,DocumentTextIcon,CheckCircleIcon,ClockIcon,ExclamationTriangleIcon,PencilSquareIcon}from\"@heroicons/react/24/outline\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PromptUpload=_ref=>{let{categories,promptStatus,onUpload}=_ref;const[uploadingCategory,setUploadingCategory]=useState(null);const handleFileUpload=async(categoryId,files)=>{if(files.length===0)return;const file=files[0];if(!file.name.endsWith(\".txt\")){alert(\"txt 파일만 업로드 가능합니다.\");return;}try{setUploadingCategory(categoryId);await onUpload(categoryId,file);}catch(error){console.error(\"Upload failed:\",error);}finally{setUploadingCategory(null);}};const handleTextUpload=async function(categoryId,text){let filename=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"직접입력.txt\";if(!text.trim()){alert(\"텍스트를 입력해주세요.\");return;}try{setUploadingCategory(categoryId);// 텍스트를 File 객체로 변환\nconst blob=new Blob([text],{type:\"text/plain\"});const file=new File([blob],filename,{type:\"text/plain\"});await onUpload(categoryId,file);}catch(error){console.error(\"Text upload failed:\",error);}finally{setUploadingCategory(null);}};const getStatusIcon=categoryId=>{const status=promptStatus[categoryId];if(!status)return null;if(status.indexed){return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-green-600\"});}else if(status.uploaded){return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-yellow-600 animate-spin\"});}else{return/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-5 w-5 text-gray-400\"});}};const getStatusText=categoryId=>{const status=promptStatus[categoryId];if(!status)return\"업로드 대기\";if(status.indexed){return\"색인 완료\";}else if(status.uploaded){return\"색인 중...\";}else{return\"업로드 대기\";}};const getRequiredCategories=()=>categories.filter(cat=>cat.required);const getOptionalCategories=()=>categories.filter(cat=>!cat.required);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-900 mb-3\",children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC \\uC548\\uB0B4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uAC01 \\uCE74\\uD14C\\uACE0\\uB9AC\\uBCC4\\uB85C txt \\uD30C\\uC77C\\uC744 \\uC5C5\\uB85C\\uB4DC\\uD558\\uAC70\\uB098 \\uC9C1\\uC811 \\uD14D\\uC2A4\\uD2B8\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC \\uB610\\uB294 \\uD14D\\uC2A4\\uD2B8 \\uC785\\uB825 \\uD6C4 \\uC790\\uB3D9\\uC73C\\uB85C \\uC784\\uBCA0\\uB529 \\uC0DD\\uC131 \\uBC0F \\uC0C9\\uC778\\uC774 \\uC9C4\\uD589\\uB429\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uD544\\uC218 \\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uBAA8\\uB450 \\uC5C5\\uB85C\\uB4DC\\uD574\\uC57C \\uC81C\\uBAA9 \\uC0DD\\uC131\\uC774 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\uD30C\\uC77C \\uB4DC\\uB798\\uADF8\\uC564\\uB4DC\\uB86D, \\uD074\\uB9AD \\uC5C5\\uB85C\\uB4DC, \\uB610\\uB294 \\\"\\uC9C1\\uC811 \\uC785\\uB825\\\" \\uBC84\\uD2BC\\uC744 \\uD1B5\\uD574 \\uD14D\\uC2A4\\uD2B8\\uB97C \\uBD99\\uC5EC\\uB123\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-red-500 mr-2\"}),\"\\uD544\\uC218 \\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uD14C\\uACE0\\uB9AC\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4 md:grid-cols-2\",children:getRequiredCategories().map(category=>/*#__PURE__*/_jsx(PromptUploadCard,{category:category,status:promptStatus[category.id],isUploading:uploadingCategory===category.id,onUpload:files=>handleFileUpload(category.id,files),onTextUpload:text=>handleTextUpload(category.id,text),getStatusIcon:()=>getStatusIcon(category.id),getStatusText:()=>getStatusText(category.id)},category.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-5 w-5 text-gray-500 mr-2\"}),\"\\uC120\\uD0DD \\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uD14C\\uACE0\\uB9AC\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4 md:grid-cols-2\",children:getOptionalCategories().map(category=>/*#__PURE__*/_jsx(PromptUploadCard,{category:category,status:promptStatus[category.id],isUploading:uploadingCategory===category.id,onUpload:files=>handleFileUpload(category.id,files),onTextUpload:text=>handleTextUpload(category.id,text),getStatusIcon:()=>getStatusIcon(category.id),getStatusText:()=>getStatusText(category.id)},category.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uC5C5\\uB85C\\uB4DC \\uC9C4\\uD589 \\uC0C1\\uD669\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:categories.map(category=>{const status=promptStatus[category.id];const isComplete=status===null||status===void 0?void 0:status.indexed;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:getStatusIcon(category.id)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900\",children:[category.name,category.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:(status===null||status===void 0?void 0:status.fileName)||\"파일 없음\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${isComplete?\"text-green-600\":\"text-gray-500\"}`,children:getStatusText(category.id)})})]},category.id);})})]})]});};const PromptUploadCard=_ref2=>{let{category,status,isUploading,onUpload,onTextUpload,getStatusIcon,getStatusText}=_ref2;const[showTextInput,setShowTextInput]=useState(false);const[textContent,setTextContent]=useState(\"\");const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop:onUpload,accept:{\"text/plain\":[\".txt\"]},maxFiles:1,disabled:isUploading});const handleTextSubmit=()=>{onTextUpload(textContent);setTextContent(\"\");setShowTextInput(false);};return/*#__PURE__*/_jsxs(\"div\",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${isDragActive?\"border-blue-400 bg-blue-50\":status!==null&&status!==void 0&&status.indexed?\"border-green-300 bg-green-50\":\"border-gray-300 hover:border-gray-400\"}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-gray-900 mb-1\",children:[category.name,category.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:category.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 ml-3\",children:getStatusIcon()})]}),showTextInput?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:textContent,onChange:e=>setTextContent(e.target.value),placeholder:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uD14D\\uC2A4\\uD2B8\\uB97C \\uC5EC\\uAE30\\uC5D0 \\uBD99\\uC5EC\\uB123\\uAC70\\uB098 \\uC9C1\\uC811 \\uC785\\uB825\\uD558\\uC138\\uC694...\",className:\"w-full h-32 p-3 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",disabled:isUploading}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleTextSubmit,disabled:isUploading||!textContent.trim(),className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm\",children:isUploading?\"업로드 중...\":\"텍스트 업로드\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowTextInput(false);setTextContent(\"\");},disabled:isUploading,className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 disabled:opacity-50 text-sm\",children:\"\\uCDE8\\uC18C\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{...getRootProps(),className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{...getInputProps()}),isUploading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:\"\\uC5C5\\uB85C\\uB4DC \\uC911...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CloudArrowUpIcon,{className:\"mx-auto h-8 w-8 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:isDragActive?\"파일을 여기에 드롭하세요\":\"txt 파일을 드래그하거나 클릭하여 업로드\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTextInput(true),disabled:isUploading,className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(PencilSquareIcon,{className:\"h-4 w-4 mr-2\"}),\"\\uC9C1\\uC811 \\uC785\\uB825\"]})})]}),(status===null||status===void 0?void 0:status.fileName)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-2 bg-gray-100 rounded text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:status.fileName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:getStatusText()})]})]});};export default PromptUpload;","map":{"version":3,"names":["React","useState","useDropzone","CloudArrowUpIcon","DocumentTextIcon","CheckCircleIcon","ClockIcon","ExclamationTriangleIcon","PencilSquareIcon","jsx","_jsx","jsxs","_jsxs","PromptUpload","_ref","categories","promptStatus","onUpload","uploadingCategory","setUploadingCategory","handleFileUpload","categoryId","files","length","file","name","endsWith","alert","error","console","handleTextUpload","text","filename","arguments","undefined","trim","blob","Blob","type","File","getStatusIcon","status","indexed","className","uploaded","getStatusText","getRequiredCategories","filter","cat","required","getOptionalCategories","children","map","category","PromptUploadCard","id","isUploading","onTextUpload","isComplete","fileName","_ref2","showTextInput","setShowTextInput","textContent","setTextContent","getRootProps","getInputProps","isDragActive","onDrop","accept","maxFiles","disabled","handleTextSubmit","description","value","onChange","e","target","placeholder","onClick"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/PromptUpload.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport {\n  CloudArrowUpIcon,\n  DocumentTextIcon,\n  CheckCircleIcon,\n  ClockIcon,\n  ExclamationTriangleIcon,\n  PencilSquareIcon,\n} from \"@heroicons/react/24/outline\";\n\nconst PromptUpload = ({ categories, promptStatus, onUpload }) => {\n  const [uploadingCategory, setUploadingCategory] = useState(null);\n\n  const handleFileUpload = async (categoryId, files) => {\n    if (files.length === 0) return;\n\n    const file = files[0];\n    if (!file.name.endsWith(\".txt\")) {\n      alert(\"txt 파일만 업로드 가능합니다.\");\n      return;\n    }\n\n    try {\n      setUploadingCategory(categoryId);\n      await onUpload(categoryId, file);\n    } catch (error) {\n      console.error(\"Upload failed:\", error);\n    } finally {\n      setUploadingCategory(null);\n    }\n  };\n\n  const handleTextUpload = async (categoryId, text, filename = \"직접입력.txt\") => {\n    if (!text.trim()) {\n      alert(\"텍스트를 입력해주세요.\");\n      return;\n    }\n\n    try {\n      setUploadingCategory(categoryId);\n      // 텍스트를 File 객체로 변환\n      const blob = new Blob([text], { type: \"text/plain\" });\n      const file = new File([blob], filename, { type: \"text/plain\" });\n      await onUpload(categoryId, file);\n    } catch (error) {\n      console.error(\"Text upload failed:\", error);\n    } finally {\n      setUploadingCategory(null);\n    }\n  };\n\n  const getStatusIcon = (categoryId) => {\n    const status = promptStatus[categoryId];\n    if (!status) return null;\n\n    if (status.indexed) {\n      return <CheckCircleIcon className=\"h-5 w-5 text-green-600\" />;\n    } else if (status.uploaded) {\n      return <ClockIcon className=\"h-5 w-5 text-yellow-600 animate-spin\" />;\n    } else {\n      return <DocumentTextIcon className=\"h-5 w-5 text-gray-400\" />;\n    }\n  };\n\n  const getStatusText = (categoryId) => {\n    const status = promptStatus[categoryId];\n    if (!status) return \"업로드 대기\";\n\n    if (status.indexed) {\n      return \"색인 완료\";\n    } else if (status.uploaded) {\n      return \"색인 중...\";\n    } else {\n      return \"업로드 대기\";\n    }\n  };\n\n  const getRequiredCategories = () => categories.filter((cat) => cat.required);\n  const getOptionalCategories = () => categories.filter((cat) => !cat.required);\n\n  return (\n    <div className=\"space-y-8\">\n      {/* 프롬프트 업로드 안내 */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n        <h3 className=\"text-lg font-semibold text-blue-900 mb-3\">\n          프롬프트 파일 업로드 안내\n        </h3>\n        <div className=\"space-y-2 text-sm text-blue-800\">\n          <p>• 각 카테고리별로 txt 파일을 업로드하거나 직접 텍스트를 입력하세요</p>\n          <p>• 파일 업로드 또는 텍스트 입력 후 자동으로 임베딩 생성 및 색인이 진행됩니다</p>\n          <p>• 필수 프롬프트를 모두 업로드해야 제목 생성이 가능합니다</p>\n          <p>• 파일 드래그앤드롭, 클릭 업로드, 또는 \"직접 입력\" 버튼을 통해 텍스트를 붙여넣을 수 있습니다</p>\n        </div>\n      </div>\n\n      {/* 필수 프롬프트 카테고리 */}\n      <div>\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <ExclamationTriangleIcon className=\"h-5 w-5 text-red-500 mr-2\" />\n          필수 프롬프트 카테고리\n        </h3>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          {getRequiredCategories().map((category) => (\n            <PromptUploadCard\n              key={category.id}\n              category={category}\n              status={promptStatus[category.id]}\n              isUploading={uploadingCategory === category.id}\n              onUpload={(files) => handleFileUpload(category.id, files)}\n              onTextUpload={(text) => handleTextUpload(category.id, text)}\n              getStatusIcon={() => getStatusIcon(category.id)}\n              getStatusText={() => getStatusText(category.id)}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* 선택 프롬프트 카테고리 */}\n      <div>\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <DocumentTextIcon className=\"h-5 w-5 text-gray-500 mr-2\" />\n          선택 프롬프트 카테고리\n        </h3>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          {getOptionalCategories().map((category) => (\n            <PromptUploadCard\n              key={category.id}\n              category={category}\n              status={promptStatus[category.id]}\n              isUploading={uploadingCategory === category.id}\n              onUpload={(files) => handleFileUpload(category.id, files)}\n              onTextUpload={(text) => handleTextUpload(category.id, text)}\n              getStatusIcon={() => getStatusIcon(category.id)}\n              getStatusText={() => getStatusText(category.id)}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* 업로드 진행 상황 */}\n      <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          업로드 진행 상황\n        </h3>\n        <div className=\"space-y-3\">\n          {categories.map((category) => {\n            const status = promptStatus[category.id];\n            const isComplete = status?.indexed;\n\n            return (\n              <div\n                key={category.id}\n                className=\"flex items-center justify-between\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"flex-shrink-0\">\n                    {getStatusIcon(category.id)}\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      {category.name}\n                      {category.required && (\n                        <span className=\"text-red-500 ml-1\">*</span>\n                      )}\n                    </p>\n                    <p className=\"text-sm text-gray-500\">\n                      {status?.fileName || \"파일 없음\"}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <span\n                    className={`text-sm font-medium ${\n                      isComplete ? \"text-green-600\" : \"text-gray-500\"\n                    }`}\n                  >\n                    {getStatusText(category.id)}\n                  </span>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst PromptUploadCard = ({\n  category,\n  status,\n  isUploading,\n  onUpload,\n  onTextUpload,\n  getStatusIcon,\n  getStatusText,\n}) => {\n  const [showTextInput, setShowTextInput] = useState(false);\n  const [textContent, setTextContent] = useState(\"\");\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop: onUpload,\n    accept: {\n      \"text/plain\": [\".txt\"],\n    },\n    maxFiles: 1,\n    disabled: isUploading,\n  });\n\n  const handleTextSubmit = () => {\n    onTextUpload(textContent);\n    setTextContent(\"\");\n    setShowTextInput(false);\n  };\n\n  return (\n    <div\n      className={`border-2 border-dashed rounded-lg p-6 transition-colors ${\n        isDragActive\n          ? \"border-blue-400 bg-blue-50\"\n          : status?.indexed\n          ? \"border-green-300 bg-green-50\"\n          : \"border-gray-300 hover:border-gray-400\"\n      }`}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1\">\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-1\">\n            {category.name}\n            {category.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </h4>\n          <p className=\"text-xs text-gray-600\">{category.description}</p>\n        </div>\n        <div className=\"flex-shrink-0 ml-3\">{getStatusIcon()}</div>\n      </div>\n\n      {showTextInput ? (\n        <div className=\"space-y-4\">\n          <textarea\n            value={textContent}\n            onChange={(e) => setTextContent(e.target.value)}\n            placeholder=\"프롬프트 텍스트를 여기에 붙여넣거나 직접 입력하세요...\"\n            className=\"w-full h-32 p-3 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            disabled={isUploading}\n          />\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={handleTextSubmit}\n              disabled={isUploading || !textContent.trim()}\n              className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n            >\n              {isUploading ? \"업로드 중...\" : \"텍스트 업로드\"}\n            </button>\n            <button\n              onClick={() => {\n                setShowTextInput(false);\n                setTextContent(\"\");\n              }}\n              disabled={isUploading}\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 disabled:opacity-50 text-sm\"\n            >\n              취소\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          <div {...getRootProps()} className=\"cursor-pointer\">\n            <input {...getInputProps()} />\n\n            {isUploading ? (\n              <div className=\"text-center py-4\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n                <p className=\"text-sm text-gray-600 mt-2\">업로드 중...</p>\n              </div>\n            ) : (\n              <div className=\"text-center py-4\">\n                <CloudArrowUpIcon className=\"mx-auto h-8 w-8 text-gray-400\" />\n                <p className=\"text-sm text-gray-600 mt-2\">\n                  {isDragActive\n                    ? \"파일을 여기에 드롭하세요\"\n                    : \"txt 파일을 드래그하거나 클릭하여 업로드\"}\n                </p>\n              </div>\n            )}\n          </div>\n\n          <div className=\"text-center\">\n            <button\n              onClick={() => setShowTextInput(true)}\n              disabled={isUploading}\n              className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n            >\n              <PencilSquareIcon className=\"h-4 w-4 mr-2\" />\n              직접 입력\n            </button>\n          </div>\n        </div>\n      )}\n\n      {status?.fileName && (\n        <div className=\"mt-3 p-2 bg-gray-100 rounded text-sm\">\n          <p className=\"font-medium text-gray-900\">{status.fileName}</p>\n          <p className=\"text-gray-600\">{getStatusText()}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PromptUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}