{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{useConversations}from\"../../hooks/useConversations\";import{useConversationContext}from\"../../contexts/ConversationContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ConversationDrawer=_ref=>{let{isOpen,onClose,className=\"\",onCollapsedChange}=_ref;const{conversations,loading,error,hasMore,loadMore,refresh,createConversation,deleteConversation}=useConversations();const{currentConversationId,setCurrentConversation}=useConversationContext();const[isCreating,setIsCreating]=useState(false);const[isCollapsed,setIsCollapsed]=useState(false);const[createError,setCreateError]=useState(null);const[deletingId,setDeletingId]=useState(null);const[deleteError,setDeleteError]=useState(null);const[activeMenuId,setActiveMenuId]=useState(null);const[editingId,setEditingId]=useState(null);const[editingTitle,setEditingTitle]=useState(\"\");// 대화 목록 스크롤을 위한 ref\nconst conversationListRef=useRef(null);// 새 대화가 추가될 때마다 맨 아래로 스크롤\nuseEffect(()=>{if(conversationListRef.current&&conversations.length>0&&!isCollapsed){conversationListRef.current.scrollTop=conversationListRef.current.scrollHeight;}},[conversations.length,isCollapsed]);// 외부 클릭 시 메뉴 닫기\nuseEffect(()=>{const handleClickOutside=event=>{if(activeMenuId&&!event.target.closest('.conversation-menu')){setActiveMenuId(null);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[activeMenuId]);// 새 대화 생성\nconst handleNewChat=async()=>{if(isCreating)return;setIsCreating(true);setCreateError(null);try{const newConversation=await createConversation(\"새 대화\");setCurrentConversation(newConversation.id);if(window.innerWidth<768){onClose();}}catch(error){console.error(\"새 대화 생성 실패:\",error);setCreateError(\"새 대화를 생성할 수 없습니다. 다시 시도해주세요.\");setTimeout(()=>setCreateError(null),3000);}finally{setIsCreating(false);}};// 대화 선택\nconst handleSelectConversation=conversationId=>{setCurrentConversation(conversationId);if(window.innerWidth<768){onClose();}};// 대화 삭제\nconst handleDeleteConversation=async(conversationId,event)=>{event.stopPropagation();// 대화 선택을 방지\nif(!window.confirm('이 대화를 삭제하시겠습니까?')){return;}setDeletingId(conversationId);setDeleteError(null);setActiveMenuId(null);// 메뉴 닫기\ntry{await deleteConversation(conversationId);// 현재 선택된 대화가 삭제된 경우 첫 번째 대화로 이동\nif(currentConversationId===conversationId&&conversations.length>1){const remainingConversations=conversations.filter(conv=>conv.id!==conversationId);if(remainingConversations.length>0){setCurrentConversation(remainingConversations[0].id);}}console.log('대화 삭제 완료:',conversationId);}catch(error){console.error('대화 삭제 중 오류:',error);// 일반적으로 API 오류가 발생해도 로컬에서는 삭제되므로 에러 표시하지 않음\n// setDeleteError('대화를 삭제할 수 없습니다. 다시 시도해주세요.');\n// setTimeout(() => setDeleteError(null), 3000);\n}finally{setDeletingId(null);}};// 대화 수정 시작\nconst handleStartEdit=(conversationId,currentTitle,event)=>{event.stopPropagation();setEditingId(conversationId);setEditingTitle(currentTitle);setActiveMenuId(null);// 메뉴 닫기\n};// 대화 수정 완료\nconst handleSaveEdit=async conversationId=>{if(!editingTitle.trim()){setEditingId(null);setEditingTitle(\"\");return;}try{// TODO: API 호출로 대화 제목 업데이트\nconsole.log('대화 제목 업데이트:',conversationId,editingTitle);// await updateConversation(conversationId, { title: editingTitle });\nsetEditingId(null);setEditingTitle(\"\");}catch(error){console.error('대화 제목 수정 중 오류:',error);}};// 대화 수정 취소\nconst handleCancelEdit=()=>{setEditingId(null);setEditingTitle(\"\");};// 메뉴 토글\nconst handleToggleMenu=(conversationId,event)=>{event.stopPropagation();setActiveMenuId(activeMenuId===conversationId?null:conversationId);};const formatLastActivity=timestamp=>{if(!timestamp)return\"\";const date=new Date(timestamp);const now=new Date();const diffInMinutes=Math.floor((now-date)/60000);const diffInHours=Math.floor(diffInMinutes/60);if(diffInMinutes<1)return\"방금 전\";if(diffInMinutes<60)return`${diffInMinutes}분 전`;if(diffInHours<24)return`${diffInHours}시간 전`;return date.toLocaleDateString(\"ko-KR\",{month:\"short\",day:\"numeric\"});};// 대화를 날짜별로 그룹화\nconst groupConversationsByDate=conversations=>{const groups={};const today=new Date();const yesterday=new Date(today);yesterday.setDate(yesterday.getDate()-1);conversations.forEach(conversation=>{const date=new Date(conversation.lastActivityAt||conversation.createdAt);const isToday=date.toDateString()===today.toDateString();const isYesterday=date.toDateString()===yesterday.toDateString();let key;if(isToday){key=\"Today\";}else if(isYesterday){key=\"Yesterday\";}else{const monthYear=date.toLocaleDateString(\"ko-KR\",{year:\"numeric\",month:\"2-digit\"});key=monthYear;}if(!groups[key]){groups[key]=[];}groups[key].push(conversation);});return groups;};const conversationGroups=groupConversationsByDate(conversations);return/*#__PURE__*/_jsxs(_Fragment,{children:[isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\",onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:`\n        conversation-drawer\n        fixed top-0 left-0 h-full z-[9999]\n        bg-[#0d1117]\n        border-r border-[#21262d] shadow-[inset_0_0_16px_rgba(0,0,0,0.4)]\n        transform transition-all duration-500 ease-out\n        ${isOpen?\"translate-x-0\":\"-translate-x-full\"}\n        md:translate-x-0\n        ${isCollapsed?\"w-14\":\"w-full md:w-64\"}\n        ${className}\n      `,style:{overscrollBehavior:'contain'},children:[!isCollapsed&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-5 border-b border-[#21262d] relative transition-opacity duration-300 ease-in-out\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold tracking-tight text-[#e6edf3]\",children:\"TITLE-NOMICS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newCollapsed=!isCollapsed;setIsCollapsed(newCollapsed);if(onCollapsedChange){onCollapsedChange(newCollapsed);}},className:\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\",title:\"\\uC0AC\\uC774\\uB4DC\\uBC14 \\uC811\\uAE30\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"})})})]}),isCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"p-2 flex justify-center border-b border-[#21262d]\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newCollapsed=!isCollapsed;setIsCollapsed(newCollapsed);if(onCollapsedChange){onCollapsedChange(newCollapsed);}},className:\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\",title:\"\\uC0AC\\uC774\\uB4DC\\uBC14 \\uD3BC\\uCE58\\uAE30\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200 rotate-180\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"})})})}),!isCollapsed&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-[#21262d] transition-opacity duration-300 ease-in-out\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleNewChat,disabled:isCreating,className:\"group w-full flex items-center justify-start gap-3 px-3 py-2.5 text-[#e6edf3] hover:bg-[#21262d] disabled:bg-[#374151] rounded-lg text-sm transition-all duration-200 focus:outline-none border border-[#6e7681] hover:border-[#8b949e]\",title:\"\\uC0C8 \\uCC44\\uD305\",children:isCreating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-5 h-5 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-[#e6edf3]\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uC0DD\\uC131 \\uC911...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-5 h-5 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"2\",stroke:\"currentColor\",className:\"h-4 w-4 group-hover:scale-110 transition-transform duration-200\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 4.5v15m7.5-7.5h-15\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uC0C8 \\uCC44\\uD305\"})]})}),(createError||deleteError)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-400\",children:createError||deleteError})})]}),/*#__PURE__*/_jsxs(\"div\",{ref:conversationListRef,className:\"flex flex-col gap-0.5 overflow-y-auto h-[calc(100vh-210px)] custom-scrollbar\",onScroll:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n            /* CSS Custom Properties for Design System */\n            .conversation-drawer {\n              --color-bg-primary: #0d1117;\n              --color-bg-secondary: #11161f;\n              --color-bg-tertiary: #161b22;\n              --color-border: #21262d;\n              --color-text-primary: #e6edf3;\n              --color-text-secondary: #88929d;\n              --color-accent: #10b981;\n              --color-accent-hover: #059669;\n              --color-danger: #f85149;\n              --shadow-depth: inset 0 0 16px rgba(0,0,0,0.4);\n            }\n\n            .custom-scrollbar::-webkit-scrollbar {\n              width: 8px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-track {\n              background: transparent;\n              border-radius: 4px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb {\n              background: var(--color-border);\n              border-radius: 4px;\n              border: 1px solid var(--color-bg-primary);\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n              background: #30363d;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:active {\n              background: #484f58;\n            }\n            .custom-scrollbar::-webkit-scrollbar-corner {\n              background: transparent;\n            }\n            \n            /* 사이드바 스크롤 격리 */\n            .custom-scrollbar {\n              overscroll-behavior: contain;\n              scroll-behavior: smooth;\n            }\n          `}),error&&!isCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center bg-red-900/30 rounded-lg border border-red-700/50 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-red-300 text-sm font-medium\",children:error})}),conversations.length===0&&!loading&&!error&&!isCollapsed&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700/30\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"h-6 w-6 text-gray-400\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-white mb-2 drop-shadow\",children:\"\\uC544\\uC9C1 \\uB300\\uD654\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 leading-snug opacity-80\",children:\"\\uC0C8 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uC11C AI\\uC640 \\uB300\\uD654\\uD574\\uBCF4\\uC138\\uC694!\"})]}),loading&&conversations.length===0&&!isCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-1\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-10 px-3 bg-gray-900/40 animate-pulse flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-700/40 rounded w-3/4\"})},i))}),!isCollapsed&&conversations.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-1 transition-opacity duration-300 ease-in-out\",children:Object.entries(conversationGroups).map(_ref2=>{let[groupTitle,groupConversations]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/40 uppercase tracking-wide py-2 px-3 font-medium\",children:groupTitle}),groupConversations.map(conversation=>/*#__PURE__*/_jsx(\"div\",{className:`\n                        flex items-center justify-between h-10 px-3 py-2 text-sm transition-colors duration-200 relative\n                        ${currentConversationId===conversation.id?\"bg-[#161b22] text-[#e6edf3] relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[2px] before:bg-[#10b981]\":\"text-[#88929d] hover:bg-[#11161f] hover:text-[#e6edf3]\"}\n                      `,children:editingId===conversation.id?/*#__PURE__*/// 수정 모드\n_jsxs(\"div\",{className:\"flex-1 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingTitle,onChange:e=>setEditingTitle(e.target.value),onKeyPress:e=>{if(e.key==='Enter'){handleSaveEdit(conversation.id);}else if(e.key==='Escape'){handleCancelEdit();}},className:\"flex-1 bg-[#0d1117] border border-[#21262d] rounded px-2 py-1 text-sm text-[#e6edf3] focus:outline-none focus:border-[#10b981]\",autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSaveEdit(conversation.id),className:\"p-1 text-[#10b981] hover:bg-[#161b22] rounded\",title:\"\\uC800\\uC7A5\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"2\",stroke:\"currentColor\",className:\"h-4 w-4\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"m4.5 12.75 6 6 9-13.5\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelEdit,className:\"p-1 text-[#88929d] hover:text-[#f85149] hover:bg-[#161b22] rounded\",title:\"\\uCDE8\\uC18C\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"2\",stroke:\"currentColor\",className:\"h-4 w-4\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M6 18L18 6M6 6l12 12\"})})})]}):/*#__PURE__*/// 일반 모드\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelectConversation(conversation.id),className:\"flex-1 text-left truncate focus:outline-none py-2\",title:conversation.title,children:/*#__PURE__*/_jsx(\"span\",{className:\"truncate text-sm font-medium\",children:conversation.title||'새 대화'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"conversation-menu relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleToggleMenu(conversation.id,e),className:\"ml-2 py-2 px-2 text-[#88929d] hover:text-[#e6edf3] transition-colors duration-200 flex-shrink-0 rounded-md hover:bg-[#161b22]\",title:\"\\uBA54\\uB274\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"h-5 w-5\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"})})}),activeMenuId===conversation.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-full mt-1 bg-[#21262d] border border-[#30363d] rounded-md shadow-lg z-50 min-w-[120px]\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>handleStartEdit(conversation.id,conversation.title,e),className:\"w-full px-3 py-2 text-sm text-[#e6edf3] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"h-4 w-4\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"})}),\"\\uC218\\uC815\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>handleDeleteConversation(conversation.id,e),disabled:deletingId===conversation.id,className:\"w-full px-3 py-2 text-sm text-[#f85149] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200 disabled:opacity-50\",children:[deletingId===conversation.id?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b border-[#f85149]\"}):/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"h-4 w-4\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"})}),\"\\uC0AD\\uC81C\"]})]})]})]})},conversation.id))]},groupTitle);})}),isCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center p-2 transition-opacity duration-300 ease-in-out\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleNewChat,disabled:isCreating,className:\"w-10 h-10 bg-[#21262d] hover:bg-[#30363d] disabled:bg-[#374151] text-white rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none border border-[#30363d] hover:border-[#444c56]\",title:\"\\uC0C8 \\uB300\\uD654\",children:isCreating?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}):/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"2\",stroke:\"currentColor\",className:\"h-6 w-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 4.5v15m7.5-7.5h-15\"})})})})]}),loading&&conversations.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-300 mx-auto\"})}),hasMore&&!loading&&conversations.length>0&&!isCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:loadMore,className:\"text-xs text-white/60 hover:text-white/80 transition-colors duration-200 px-3 py-1.5 hover:bg-gray-800/40 rounded\",children:\"\\uB354 \\uBCF4\\uAE30\"})})]})]});};export default ConversationDrawer;","map":{"version":3,"names":["React","useState","useRef","useEffect","useConversations","useConversationContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ConversationDrawer","_ref","isOpen","onClose","className","onCollapsedChange","conversations","loading","error","hasMore","loadMore","refresh","createConversation","deleteConversation","currentConversationId","setCurrentConversation","isCreating","setIsCreating","isCollapsed","setIsCollapsed","createError","setCreateError","deletingId","setDeletingId","deleteError","setDeleteError","activeMenuId","setActiveMenuId","editingId","setEditingId","editingTitle","setEditingTitle","conversationListRef","current","length","scrollTop","scrollHeight","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleNewChat","newConversation","id","window","innerWidth","console","setTimeout","handleSelectConversation","conversationId","handleDeleteConversation","stopPropagation","confirm","remainingConversations","filter","conv","log","handleStartEdit","currentTitle","handleSaveEdit","trim","handleCancelEdit","handleToggleMenu","formatLastActivity","timestamp","date","Date","now","diffInMinutes","Math","floor","diffInHours","toLocaleDateString","month","day","groupConversationsByDate","groups","today","yesterday","setDate","getDate","forEach","conversation","lastActivityAt","createdAt","isToday","toDateString","isYesterday","key","monthYear","year","push","conversationGroups","children","onClick","style","overscrollBehavior","newCollapsed","title","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","disabled","ref","onScroll","e","Array","map","_","i","Object","entries","_ref2","groupTitle","groupConversations","type","value","onChange","onKeyPress","autoFocus"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/dev/nexus/title_generator_ver1/frontend/src/components/chat/ConversationDrawer.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useConversations } from \"../../hooks/useConversations\";\nimport { useConversationContext } from \"../../contexts/ConversationContext\";\n\nconst ConversationDrawer = ({ isOpen, onClose, className = \"\", onCollapsedChange }) => {\n  const {\n    conversations,\n    loading,\n    error,\n    hasMore,\n    loadMore,\n    refresh,\n    createConversation,\n    deleteConversation,\n  } = useConversations();\n\n  const { currentConversationId, setCurrentConversation } =\n    useConversationContext();\n\n  const [isCreating, setIsCreating] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [createError, setCreateError] = useState(null);\n  const [deletingId, setDeletingId] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const [activeMenuId, setActiveMenuId] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // 대화 목록 스크롤을 위한 ref\n  const conversationListRef = useRef(null);\n\n  // 새 대화가 추가될 때마다 맨 아래로 스크롤\n  useEffect(() => {\n    if (conversationListRef.current && conversations.length > 0 && !isCollapsed) {\n      conversationListRef.current.scrollTop = conversationListRef.current.scrollHeight;\n    }\n  }, [conversations.length, isCollapsed]);\n\n  // 외부 클릭 시 메뉴 닫기\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (activeMenuId && !event.target.closest('.conversation-menu')) {\n        setActiveMenuId(null);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [activeMenuId]);\n\n  // 새 대화 생성\n  const handleNewChat = async () => {\n    if (isCreating) return;\n\n    setIsCreating(true);\n    setCreateError(null);\n\n    try {\n      const newConversation = await createConversation(\"새 대화\");\n      setCurrentConversation(newConversation.id);\n\n      if (window.innerWidth < 768) {\n        onClose();\n      }\n    } catch (error) {\n      console.error(\"새 대화 생성 실패:\", error);\n      setCreateError(\"새 대화를 생성할 수 없습니다. 다시 시도해주세요.\");\n      setTimeout(() => setCreateError(null), 3000);\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  // 대화 선택\n  const handleSelectConversation = (conversationId) => {\n    setCurrentConversation(conversationId);\n\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n  };\n\n  // 대화 삭제\n  const handleDeleteConversation = async (conversationId, event) => {\n    event.stopPropagation(); // 대화 선택을 방지\n    \n    if (!window.confirm('이 대화를 삭제하시겠습니까?')) {\n      return;\n    }\n\n    setDeletingId(conversationId);\n    setDeleteError(null);\n    setActiveMenuId(null); // 메뉴 닫기\n\n    try {\n      await deleteConversation(conversationId);\n      \n      // 현재 선택된 대화가 삭제된 경우 첫 번째 대화로 이동\n      if (currentConversationId === conversationId && conversations.length > 1) {\n        const remainingConversations = conversations.filter(conv => conv.id !== conversationId);\n        if (remainingConversations.length > 0) {\n          setCurrentConversation(remainingConversations[0].id);\n        }\n      }\n      \n      console.log('대화 삭제 완료:', conversationId);\n    } catch (error) {\n      console.error('대화 삭제 중 오류:', error);\n      // 일반적으로 API 오류가 발생해도 로컬에서는 삭제되므로 에러 표시하지 않음\n      // setDeleteError('대화를 삭제할 수 없습니다. 다시 시도해주세요.');\n      // setTimeout(() => setDeleteError(null), 3000);\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // 대화 수정 시작\n  const handleStartEdit = (conversationId, currentTitle, event) => {\n    event.stopPropagation();\n    setEditingId(conversationId);\n    setEditingTitle(currentTitle);\n    setActiveMenuId(null); // 메뉴 닫기\n  };\n\n  // 대화 수정 완료\n  const handleSaveEdit = async (conversationId) => {\n    if (!editingTitle.trim()) {\n      setEditingId(null);\n      setEditingTitle(\"\");\n      return;\n    }\n\n    try {\n      // TODO: API 호출로 대화 제목 업데이트\n      console.log('대화 제목 업데이트:', conversationId, editingTitle);\n      // await updateConversation(conversationId, { title: editingTitle });\n      \n      setEditingId(null);\n      setEditingTitle(\"\");\n    } catch (error) {\n      console.error('대화 제목 수정 중 오류:', error);\n    }\n  };\n\n  // 대화 수정 취소\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // 메뉴 토글\n  const handleToggleMenu = (conversationId, event) => {\n    event.stopPropagation();\n    setActiveMenuId(activeMenuId === conversationId ? null : conversationId);\n  };\n\n  const formatLastActivity = (timestamp) => {\n    if (!timestamp) return \"\";\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInMinutes = Math.floor((now - date) / 60000);\n    const diffInHours = Math.floor(diffInMinutes / 60);\n\n    if (diffInMinutes < 1) return \"방금 전\";\n    if (diffInMinutes < 60) return `${diffInMinutes}분 전`;\n    if (diffInHours < 24) return `${diffInHours}시간 전`;\n    return date.toLocaleDateString(\"ko-KR\", { month: \"short\", day: \"numeric\" });\n  };\n\n  // 대화를 날짜별로 그룹화\n  const groupConversationsByDate = (conversations) => {\n    const groups = {};\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    conversations.forEach((conversation) => {\n      const date = new Date(conversation.lastActivityAt || conversation.createdAt);\n      const isToday = date.toDateString() === today.toDateString();\n      const isYesterday = date.toDateString() === yesterday.toDateString();\n\n      let key;\n      if (isToday) {\n        key = \"Today\";\n      } else if (isYesterday) {\n        key = \"Yesterday\";\n      } else {\n        const monthYear = date.toLocaleDateString(\"ko-KR\", {\n          year: \"numeric\",\n          month: \"2-digit\",\n        });\n        key = monthYear;\n      }\n\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(conversation);\n    });\n\n    return groups;\n  };\n\n  const conversationGroups = groupConversationsByDate(conversations);\n\n  return (\n    <>\n      {/* 모바일 오버레이 */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\"\n          onClick={onClose}\n        />\n      )}\n\n      {/* 드로어 컨테이너 */}\n      <div\n        className={`\n        conversation-drawer\n        fixed top-0 left-0 h-full z-[9999]\n        bg-[#0d1117]\n        border-r border-[#21262d] shadow-[inset_0_0_16px_rgba(0,0,0,0.4)]\n        transform transition-all duration-500 ease-out\n        ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n        md:translate-x-0\n        ${isCollapsed ? \"w-14\" : \"w-full md:w-64\"}\n        ${className}\n      `}\n      style={{ overscrollBehavior: 'contain' }}\n      >\n        {/* 헤더 - 접힌 상태에서는 숨김 */}\n        {!isCollapsed && (\n          <div className=\"flex items-center justify-between p-5 border-b border-[#21262d] relative transition-opacity duration-300 ease-in-out\">\n            <h1 className=\"text-xl font-semibold tracking-tight text-[#e6edf3]\">\n              TITLE-NOMICS\n            </h1>\n            \n            {/* 미니멀 토글 버튼 */}\n            <button\n              onClick={() => {\n                const newCollapsed = !isCollapsed;\n                setIsCollapsed(newCollapsed);\n                if (onCollapsedChange) {\n                  onCollapsedChange(newCollapsed);\n                }\n              }}\n              className=\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\"\n              title=\"사이드바 접기\"\n            >\n              <svg \n                xmlns=\"http://www.w3.org/2000/svg\" \n                fill=\"none\" \n                viewBox=\"0 0 24 24\" \n                strokeWidth=\"1.5\" \n                stroke=\"currentColor\" \n                className=\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200\"\n              >\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  d=\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\" \n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* 접힌 상태 전용 토글 버튼 */}\n        {isCollapsed && (\n          <div className=\"p-2 flex justify-center border-b border-[#21262d]\">\n            <button\n              onClick={() => {\n                const newCollapsed = !isCollapsed;\n                setIsCollapsed(newCollapsed);\n                if (onCollapsedChange) {\n                  onCollapsedChange(newCollapsed);\n                }\n              }}\n              className=\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\"\n              title=\"사이드바 펼치기\"\n            >\n              <svg \n                xmlns=\"http://www.w3.org/2000/svg\" \n                fill=\"none\" \n                viewBox=\"0 0 24 24\" \n                strokeWidth=\"1.5\" \n                stroke=\"currentColor\" \n                className=\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200 rotate-180\"\n              >\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  d=\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\" \n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* 새 대화 버튼 */}\n        {!isCollapsed && (\n          <div className=\"p-4 border-b border-[#21262d] transition-opacity duration-300 ease-in-out\">\n            <button\n              onClick={handleNewChat}\n              disabled={isCreating}\n              className=\"group w-full flex items-center justify-start gap-3 px-3 py-2.5 text-[#e6edf3] hover:bg-[#21262d] disabled:bg-[#374151] rounded-lg text-sm transition-all duration-200 focus:outline-none border border-[#6e7681] hover:border-[#8b949e]\"\n              title=\"새 채팅\"\n            >\n              {isCreating ? (\n                <>\n                  <div className=\"flex-shrink-0 w-5 h-5 flex items-center justify-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-[#e6edf3]\"></div>\n                  </div>\n                  <span className=\"font-medium\">생성 중...</span>\n                </>\n              ) : (\n                <>\n                  <div className=\"flex-shrink-0 w-5 h-5 flex items-center justify-center\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" stroke=\"currentColor\" className=\"h-4 w-4 group-hover:scale-110 transition-transform duration-200\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium\">새 채팅</span>\n                </>\n              )}\n            </button>\n\n            {(createError || deleteError) && (\n              <div className=\"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-center\">\n                <p className=\"text-xs text-red-400\">{createError || deleteError}</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* 대화 목록 */}\n        <div \n          ref={conversationListRef} \n          className=\"flex flex-col gap-0.5 overflow-y-auto h-[calc(100vh-210px)] custom-scrollbar\"\n          onScroll={(e) => e.stopPropagation()}\n        >\n          <style jsx>{`\n            /* CSS Custom Properties for Design System */\n            .conversation-drawer {\n              --color-bg-primary: #0d1117;\n              --color-bg-secondary: #11161f;\n              --color-bg-tertiary: #161b22;\n              --color-border: #21262d;\n              --color-text-primary: #e6edf3;\n              --color-text-secondary: #88929d;\n              --color-accent: #10b981;\n              --color-accent-hover: #059669;\n              --color-danger: #f85149;\n              --shadow-depth: inset 0 0 16px rgba(0,0,0,0.4);\n            }\n\n            .custom-scrollbar::-webkit-scrollbar {\n              width: 8px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-track {\n              background: transparent;\n              border-radius: 4px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb {\n              background: var(--color-border);\n              border-radius: 4px;\n              border: 1px solid var(--color-bg-primary);\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n              background: #30363d;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:active {\n              background: #484f58;\n            }\n            .custom-scrollbar::-webkit-scrollbar-corner {\n              background: transparent;\n            }\n            \n            /* 사이드바 스크롤 격리 */\n            .custom-scrollbar {\n              overscroll-behavior: contain;\n              scroll-behavior: smooth;\n            }\n          `}</style>\n\n          {error && !isCollapsed && (\n            <div className=\"p-4 text-center bg-red-900/30 rounded-lg border border-red-700/50 mb-4\">\n              <div className=\"text-red-300 text-sm font-medium\">{error}</div>\n            </div>\n          )}\n\n          {conversations.length === 0 && !loading && !error && !isCollapsed && (\n            <div className=\"p-6 text-center\">\n              <div className=\"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700/30\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"h-6 w-6 text-gray-400\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\" />\n                </svg>\n              </div>\n              <h3 className=\"text-sm font-medium text-white mb-2 drop-shadow\">\n                아직 대화가 없습니다\n              </h3>\n              <p className=\"text-xs text-gray-400 leading-snug opacity-80\">\n                새 대화를 시작해서 AI와 대화해보세요!\n              </p>\n            </div>\n          )}\n\n          {/* 로딩 상태 */}\n          {loading && conversations.length === 0 && !isCollapsed && (\n            <div className=\"flex flex-col gap-1\">\n              {[...Array(5)].map((_, i) => (\n                <div\n                  key={i}\n                  className=\"w-full h-10 px-3 bg-gray-900/40 animate-pulse flex items-center\"\n                >\n                  <div className=\"h-3 bg-gray-700/40 rounded w-3/4\"></div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* 딥시크 스타일 대화 목록 */}\n          {!isCollapsed && conversations.length > 0 && (\n            <div className=\"flex flex-col gap-1 transition-opacity duration-300 ease-in-out\">\n              {Object.entries(conversationGroups).map(([groupTitle, groupConversations]) => (\n                <div key={groupTitle}>\n                  {/* 날짜 그룹 헤더 */}\n                  <div className=\"text-xs text-white/40 uppercase tracking-wide py-2 px-3 font-medium\">\n                    {groupTitle}\n                  </div>\n                  \n                  {/* 그룹 내 대화들 */}\n                  {groupConversations.map((conversation) => (\n                    <div\n                      key={conversation.id}\n                      className={`\n                        flex items-center justify-between h-10 px-3 py-2 text-sm transition-colors duration-200 relative\n                        ${\n                          currentConversationId === conversation.id\n                            ? \"bg-[#161b22] text-[#e6edf3] relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[2px] before:bg-[#10b981]\"\n                            : \"text-[#88929d] hover:bg-[#11161f] hover:text-[#e6edf3]\"\n                        }\n                      `}\n                    >\n                      {editingId === conversation.id ? (\n                        // 수정 모드\n                        <div className=\"flex-1 flex items-center gap-2\">\n                          <input\n                            type=\"text\"\n                            value={editingTitle}\n                            onChange={(e) => setEditingTitle(e.target.value)}\n                            onKeyPress={(e) => {\n                              if (e.key === 'Enter') {\n                                handleSaveEdit(conversation.id);\n                              } else if (e.key === 'Escape') {\n                                handleCancelEdit();\n                              }\n                            }}\n                            className=\"flex-1 bg-[#0d1117] border border-[#21262d] rounded px-2 py-1 text-sm text-[#e6edf3] focus:outline-none focus:border-[#10b981]\"\n                            autoFocus\n                          />\n                          <button\n                            onClick={() => handleSaveEdit(conversation.id)}\n                            className=\"p-1 text-[#10b981] hover:bg-[#161b22] rounded\"\n                            title=\"저장\"\n                          >\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" stroke=\"currentColor\" className=\"h-4 w-4\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m4.5 12.75 6 6 9-13.5\" />\n                            </svg>\n                          </button>\n                          <button\n                            onClick={handleCancelEdit}\n                            className=\"p-1 text-[#88929d] hover:text-[#f85149] hover:bg-[#161b22] rounded\"\n                            title=\"취소\"\n                          >\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" stroke=\"currentColor\" className=\"h-4 w-4\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n                            </svg>\n                          </button>\n                        </div>\n                      ) : (\n                        // 일반 모드\n                        <>\n                          <button\n                            onClick={() => handleSelectConversation(conversation.id)}\n                            className=\"flex-1 text-left truncate focus:outline-none py-2\"\n                            title={conversation.title}\n                          >\n                            <span className=\"truncate text-sm font-medium\">\n                              {conversation.title || '새 대화'}\n                            </span>\n                          </button>\n                          \n                          {/* 메뉴 버튼 */}\n                          <div className=\"conversation-menu relative\">\n                            <button\n                              onClick={(e) => handleToggleMenu(conversation.id, e)}\n                              className=\"ml-2 py-2 px-2 text-[#88929d] hover:text-[#e6edf3] transition-colors duration-200 flex-shrink-0 rounded-md hover:bg-[#161b22]\"\n                              title=\"메뉴\"\n                            >\n                              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"h-5 w-5\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\" />\n                              </svg>\n                            </button>\n\n                            {/* 드롭다운 메뉴 */}\n                            {activeMenuId === conversation.id && (\n                              <div className=\"absolute right-0 top-full mt-1 bg-[#21262d] border border-[#30363d] rounded-md shadow-lg z-50 min-w-[120px]\">\n                                <button\n                                  onClick={(e) => handleStartEdit(conversation.id, conversation.title, e)}\n                                  className=\"w-full px-3 py-2 text-sm text-[#e6edf3] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200\"\n                                >\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"h-4 w-4\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\" />\n                                  </svg>\n                                  수정\n                                </button>\n                                <button\n                                  onClick={(e) => handleDeleteConversation(conversation.id, e)}\n                                  disabled={deletingId === conversation.id}\n                                  className=\"w-full px-3 py-2 text-sm text-[#f85149] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200 disabled:opacity-50\"\n                                >\n                                  {deletingId === conversation.id ? (\n                                    <div className=\"animate-spin rounded-full h-4 w-4 border-b border-[#f85149]\"></div>\n                                  ) : (\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"h-4 w-4\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\" />\n                                    </svg>\n                                  )}\n                                  삭제\n                                </button>\n                              </div>\n                            )}\n                          </div>\n                        </>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* 접힌 상태 새 대화 버튼만 표시 */}\n          {isCollapsed && (\n            <div className=\"flex flex-col items-center p-2 transition-opacity duration-300 ease-in-out\">\n              <button\n                onClick={handleNewChat}\n                disabled={isCreating}\n                className=\"w-10 h-10 bg-[#21262d] hover:bg-[#30363d] disabled:bg-[#374151] text-white rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none border border-[#30363d] hover:border-[#444c56]\"\n                title=\"새 대화\"\n              >\n                {isCreating ? (\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                ) : (\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" stroke=\"currentColor\" className=\"h-6 w-6\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n                  </svg>\n                )}\n              </button>\n            </div>\n          )}\n        </div>\n\n          {/* 추가 로딩 인디케이터 - 더 많은 대화 로드 시 */}\n          {loading && conversations.length > 0 && (\n            <div className=\"p-4 text-center\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-300 mx-auto\"></div>\n            </div>\n          )}\n\n          {/* 더 보기 버튼 */}\n          {hasMore && !loading && conversations.length > 0 && !isCollapsed && (\n            <div className=\"p-4 text-center\">\n              <button\n                onClick={loadMore}\n                className=\"text-xs text-white/60 hover:text-white/80 transition-colors duration-200 px-3 py-1.5 hover:bg-gray-800/40 rounded\"\n              >\n                더 보기\n              </button>\n            </div>\n          )}\n      </div>\n    </>\n  );\n};\n\nexport default ConversationDrawer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}