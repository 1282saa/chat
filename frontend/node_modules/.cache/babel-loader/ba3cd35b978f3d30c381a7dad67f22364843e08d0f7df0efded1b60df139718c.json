{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/dev/nexus/title_generator_ver1/frontend/src/components/chat/ConversationDrawer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useConversations } from \"../../hooks/useConversations\";\nimport { useConversationContext } from \"../../contexts/ConversationContext\";\nimport { conversationAPI } from \"../../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ConversationDrawer = ({\n  isOpen,\n  onClose,\n  className = \"\",\n  onCollapsedChange\n}) => {\n  _s();\n  const {\n    conversations,\n    loading,\n    error,\n    hasMore,\n    loadMore,\n    createConversation,\n    deleteConversation,\n    updateConversation\n  } = useConversations();\n  const {\n    currentConversationId,\n    setCurrentConversation\n  } = useConversationContext();\n  const [isCreating, setIsCreating] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [createError, setCreateError] = useState(null);\n  const [deletingId, setDeletingId] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const [activeMenuId, setActiveMenuId] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // 대화 목록 스크롤을 위한 ref\n  const conversationListRef = useRef(null);\n\n  // 새 대화가 추가될 때마다 맨 아래로 스크롤\n  useEffect(() => {\n    if (conversationListRef.current && conversations.length > 0 && !isCollapsed) {\n      conversationListRef.current.scrollTop = conversationListRef.current.scrollHeight;\n    }\n  }, [conversations.length, isCollapsed]);\n\n  // 외부 클릭 시 메뉴 닫기\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (activeMenuId && !event.target.closest(\".conversation-menu\")) {\n        setActiveMenuId(null);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [activeMenuId]);\n\n  // 새 대화 생성\n  const handleNewChat = async () => {\n    if (isCreating) return;\n    setIsCreating(true);\n    setCreateError(null);\n    try {\n      const newConversation = await createConversation(\"새 대화\");\n      setCurrentConversation(newConversation.id);\n      if (window.innerWidth < 768) {\n        onClose();\n      }\n    } catch (error) {\n      console.error(\"새 대화 생성 실패:\", error);\n      setCreateError(\"새 대화를 생성할 수 없습니다. 다시 시도해주세요.\");\n      setTimeout(() => setCreateError(null), 3000);\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  // 대화 선택\n  const handleSelectConversation = conversationId => {\n    setCurrentConversation(conversationId);\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n  };\n\n  // 대화 삭제\n  const handleDeleteConversation = async (conversationId, event) => {\n    event.stopPropagation(); // 대화 선택을 방지\n\n    if (!window.confirm(\"이 대화를 삭제하시겠습니까?\")) {\n      return;\n    }\n    setDeletingId(conversationId);\n    setDeleteError(null);\n    setActiveMenuId(null); // 메뉴 닫기\n\n    try {\n      await deleteConversation(conversationId);\n\n      // 현재 선택된 대화가 삭제된 경우 첫 번째 대화로 이동\n      if (currentConversationId === conversationId && conversations.length > 1) {\n        const remainingConversations = conversations.filter(conv => conv.id !== conversationId);\n        if (remainingConversations.length > 0) {\n          setCurrentConversation(remainingConversations[0].id);\n        }\n      }\n      console.log(\"대화 삭제 완료:\", conversationId);\n    } catch (error) {\n      console.error(\"대화 삭제 중 오류:\", error);\n      // 일반적으로 API 오류가 발생해도 로컬에서는 삭제되므로 에러 표시하지 않음\n      // setDeleteError('대화를 삭제할 수 없습니다. 다시 시도해주세요.');\n      // setTimeout(() => setDeleteError(null), 3000);\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // 대화 수정 시작\n  const handleStartEdit = (conversationId, currentTitle, event) => {\n    event.stopPropagation();\n    setEditingId(conversationId);\n    setEditingTitle(currentTitle);\n    setActiveMenuId(null); // 메뉴 닫기\n  };\n\n  // 대화 수정 완료\n  const handleSaveEdit = async conversationId => {\n    if (!editingTitle.trim()) {\n      setEditingId(null);\n      setEditingTitle(\"\");\n      return;\n    }\n    try {\n      // API 호출로 대화 제목 업데이트\n      console.log(\"대화 제목 업데이트:\", conversationId, editingTitle);\n      await conversationAPI.updateConversation(conversationId, {\n        title: editingTitle\n      });\n\n      // 로컬 상태도 업데이트\n      updateConversation(conversationId, {\n        title: editingTitle\n      });\n      setEditingId(null);\n      setEditingTitle(\"\");\n      console.log(\"대화 제목 수정 완료\");\n    } catch (error) {\n      console.error(\"대화 제목 수정 중 오류:\", error);\n      // 사용자에게 에러 표시\n      alert(\"제목 수정에 실패했습니다. 다시 시도해주세요.\");\n    }\n  };\n\n  // 대화 수정 취소\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // 메뉴 토글\n  const handleToggleMenu = (conversationId, event) => {\n    event.stopPropagation();\n    setActiveMenuId(activeMenuId === conversationId ? null : conversationId);\n  };\n\n  // 대화를 날짜별로 그룹화\n  const groupConversationsByDate = conversations => {\n    const groups = {};\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n    conversations.forEach(conversation => {\n      const date = new Date(conversation.lastActivityAt || conversation.createdAt);\n      const isToday = date.toDateString() === today.toDateString();\n      const isYesterday = date.toDateString() === yesterday.toDateString();\n      let key;\n      if (isToday) {\n        key = \"Today\";\n      } else if (isYesterday) {\n        key = \"Yesterday\";\n      } else {\n        const monthYear = date.toLocaleDateString(\"ko-KR\", {\n          year: \"numeric\",\n          month: \"2-digit\"\n        });\n        key = monthYear;\n      }\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(conversation);\n    });\n    return groups;\n  };\n  const conversationGroups = groupConversationsByDate(conversations);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n        conversation-drawer\n        fixed top-0 left-0 h-full z-[9999]\n        bg-[#0d1117]\n        border-r border-[#21262d] shadow-[inset_0_0_16px_rgba(0,0,0,0.4)]\n        transform transition-all duration-500 ease-out\n        ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n        md:translate-x-0\n        ${isCollapsed ? \"w-14\" : \"w-full md:w-64\"}\n        ${className}\n      `,\n      style: {\n        overscrollBehavior: \"contain\"\n      },\n      children: [!isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-5 border-b border-[#21262d] relative transition-opacity duration-300 ease-in-out\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold tracking-tight text-[#e6edf3]\",\n          children: \"TITLE-NOMICS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const newCollapsed = !isCollapsed;\n            setIsCollapsed(newCollapsed);\n            if (onCollapsedChange) {\n              onCollapsedChange(newCollapsed);\n            }\n          },\n          className: \"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\",\n          title: \"\\uC0AC\\uC774\\uB4DC\\uBC14 \\uC811\\uAE30\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            strokeWidth: \"1.5\",\n            stroke: \"currentColor\",\n            className: \"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              d: \"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 flex justify-center border-b border-[#21262d]\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const newCollapsed = !isCollapsed;\n            setIsCollapsed(newCollapsed);\n            if (onCollapsedChange) {\n              onCollapsedChange(newCollapsed);\n            }\n          },\n          className: \"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\",\n          title: \"\\uC0AC\\uC774\\uB4DC\\uBC14 \\uD3BC\\uCE58\\uAE30\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            strokeWidth: \"1.5\",\n            stroke: \"currentColor\",\n            className: \"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200 rotate-180\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              d: \"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-[#21262d] transition-opacity duration-300 ease-in-out\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNewChat,\n          disabled: isCreating,\n          className: \"group w-full flex items-center justify-start gap-3 px-3 py-2.5 text-[#e6edf3] hover:bg-[#21262d] disabled:bg-[#374151] rounded-lg text-sm transition-all duration-200 focus:outline-none border border-[#6e7681] hover:border-[#8b949e]\",\n          title: \"\\uC0C8 \\uCC44\\uD305\",\n          children: isCreating ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-5 h-5 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-[#e6edf3]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"\\uC0DD\\uC131 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-5 h-5 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                strokeWidth: \"2\",\n                stroke: \"currentColor\",\n                className: \"h-4 w-4 group-hover:scale-110 transition-transform duration-200\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  d: \"M12 4.5v15m7.5-7.5h-15\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"\\uC0C8 \\uCC44\\uD305\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), (createError || deleteError) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-red-400\",\n            children: createError || deleteError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: conversationListRef,\n        className: \"flex flex-col gap-0.5 overflow-y-auto h-[calc(100vh-210px)] custom-scrollbar\",\n        onScroll: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"style\", {\n          jsx: true,\n          children: `\n            /* CSS Custom Properties for Design System */\n            .conversation-drawer {\n              --color-bg-primary: #0d1117;\n              --color-bg-secondary: #11161f;\n              --color-bg-tertiary: #161b22;\n              --color-border: #21262d;\n              --color-text-primary: #e6edf3;\n              --color-text-secondary: #88929d;\n              --color-accent: #10b981;\n              --color-accent-hover: #059669;\n              --color-danger: #f85149;\n              --shadow-depth: inset 0 0 16px rgba(0, 0, 0, 0.4);\n            }\n\n            .custom-scrollbar::-webkit-scrollbar {\n              width: 8px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-track {\n              background: transparent;\n              border-radius: 4px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb {\n              background: var(--color-border);\n              border-radius: 4px;\n              border: 1px solid var(--color-bg-primary);\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n              background: #30363d;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:active {\n              background: #484f58;\n            }\n            .custom-scrollbar::-webkit-scrollbar-corner {\n              background: transparent;\n            }\n\n            /* 사이드바 스크롤 격리 */\n            .custom-scrollbar {\n              overscroll-behavior: contain;\n              scroll-behavior: smooth;\n            }\n          `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), error && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center bg-red-900/30 rounded-lg border border-red-700/50 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-300 text-sm font-medium\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), conversations.length === 0 && !loading && !error && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700/30\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              strokeWidth: \"1.5\",\n              stroke: \"currentColor\",\n              className: \"h-6 w-6 text-gray-400\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-white mb-2 drop-shadow\",\n            children: \"\\uC544\\uC9C1 \\uB300\\uD654\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 leading-snug opacity-80\",\n            children: \"\\uC0C8 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uC11C AI\\uC640 \\uB300\\uD654\\uD574\\uBCF4\\uC138\\uC694!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), loading && conversations.length === 0 && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-1\",\n          children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-10 px-3 bg-gray-900/40 animate-pulse flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-3 bg-gray-700/40 rounded w-3/4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 19\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this), !isCollapsed && conversations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-1 transition-opacity duration-300 ease-in-out\",\n          children: Object.entries(conversationGroups).map(([groupTitle, groupConversations]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-white/40 uppercase tracking-wide py-2 px-3 font-medium\",\n              children: groupTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 21\n            }, this), groupConversations.map(conversation => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `\n                        flex items-center justify-between h-10 px-3 py-2 text-sm transition-colors duration-200 relative\n                        ${currentConversationId === conversation.id ? \"bg-[#161b22] text-[#e6edf3] relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[2px] before:bg-[#10b981]\" : \"text-[#88929d] hover:bg-[#11161f] hover:text-[#e6edf3]\"}\n                      `,\n              children: editingId === conversation.id ?\n              /*#__PURE__*/\n              // 수정 모드\n              _jsxDEV(\"div\", {\n                className: \"flex-1 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingTitle,\n                  onChange: e => setEditingTitle(e.target.value),\n                  onKeyPress: e => {\n                    if (e.key === \"Enter\") {\n                      handleSaveEdit(conversation.id);\n                    } else if (e.key === \"Escape\") {\n                      handleCancelEdit();\n                    }\n                  },\n                  className: \"flex-1 bg-[#0d1117] border border-[#21262d] rounded px-2 py-1 text-sm text-[#e6edf3] focus:outline-none focus:border-[#10b981]\",\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSaveEdit(conversation.id),\n                  className: \"p-1 text-[#10b981] hover:bg-[#161b22] rounded\",\n                  title: \"\\uC800\\uC7A5\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    strokeWidth: \"2\",\n                    stroke: \"currentColor\",\n                    className: \"h-4 w-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      d: \"m4.5 12.75 6 6 9-13.5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancelEdit,\n                  className: \"p-1 text-[#88929d] hover:text-[#f85149] hover:bg-[#161b22] rounded\",\n                  title: \"\\uCDE8\\uC18C\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    strokeWidth: \"2\",\n                    stroke: \"currentColor\",\n                    className: \"h-4 w-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      d: \"M6 18L18 6M6 6l12 12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 27\n              }, this) :\n              /*#__PURE__*/\n              // 일반 모드\n              _jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSelectConversation(conversation.id),\n                  className: \"flex-1 text-left truncate focus:outline-none py-2\",\n                  title: conversation.title,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"truncate text-sm font-medium\",\n                    children: conversation.title || \"새 대화\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 554,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"conversation-menu relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => handleToggleMenu(conversation.id, e),\n                    className: \"ml-2 py-2 px-2 text-[#88929d] hover:text-[#e6edf3] transition-colors duration-200 flex-shrink-0 rounded-md hover:bg-[#161b22]\",\n                    title: \"\\uBA54\\uB274\",\n                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      strokeWidth: \"1.5\",\n                      stroke: \"currentColor\",\n                      className: \"h-5 w-5\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        d: \"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 576,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 31\n                  }, this), activeMenuId === conversation.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute right-0 top-full mt-1 bg-[#21262d] border border-[#30363d] rounded-md shadow-lg z-50 min-w-[120px]\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => handleStartEdit(conversation.id, conversation.title, e),\n                      className: \"w-full px-3 py-2 text-sm text-[#e6edf3] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        strokeWidth: \"1.5\",\n                        stroke: \"currentColor\",\n                        className: \"h-4 w-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 605,\n                          columnNumber: 39\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 597,\n                        columnNumber: 37\n                      }, this), \"\\uC218\\uC815\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => handleDeleteConversation(conversation.id, e),\n                      disabled: deletingId === conversation.id,\n                      className: \"w-full px-3 py-2 text-sm text-[#f85149] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200 disabled:opacity-50\",\n                      children: [deletingId === conversation.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"animate-spin rounded-full h-4 w-4 border-b border-[#f85149]\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 39\n                      }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        strokeWidth: \"1.5\",\n                        stroke: \"currentColor\",\n                        className: \"h-4 w-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 634,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 626,\n                        columnNumber: 39\n                      }, this), \"\\uC0AD\\uC81C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true)\n            }, conversation.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 23\n            }, this))]\n          }, groupTitle, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this), isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center p-2 transition-opacity duration-300 ease-in-out\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNewChat,\n            disabled: isCreating,\n            className: \"w-10 h-10 bg-[#21262d] hover:bg-[#30363d] disabled:bg-[#374151] text-white rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none border border-[#30363d] hover:border-[#444c56]\",\n            title: \"\\uC0C8 \\uB300\\uD654\",\n            children: isCreating ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              strokeWidth: \"2\",\n              stroke: \"currentColor\",\n              className: \"h-6 w-6\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                d: \"M12 4.5v15m7.5-7.5h-15\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), loading && conversations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-300 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 11\n      }, this), hasMore && !loading && conversations.length > 0 && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadMore,\n          className: \"text-xs text-white/60 hover:text-white/80 transition-colors duration-200 px-3 py-1.5 hover:bg-gray-800/40 rounded\",\n          children: \"\\uB354 \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ConversationDrawer, \"GxE5mEf6tUWc4W7IUsLbMRsfTiw=\", false, function () {\n  return [useConversations, useConversationContext];\n});\n_c = ConversationDrawer;\nexport default ConversationDrawer;\nvar _c;\n$RefreshReg$(_c, \"ConversationDrawer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useConversations","useConversationContext","conversationAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","ConversationDrawer","isOpen","onClose","className","onCollapsedChange","_s","conversations","loading","error","hasMore","loadMore","createConversation","deleteConversation","updateConversation","currentConversationId","setCurrentConversation","isCreating","setIsCreating","isCollapsed","setIsCollapsed","createError","setCreateError","deletingId","setDeletingId","deleteError","setDeleteError","activeMenuId","setActiveMenuId","editingId","setEditingId","editingTitle","setEditingTitle","conversationListRef","current","length","scrollTop","scrollHeight","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleNewChat","newConversation","id","window","innerWidth","console","setTimeout","handleSelectConversation","conversationId","handleDeleteConversation","stopPropagation","confirm","remainingConversations","filter","conv","log","handleStartEdit","currentTitle","handleSaveEdit","trim","title","alert","handleCancelEdit","handleToggleMenu","groupConversationsByDate","groups","today","Date","yesterday","setDate","getDate","forEach","conversation","date","lastActivityAt","createdAt","isToday","toDateString","isYesterday","key","monthYear","toLocaleDateString","year","month","push","conversationGroups","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","overscrollBehavior","newCollapsed","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","disabled","ref","onScroll","e","jsx","Array","map","_","i","Object","entries","groupTitle","groupConversations","type","value","onChange","onKeyPress","autoFocus","_c","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/dev/nexus/title_generator_ver1/frontend/src/components/chat/ConversationDrawer.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useConversations } from \"../../hooks/useConversations\";\nimport { useConversationContext } from \"../../contexts/ConversationContext\";\nimport { conversationAPI } from \"../../services/api\";\n\nconst ConversationDrawer = ({\n  isOpen,\n  onClose,\n  className = \"\",\n  onCollapsedChange,\n}) => {\n  const {\n    conversations,\n    loading,\n    error,\n    hasMore,\n    loadMore,\n    createConversation,\n    deleteConversation,\n    updateConversation,\n  } = useConversations();\n\n  const { currentConversationId, setCurrentConversation } =\n    useConversationContext();\n\n  const [isCreating, setIsCreating] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [createError, setCreateError] = useState(null);\n  const [deletingId, setDeletingId] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const [activeMenuId, setActiveMenuId] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // 대화 목록 스크롤을 위한 ref\n  const conversationListRef = useRef(null);\n\n  // 새 대화가 추가될 때마다 맨 아래로 스크롤\n  useEffect(() => {\n    if (\n      conversationListRef.current &&\n      conversations.length > 0 &&\n      !isCollapsed\n    ) {\n      conversationListRef.current.scrollTop =\n        conversationListRef.current.scrollHeight;\n    }\n  }, [conversations.length, isCollapsed]);\n\n  // 외부 클릭 시 메뉴 닫기\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (activeMenuId && !event.target.closest(\".conversation-menu\")) {\n        setActiveMenuId(null);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [activeMenuId]);\n\n  // 새 대화 생성\n  const handleNewChat = async () => {\n    if (isCreating) return;\n\n    setIsCreating(true);\n    setCreateError(null);\n\n    try {\n      const newConversation = await createConversation(\"새 대화\");\n      setCurrentConversation(newConversation.id);\n\n      if (window.innerWidth < 768) {\n        onClose();\n      }\n    } catch (error) {\n      console.error(\"새 대화 생성 실패:\", error);\n      setCreateError(\"새 대화를 생성할 수 없습니다. 다시 시도해주세요.\");\n      setTimeout(() => setCreateError(null), 3000);\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  // 대화 선택\n  const handleSelectConversation = (conversationId) => {\n    setCurrentConversation(conversationId);\n\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n  };\n\n  // 대화 삭제\n  const handleDeleteConversation = async (conversationId, event) => {\n    event.stopPropagation(); // 대화 선택을 방지\n\n    if (!window.confirm(\"이 대화를 삭제하시겠습니까?\")) {\n      return;\n    }\n\n    setDeletingId(conversationId);\n    setDeleteError(null);\n    setActiveMenuId(null); // 메뉴 닫기\n\n    try {\n      await deleteConversation(conversationId);\n\n      // 현재 선택된 대화가 삭제된 경우 첫 번째 대화로 이동\n      if (\n        currentConversationId === conversationId &&\n        conversations.length > 1\n      ) {\n        const remainingConversations = conversations.filter(\n          (conv) => conv.id !== conversationId\n        );\n        if (remainingConversations.length > 0) {\n          setCurrentConversation(remainingConversations[0].id);\n        }\n      }\n\n      console.log(\"대화 삭제 완료:\", conversationId);\n    } catch (error) {\n      console.error(\"대화 삭제 중 오류:\", error);\n      // 일반적으로 API 오류가 발생해도 로컬에서는 삭제되므로 에러 표시하지 않음\n      // setDeleteError('대화를 삭제할 수 없습니다. 다시 시도해주세요.');\n      // setTimeout(() => setDeleteError(null), 3000);\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // 대화 수정 시작\n  const handleStartEdit = (conversationId, currentTitle, event) => {\n    event.stopPropagation();\n    setEditingId(conversationId);\n    setEditingTitle(currentTitle);\n    setActiveMenuId(null); // 메뉴 닫기\n  };\n\n  // 대화 수정 완료\n  const handleSaveEdit = async (conversationId) => {\n    if (!editingTitle.trim()) {\n      setEditingId(null);\n      setEditingTitle(\"\");\n      return;\n    }\n\n    try {\n      // API 호출로 대화 제목 업데이트\n      console.log(\"대화 제목 업데이트:\", conversationId, editingTitle);\n      await conversationAPI.updateConversation(conversationId, {\n        title: editingTitle,\n      });\n\n      // 로컬 상태도 업데이트\n      updateConversation(conversationId, { title: editingTitle });\n\n      setEditingId(null);\n      setEditingTitle(\"\");\n\n      console.log(\"대화 제목 수정 완료\");\n    } catch (error) {\n      console.error(\"대화 제목 수정 중 오류:\", error);\n      // 사용자에게 에러 표시\n      alert(\"제목 수정에 실패했습니다. 다시 시도해주세요.\");\n    }\n  };\n\n  // 대화 수정 취소\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // 메뉴 토글\n  const handleToggleMenu = (conversationId, event) => {\n    event.stopPropagation();\n    setActiveMenuId(activeMenuId === conversationId ? null : conversationId);\n  };\n\n  // 대화를 날짜별로 그룹화\n  const groupConversationsByDate = (conversations) => {\n    const groups = {};\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    conversations.forEach((conversation) => {\n      const date = new Date(\n        conversation.lastActivityAt || conversation.createdAt\n      );\n      const isToday = date.toDateString() === today.toDateString();\n      const isYesterday = date.toDateString() === yesterday.toDateString();\n\n      let key;\n      if (isToday) {\n        key = \"Today\";\n      } else if (isYesterday) {\n        key = \"Yesterday\";\n      } else {\n        const monthYear = date.toLocaleDateString(\"ko-KR\", {\n          year: \"numeric\",\n          month: \"2-digit\",\n        });\n        key = monthYear;\n      }\n\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(conversation);\n    });\n\n    return groups;\n  };\n\n  const conversationGroups = groupConversationsByDate(conversations);\n\n  return (\n    <>\n      {/* 모바일 오버레이 */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\"\n          onClick={onClose}\n        />\n      )}\n\n      {/* 드로어 컨테이너 */}\n      <div\n        className={`\n        conversation-drawer\n        fixed top-0 left-0 h-full z-[9999]\n        bg-[#0d1117]\n        border-r border-[#21262d] shadow-[inset_0_0_16px_rgba(0,0,0,0.4)]\n        transform transition-all duration-500 ease-out\n        ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n        md:translate-x-0\n        ${isCollapsed ? \"w-14\" : \"w-full md:w-64\"}\n        ${className}\n      `}\n        style={{ overscrollBehavior: \"contain\" }}\n      >\n        {/* 헤더 - 접힌 상태에서는 숨김 */}\n        {!isCollapsed && (\n          <div className=\"flex items-center justify-between p-5 border-b border-[#21262d] relative transition-opacity duration-300 ease-in-out\">\n            <h1 className=\"text-xl font-semibold tracking-tight text-[#e6edf3]\">\n              TITLE-NOMICS\n            </h1>\n\n            {/* 미니멀 토글 버튼 */}\n            <button\n              onClick={() => {\n                const newCollapsed = !isCollapsed;\n                setIsCollapsed(newCollapsed);\n                if (onCollapsedChange) {\n                  onCollapsedChange(newCollapsed);\n                }\n              }}\n              className=\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\"\n              title=\"사이드바 접기\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth=\"1.5\"\n                stroke=\"currentColor\"\n                className=\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* 접힌 상태 전용 토글 버튼 */}\n        {isCollapsed && (\n          <div className=\"p-2 flex justify-center border-b border-[#21262d]\">\n            <button\n              onClick={() => {\n                const newCollapsed = !isCollapsed;\n                setIsCollapsed(newCollapsed);\n                if (onCollapsedChange) {\n                  onCollapsedChange(newCollapsed);\n                }\n              }}\n              className=\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\"\n              title=\"사이드바 펼치기\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth=\"1.5\"\n                stroke=\"currentColor\"\n                className=\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200 rotate-180\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* 새 대화 버튼 */}\n        {!isCollapsed && (\n          <div className=\"p-4 border-b border-[#21262d] transition-opacity duration-300 ease-in-out\">\n            <button\n              onClick={handleNewChat}\n              disabled={isCreating}\n              className=\"group w-full flex items-center justify-start gap-3 px-3 py-2.5 text-[#e6edf3] hover:bg-[#21262d] disabled:bg-[#374151] rounded-lg text-sm transition-all duration-200 focus:outline-none border border-[#6e7681] hover:border-[#8b949e]\"\n              title=\"새 채팅\"\n            >\n              {isCreating ? (\n                <>\n                  <div className=\"flex-shrink-0 w-5 h-5 flex items-center justify-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-[#e6edf3]\"></div>\n                  </div>\n                  <span className=\"font-medium\">생성 중...</span>\n                </>\n              ) : (\n                <>\n                  <div className=\"flex-shrink-0 w-5 h-5 flex items-center justify-center\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth=\"2\"\n                      stroke=\"currentColor\"\n                      className=\"h-4 w-4 group-hover:scale-110 transition-transform duration-200\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M12 4.5v15m7.5-7.5h-15\"\n                      />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium\">새 채팅</span>\n                </>\n              )}\n            </button>\n\n            {(createError || deleteError) && (\n              <div className=\"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-center\">\n                <p className=\"text-xs text-red-400\">\n                  {createError || deleteError}\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* 대화 목록 */}\n        <div\n          ref={conversationListRef}\n          className=\"flex flex-col gap-0.5 overflow-y-auto h-[calc(100vh-210px)] custom-scrollbar\"\n          onScroll={(e) => e.stopPropagation()}\n        >\n          <style jsx>{`\n            /* CSS Custom Properties for Design System */\n            .conversation-drawer {\n              --color-bg-primary: #0d1117;\n              --color-bg-secondary: #11161f;\n              --color-bg-tertiary: #161b22;\n              --color-border: #21262d;\n              --color-text-primary: #e6edf3;\n              --color-text-secondary: #88929d;\n              --color-accent: #10b981;\n              --color-accent-hover: #059669;\n              --color-danger: #f85149;\n              --shadow-depth: inset 0 0 16px rgba(0, 0, 0, 0.4);\n            }\n\n            .custom-scrollbar::-webkit-scrollbar {\n              width: 8px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-track {\n              background: transparent;\n              border-radius: 4px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb {\n              background: var(--color-border);\n              border-radius: 4px;\n              border: 1px solid var(--color-bg-primary);\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n              background: #30363d;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:active {\n              background: #484f58;\n            }\n            .custom-scrollbar::-webkit-scrollbar-corner {\n              background: transparent;\n            }\n\n            /* 사이드바 스크롤 격리 */\n            .custom-scrollbar {\n              overscroll-behavior: contain;\n              scroll-behavior: smooth;\n            }\n          `}</style>\n\n          {error && !isCollapsed && (\n            <div className=\"p-4 text-center bg-red-900/30 rounded-lg border border-red-700/50 mb-4\">\n              <div className=\"text-red-300 text-sm font-medium\">{error}</div>\n            </div>\n          )}\n\n          {conversations.length === 0 && !loading && !error && !isCollapsed && (\n            <div className=\"p-6 text-center\">\n              <div className=\"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700/30\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth=\"1.5\"\n                  stroke=\"currentColor\"\n                  className=\"h-6 w-6 text-gray-400\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"text-sm font-medium text-white mb-2 drop-shadow\">\n                아직 대화가 없습니다\n              </h3>\n              <p className=\"text-xs text-gray-400 leading-snug opacity-80\">\n                새 대화를 시작해서 AI와 대화해보세요!\n              </p>\n            </div>\n          )}\n\n          {/* 로딩 상태 */}\n          {loading && conversations.length === 0 && !isCollapsed && (\n            <div className=\"flex flex-col gap-1\">\n              {[...Array(5)].map((_, i) => (\n                <div\n                  key={i}\n                  className=\"w-full h-10 px-3 bg-gray-900/40 animate-pulse flex items-center\"\n                >\n                  <div className=\"h-3 bg-gray-700/40 rounded w-3/4\"></div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* 딥시크 스타일 대화 목록 */}\n          {!isCollapsed && conversations.length > 0 && (\n            <div className=\"flex flex-col gap-1 transition-opacity duration-300 ease-in-out\">\n              {Object.entries(conversationGroups).map(\n                ([groupTitle, groupConversations]) => (\n                  <div key={groupTitle}>\n                    {/* 날짜 그룹 헤더 */}\n                    <div className=\"text-xs text-white/40 uppercase tracking-wide py-2 px-3 font-medium\">\n                      {groupTitle}\n                    </div>\n\n                    {/* 그룹 내 대화들 */}\n                    {groupConversations.map((conversation) => (\n                      <div\n                        key={conversation.id}\n                        className={`\n                        flex items-center justify-between h-10 px-3 py-2 text-sm transition-colors duration-200 relative\n                        ${\n                          currentConversationId === conversation.id\n                            ? \"bg-[#161b22] text-[#e6edf3] relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[2px] before:bg-[#10b981]\"\n                            : \"text-[#88929d] hover:bg-[#11161f] hover:text-[#e6edf3]\"\n                        }\n                      `}\n                      >\n                        {editingId === conversation.id ? (\n                          // 수정 모드\n                          <div className=\"flex-1 flex items-center gap-2\">\n                            <input\n                              type=\"text\"\n                              value={editingTitle}\n                              onChange={(e) => setEditingTitle(e.target.value)}\n                              onKeyPress={(e) => {\n                                if (e.key === \"Enter\") {\n                                  handleSaveEdit(conversation.id);\n                                } else if (e.key === \"Escape\") {\n                                  handleCancelEdit();\n                                }\n                              }}\n                              className=\"flex-1 bg-[#0d1117] border border-[#21262d] rounded px-2 py-1 text-sm text-[#e6edf3] focus:outline-none focus:border-[#10b981]\"\n                              autoFocus\n                            />\n                            <button\n                              onClick={() => handleSaveEdit(conversation.id)}\n                              className=\"p-1 text-[#10b981] hover:bg-[#161b22] rounded\"\n                              title=\"저장\"\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                strokeWidth=\"2\"\n                                stroke=\"currentColor\"\n                                className=\"h-4 w-4\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  d=\"m4.5 12.75 6 6 9-13.5\"\n                                />\n                              </svg>\n                            </button>\n                            <button\n                              onClick={handleCancelEdit}\n                              className=\"p-1 text-[#88929d] hover:text-[#f85149] hover:bg-[#161b22] rounded\"\n                              title=\"취소\"\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                strokeWidth=\"2\"\n                                stroke=\"currentColor\"\n                                className=\"h-4 w-4\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  d=\"M6 18L18 6M6 6l12 12\"\n                                />\n                              </svg>\n                            </button>\n                          </div>\n                        ) : (\n                          // 일반 모드\n                          <>\n                            <button\n                              onClick={() =>\n                                handleSelectConversation(conversation.id)\n                              }\n                              className=\"flex-1 text-left truncate focus:outline-none py-2\"\n                              title={conversation.title}\n                            >\n                              <span className=\"truncate text-sm font-medium\">\n                                {conversation.title || \"새 대화\"}\n                              </span>\n                            </button>\n\n                            {/* 메뉴 버튼 */}\n                            <div className=\"conversation-menu relative\">\n                              <button\n                                onClick={(e) =>\n                                  handleToggleMenu(conversation.id, e)\n                                }\n                                className=\"ml-2 py-2 px-2 text-[#88929d] hover:text-[#e6edf3] transition-colors duration-200 flex-shrink-0 rounded-md hover:bg-[#161b22]\"\n                                title=\"메뉴\"\n                              >\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  fill=\"none\"\n                                  viewBox=\"0 0 24 24\"\n                                  strokeWidth=\"1.5\"\n                                  stroke=\"currentColor\"\n                                  className=\"h-5 w-5\"\n                                >\n                                  <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    d=\"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"\n                                  />\n                                </svg>\n                              </button>\n\n                              {/* 드롭다운 메뉴 */}\n                              {activeMenuId === conversation.id && (\n                                <div className=\"absolute right-0 top-full mt-1 bg-[#21262d] border border-[#30363d] rounded-md shadow-lg z-50 min-w-[120px]\">\n                                  <button\n                                    onClick={(e) =>\n                                      handleStartEdit(\n                                        conversation.id,\n                                        conversation.title,\n                                        e\n                                      )\n                                    }\n                                    className=\"w-full px-3 py-2 text-sm text-[#e6edf3] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200\"\n                                  >\n                                    <svg\n                                      xmlns=\"http://www.w3.org/2000/svg\"\n                                      fill=\"none\"\n                                      viewBox=\"0 0 24 24\"\n                                      strokeWidth=\"1.5\"\n                                      stroke=\"currentColor\"\n                                      className=\"h-4 w-4\"\n                                    >\n                                      <path\n                                        strokeLinecap=\"round\"\n                                        strokeLinejoin=\"round\"\n                                        d=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n                                      />\n                                    </svg>\n                                    수정\n                                  </button>\n                                  <button\n                                    onClick={(e) =>\n                                      handleDeleteConversation(\n                                        conversation.id,\n                                        e\n                                      )\n                                    }\n                                    disabled={deletingId === conversation.id}\n                                    className=\"w-full px-3 py-2 text-sm text-[#f85149] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200 disabled:opacity-50\"\n                                  >\n                                    {deletingId === conversation.id ? (\n                                      <div className=\"animate-spin rounded-full h-4 w-4 border-b border-[#f85149]\"></div>\n                                    ) : (\n                                      <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        fill=\"none\"\n                                        viewBox=\"0 0 24 24\"\n                                        strokeWidth=\"1.5\"\n                                        stroke=\"currentColor\"\n                                        className=\"h-4 w-4\"\n                                      >\n                                        <path\n                                          strokeLinecap=\"round\"\n                                          strokeLinejoin=\"round\"\n                                          d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n                                        />\n                                      </svg>\n                                    )}\n                                    삭제\n                                  </button>\n                                </div>\n                              )}\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )\n              )}\n            </div>\n          )}\n\n          {/* 접힌 상태 새 대화 버튼만 표시 */}\n          {isCollapsed && (\n            <div className=\"flex flex-col items-center p-2 transition-opacity duration-300 ease-in-out\">\n              <button\n                onClick={handleNewChat}\n                disabled={isCreating}\n                className=\"w-10 h-10 bg-[#21262d] hover:bg-[#30363d] disabled:bg-[#374151] text-white rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none border border-[#30363d] hover:border-[#444c56]\"\n                title=\"새 대화\"\n              >\n                {isCreating ? (\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                ) : (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth=\"2\"\n                    stroke=\"currentColor\"\n                    className=\"h-6 w-6\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M12 4.5v15m7.5-7.5h-15\"\n                    />\n                  </svg>\n                )}\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* 추가 로딩 인디케이터 - 더 많은 대화 로드 시 */}\n        {loading && conversations.length > 0 && (\n          <div className=\"p-4 text-center\">\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-300 mx-auto\"></div>\n          </div>\n        )}\n\n        {/* 더 보기 버튼 */}\n        {hasMore && !loading && conversations.length > 0 && !isCollapsed && (\n          <div className=\"p-4 text-center\">\n            <button\n              onClick={loadMore}\n              className=\"text-xs text-white/60 hover:text-white/80 transition-colors duration-200 px-3 py-1.5 hover:bg-gray-800/40 rounded\"\n            >\n              더 보기\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ConversationDrawer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}