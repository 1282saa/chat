{"ast":null,"code":"import React,{useState,useEffect,useMemo,useRef}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{FolderOpenIcon,PlusIcon,EllipsisHorizontalIcon,TrashIcon,PencilIcon,CalendarIcon,DocumentTextIcon,MagnifyingGlassIcon,FunnelIcon,Squares2X2Icon,ListBulletIcon,TagIcon,XMarkIcon,ChevronDownIcon,CheckIcon}from\"@heroicons/react/24/outline\";import{projectAPI,handleAPIError,filterProjects}from\"../services/api\";import CreateProject from\"./CreateProject\";import{usePrefetch}from\"../hooks/usePrefetch\";import{ProjectListSkeleton}from\"./skeleton/SkeletonComponents\";import AnimatedProjectCard from\"./AnimatedProjectCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectList=()=>{const navigate=useNavigate();const{prefetchProjectDetail,prefetchCreateProject}=usePrefetch();// 상태 관리\nconst[projects,setProjects]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[sortBy,setSortBy]=useState(\"updated\");const[viewMode,setViewMode]=useState(\"grid\");const[sortDropdownOpen,setSortDropdownOpen]=useState(false);const sortDropdownRef=useRef(null);// 프로젝트 편집 상태\nconst[editingProject,setEditingProject]=useState(null);const[showEditModal,setShowEditModal]=useState(false);const[showCreateModal,setShowCreateModal]=useState(false);useEffect(()=>{loadProjects();},[]);// 드롭다운 외부 클릭 감지\nuseEffect(()=>{const handleClickOutside=event=>{if(sortDropdownRef.current&&!sortDropdownRef.current.contains(event.target)){setSortDropdownOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);const loadProjects=async()=>{try{console.log(\"🔄 loadProjects 시작\");setLoading(true);setError(null);const data=await projectAPI.getProjects();const projectsWithStats=data.projects||[];console.log(\"📊 로드된 프로젝트 수:\",projectsWithStats.length);console.log(\"📋 프로젝트 목록:\",projectsWithStats);setProjects(projectsWithStats);}catch(err){const errorInfo=handleAPIError(err);setError(errorInfo.message);toast.error(errorInfo.message);}finally{setLoading(false);}};const deleteProject=async(projectId,projectName)=>{if(!window.confirm(`\"${projectName}\" 프로젝트를 삭제하시겠습니까?`)){return;}// 낙관적 업데이트: 즉시 UI에서 프로젝트 제거\nconst originalProjects=[...projects];const updatedProjects=projects.filter(p=>p.projectId!==projectId);setProjects(updatedProjects);// 즉시 성공 토스트 표시\ntoast.success(\"프로젝트가 삭제되었습니다\");try{// 백그라운드에서 실제 삭제 진행\nawait projectAPI.deleteProject(projectId);console.log(\"프로젝트 삭제 성공:\",projectId);}catch(err){var _err$response,_err$response2;console.error(\"프로젝트 삭제 오류:\",err);// 실패 시 원래 상태로 복원\nsetProjects(originalProjects);let errorMessage=\"프로젝트 삭제에 실패했습니다\";if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===403){errorMessage=\"삭제 권한이 없습니다. S3 파일 삭제 권한을 확인해주세요.\";}else if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===404){errorMessage=\"이미 삭제된 프로젝트입니다\";// 404의 경우 실제로는 삭제된 것이므로 복원하지 않음\nreturn;}else if(err.response){var _err$response$data;errorMessage=((_err$response$data=err.response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||`서버 오류 (${err.response.status})`;}else if(err.request){errorMessage=\"네트워크 오류: CORS 또는 연결 문제\";}toast.error(errorMessage);}};// 프로젝트 편집 함수들\nconst handleEditProject=project=>{setEditingProject(project);setShowEditModal(true);};const handleUpdateProject=async projectData=>{try{await projectAPI.updateProject(editingProject.projectId,projectData);toast.success(\"프로젝트가 수정되었습니다\");setShowEditModal(false);setEditingProject(null);loadProjects();}catch(err){const errorInfo=handleAPIError(err);toast.error(`프로젝트 수정 실패: ${errorInfo.message}`);}};const handleCancelEdit=()=>{setShowEditModal(false);setEditingProject(null);};// 필터링된 프로젝트 목록\nconst filteredProjects=useMemo(()=>{return filterProjects(projects,{searchQuery,sortBy});},[projects,searchQuery,sortBy]);// 정렬 옵션 데이터\nconst sortOptions=[{value:\"created\",label:\"생성일순\"},{value:\"updated\",label:\"수정일순\"},{value:\"name\",label:\"이름순\"}];const currentSortOption=sortOptions.find(option=>option.value===sortBy);if(loading){return/*#__PURE__*/_jsx(ProjectListSkeleton,{});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 mb-4\",children:\"\\u26A0\\uFE0F \\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:loadProjects,className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]});}const handleCreateSuccess=()=>{console.log(\"📝 handleCreateSuccess 호출됨 - 프로젝트 목록 새로고침 시작\");loadProjects();// 프로젝트 목록 새로고침\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"AI \\uC81C\\uBAA9 \\uC0DD\\uC131 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uAD00\\uB9AC\\uD558\\uACE0 \\uC0C8\\uB85C\\uC6B4 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC0DD\\uC131\\uD558\\uC138\\uC694\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm transition-colors duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uC774\\uB984, \\uC124\\uBA85, \\uD0DC\\uADF8\\uB85C \\uAC80\\uC0C9...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(FunnelIcon,{className:\"h-5 w-5 text-gray-400 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:sortDropdownRef,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSortDropdownOpen(!sortDropdownOpen),className:\"flex items-center justify-between pl-4 pr-3 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 min-w-[140px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 dark:text-gray-300 font-medium\",children:currentSortOption===null||currentSortOption===void 0?void 0:currentSortOption.label})}),/*#__PURE__*/_jsx(ChevronDownIcon,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${sortDropdownOpen?\"rotate-180\":\"\"}`})]}),sortDropdownOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 overflow-hidden\",children:sortOptions.map(option=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSortBy(option.value);setSortDropdownOpen(false);},className:`w-full flex items-center justify-between px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-150 ${sortBy===option.value?\"bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400\":\"text-gray-700 dark:text-gray-300\"}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:option.label})}),sortBy===option.value&&/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 text-blue-600\"})]},option.value))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode(\"grid\"),className:`p-2 rounded-md ${viewMode===\"grid\"?\"bg-white shadow-sm\":\"hover:bg-gray-200\"}`,children:/*#__PURE__*/_jsx(Squares2X2Icon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode(\"list\"),className:`p-2 rounded-md ${viewMode===\"list\"?\"bg-white shadow-sm\":\"hover:bg-gray-200\"}`,children:/*#__PURE__*/_jsx(ListBulletIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),onMouseEnter:prefetchCreateProject,className:\"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"\\uC0C8 \\uD504\\uB85C\\uC81D\\uD2B8\"]})]})}),filteredProjects.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(FolderOpenIcon,{className:\"mx-auto h-16 w-16 text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium text-gray-900 dark:text-white mb-2\",children:searchQuery?\"조건에 맞는 프로젝트가 없습니다\":\"프로젝트가 없습니다\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 mb-8\",children:searchQuery?\"다른 조건으로 검색해보세요\":\"첫 번째 프로젝트를 생성해보세요\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),onMouseEnter:prefetchCreateProject,className:\"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"\\uC0C8 \\uD504\\uB85C\\uC81D\\uD2B8 \\uC0DD\\uC131\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:viewMode===\"grid\"?\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\":\"space-y-4\",children:filteredProjects.map(project=>/*#__PURE__*/_jsx(AnimatedProjectCard,{project:project,onDelete:deleteProject,onEdit:handleEditProject,viewMode:viewMode,navigate:navigate,onMouseEnter:onMouseEnter},project.projectId))}),/*#__PURE__*/_jsx(CreateProject,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false),onSuccess:handleCreateSuccess}),/*#__PURE__*/_jsx(ProjectEditModal,{project:editingProject,isOpen:showEditModal,onSave:handleUpdateProject,onCancel:handleCancelEdit})]});};// 프로젝트 카드 컴포넌트\nconst ProjectCard=_ref=>{let{project,onDelete,onEdit,viewMode,navigate,onMouseEnter}=_ref;const[showMenu,setShowMenu]=useState(false);const menuRef=useRef(null);// 카드 클릭 핸들러\nconst handleCardClick=e=>{// 메뉴 버튼을 클릭한 경우 무시\nif(e.target.closest(\"button\")||e.target.closest(\"a\")){return;}// 프로젝트 상세 페이지로 이동\nnavigate(`/projects/${project.projectId}`);};// 외부 클릭 시 메뉴 닫기\nuseEffect(()=>{const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setShowMenu(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);if(viewMode===\"list\"){return/*#__PURE__*/_jsx(\"div\",{onClick:handleCardClick,onMouseEnter:onMouseEnter,className:\"bg-white rounded-xl border border-gray-200 hover:shadow-md transition-all cursor-pointer h-[320px] flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-12 w-12 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 truncate\",children:project.name})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 truncate mb-3\",children:project.description||\"설명 없음\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-4 w-4 mr-1.5\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC0DD\\uC131\",\" \",new Date(project.createdAt).toLocaleDateString(\"ko-KR\")]})]}),project.updatedAt&&project.updatedAt!==project.createdAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1.5\",children:[\"\\uC218\\uC815\",\" \",new Date(project.updatedAt).toLocaleDateString(\"ko-KR\")]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-4 w-4 mr-1.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uD074\\uB9AD\\uD574 \\uC8FC\\uC138\\uC694\"})]})}),project.tags&&project.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TagIcon,{className:\"h-4 w-4 mr-1.5 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1.5\",children:[project.tags.slice(0,3).map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-medium\",children:tag},index)),project.tags.length>3&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center text-xs text-gray-400 px-2\",children:[\"+\",project.tags.length-3,\"\\uAC1C\"]})]})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMenu(!showMenu),className:\"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100\",children:/*#__PURE__*/_jsx(EllipsisHorizontalIcon,{className:\"h-5 w-5\"})}),showMenu&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{onEdit(project);setShowMenu(false);},className:\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-3\"}),\"\\uD3B8\\uC9D1\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{onDelete(project.projectId,project.name);setShowMenu(false);},className:\"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-3\"}),\"\\uC0AD\\uC81C\"]})]})})]})})]})})});}return/*#__PURE__*/_jsx(\"div\",{onClick:handleCardClick,onMouseEnter:prefetchProjectDetail,className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all cursor-pointer h-[280px] flex flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 flex flex-col flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white truncate\",children:project.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2\",children:project.description||\"설명 없음\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMenu(!showMenu),className:\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors\",title:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uC635\\uC158\",children:/*#__PURE__*/_jsx(EllipsisHorizontalIcon,{className:\"h-5 w-5\"})}),showMenu&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{onEdit(project);setShowMenu(false);},className:\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-3\"}),\"\\uD3B8\\uC9D1\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{onDelete(project.projectId,project.name);setShowMenu(false);},className:\"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-3\"}),\"\\uC0AD\\uC81C\"]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-4 w-4 mr-1.5\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC0DD\\uC131 \",new Date(project.createdAt).toLocaleDateString(\"ko-KR\")]})]}),project.updatedAt&&project.updatedAt!==project.createdAt&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1.5\",children:[\"\\uC218\\uC815 \",new Date(project.updatedAt).toLocaleDateString(\"ko-KR\")]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-4 w-4 mr-1.5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uD074\\uB9AD\\uD574 \\uC8FC\\uC138\\uC694\"})]})}),project.tags&&project.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TagIcon,{className:\"h-4 w-4 mr-1.5 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1.5\",children:[project.tags.slice(0,3).map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-medium\",children:tag},index)),project.tags.length>3&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center text-xs text-gray-400 px-2\",children:[\"+\",project.tags.length-3,\"\\uAC1C\"]})]})]})})]})]})});};// 프로젝트 편집 모달 컴포넌트\nconst ProjectEditModal=_ref2=>{let{project,isOpen,onSave,onCancel}=_ref2;const[formData,setFormData]=useState({name:\"\",description:\"\",tags:[]});const[tagInput,setTagInput]=useState(\"\");useEffect(()=>{if(project){setFormData({name:project.name||\"\",description:project.description||\"\",tags:Array.isArray(project.tags)?[...project.tags]:[]});}},[project]);const handleSubmit=e=>{e.preventDefault();if(!formData.name.trim()){toast.error(\"프로젝트 이름을 입력해주세요\");return;}onSave(formData);};const handleModalClose=()=>{setTagInput(\"\");onCancel();};// 태그 추가 함수\nconst addTag=()=>{const tag=tagInput.trim();if(tag&&!formData.tags.includes(tag)&&formData.tags.length<10){setFormData({...formData,tags:[...formData.tags,tag]});setTagInput(\"\");}};// 태그 제거 함수\nconst removeTag=tagToRemove=>{setFormData({...formData,tags:formData.tags.filter(tag=>tag!==tagToRemove)});};// Enter 키로 태그 추가\nconst handleTagKeyPress=e=>{if(e.key===\"Enter\"){e.preventDefault();addTag();}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uD3B8\\uC9D1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleModalClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uC774\\uB984 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uC124\\uBA85\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData({...formData,description:e.target.value}),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uC124\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"\\uD0DC\\uADF8 (\",formData.tags.length,\"/10)\"]}),formData.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mb-3\",children:formData.tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\",children:[tag,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeTag(tag),className:\"ml-2 text-blue-600 hover:text-blue-800\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-3 w-3\"})})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tagInput,onChange:e=>setTagInput(e.target.value),onKeyPress:handleTagKeyPress,className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"\\uD0DC\\uADF8\\uB97C \\uC785\\uB825\\uD558\\uACE0 Enter\\uB97C \\uB204\\uB974\\uC138\\uC694\",maxLength:20,disabled:formData.tags.length>=10}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addTag,disabled:!tagInput.trim()||formData.tags.length>=10,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"\\uCD94\\uAC00\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"\\uD0DC\\uADF8\\uB294 \\uCD5C\\uB300 10\\uAC1C\\uAE4C\\uC9C0 \\uCD94\\uAC00\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uAC01 \\uD0DC\\uADF8\\uB294 20\\uC790 \\uC774\\uB0B4\\uB85C \\uC785\\uB825\\uD558\\uC138\\uC694.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleModalClose,className:\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!formData.name.trim(),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"\\uC800\\uC7A5\"})]})]})]})});};export default ProjectList;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","Link","useNavigate","toast","FolderOpenIcon","PlusIcon","EllipsisHorizontalIcon","TrashIcon","PencilIcon","CalendarIcon","DocumentTextIcon","MagnifyingGlassIcon","FunnelIcon","Squares2X2Icon","ListBulletIcon","TagIcon","XMarkIcon","ChevronDownIcon","CheckIcon","projectAPI","handleAPIError","filterProjects","CreateProject","usePrefetch","ProjectListSkeleton","AnimatedProjectCard","jsx","_jsx","jsxs","_jsxs","ProjectList","navigate","prefetchProjectDetail","prefetchCreateProject","projects","setProjects","loading","setLoading","error","setError","searchQuery","setSearchQuery","sortBy","setSortBy","viewMode","setViewMode","sortDropdownOpen","setSortDropdownOpen","sortDropdownRef","editingProject","setEditingProject","showEditModal","setShowEditModal","showCreateModal","setShowCreateModal","loadProjects","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","console","log","data","getProjects","projectsWithStats","length","err","errorInfo","message","deleteProject","projectId","projectName","window","confirm","originalProjects","updatedProjects","filter","p","success","_err$response","_err$response2","errorMessage","response","status","_err$response$data","request","handleEditProject","project","handleUpdateProject","projectData","updateProject","handleCancelEdit","filteredProjects","sortOptions","value","label","currentSortOption","find","option","className","children","onClick","handleCreateSuccess","type","placeholder","onChange","e","ref","map","onMouseEnter","onDelete","onEdit","isOpen","onClose","onSuccess","ProjectEditModal","onSave","onCancel","ProjectCard","_ref","showMenu","setShowMenu","menuRef","handleCardClick","closest","name","description","Date","createdAt","toLocaleDateString","updatedAt","tags","slice","tag","index","title","_ref2","formData","setFormData","tagInput","setTagInput","Array","isArray","handleSubmit","preventDefault","trim","handleModalClose","addTag","includes","removeTag","tagToRemove","handleTagKeyPress","key","onSubmit","rows","onKeyPress","maxLength","disabled"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기(수)_완성본_스트리밍구현 복사본/frontend/src/components/ProjectList.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  FolderOpenIcon,\n  PlusIcon,\n  EllipsisHorizontalIcon,\n  TrashIcon,\n  PencilIcon,\n  CalendarIcon,\n  DocumentTextIcon,\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  Squares2X2Icon,\n  ListBulletIcon,\n  TagIcon,\n  XMarkIcon,\n  ChevronDownIcon,\n  CheckIcon,\n} from \"@heroicons/react/24/outline\";\nimport { projectAPI, handleAPIError, filterProjects } from \"../services/api\";\nimport CreateProject from \"./CreateProject\";\nimport { usePrefetch } from \"../hooks/usePrefetch\";\nimport { ProjectListSkeleton } from \"./skeleton/SkeletonComponents\";\nimport AnimatedProjectCard from \"./AnimatedProjectCard\";\n\nconst ProjectList = () => {\n  const navigate = useNavigate();\n  const { prefetchProjectDetail, prefetchCreateProject } = usePrefetch();\n  \n  // 상태 관리\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"updated\");\n  const [viewMode, setViewMode] = useState(\"grid\");\n  const [sortDropdownOpen, setSortDropdownOpen] = useState(false);\n  const sortDropdownRef = useRef(null);\n\n  // 프로젝트 편집 상태\n  const [editingProject, setEditingProject] = useState(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n\n  useEffect(() => {\n    loadProjects();\n  }, []);\n\n  // 드롭다운 외부 클릭 감지\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        sortDropdownRef.current &&\n        !sortDropdownRef.current.contains(event.target)\n      ) {\n        setSortDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  const loadProjects = async () => {\n    try {\n      console.log(\"🔄 loadProjects 시작\");\n      setLoading(true);\n      setError(null);\n      const data = await projectAPI.getProjects();\n      const projectsWithStats = data.projects || [];\n      console.log(\"📊 로드된 프로젝트 수:\", projectsWithStats.length);\n      console.log(\"📋 프로젝트 목록:\", projectsWithStats);\n\n      setProjects(projectsWithStats);\n    } catch (err) {\n      const errorInfo = handleAPIError(err);\n      setError(errorInfo.message);\n      toast.error(errorInfo.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteProject = async (projectId, projectName) => {\n    if (!window.confirm(`\"${projectName}\" 프로젝트를 삭제하시겠습니까?`)) {\n      return;\n    }\n\n    // 낙관적 업데이트: 즉시 UI에서 프로젝트 제거\n    const originalProjects = [...projects];\n    const updatedProjects = projects.filter((p) => p.projectId !== projectId);\n    setProjects(updatedProjects);\n\n    // 즉시 성공 토스트 표시\n    toast.success(\"프로젝트가 삭제되었습니다\");\n\n    try {\n      // 백그라운드에서 실제 삭제 진행\n      await projectAPI.deleteProject(projectId);\n      console.log(\"프로젝트 삭제 성공:\", projectId);\n    } catch (err) {\n      console.error(\"프로젝트 삭제 오류:\", err);\n\n      // 실패 시 원래 상태로 복원\n      setProjects(originalProjects);\n\n      let errorMessage = \"프로젝트 삭제에 실패했습니다\";\n\n      if (err.response?.status === 403) {\n        errorMessage =\n          \"삭제 권한이 없습니다. S3 파일 삭제 권한을 확인해주세요.\";\n      } else if (err.response?.status === 404) {\n        errorMessage = \"이미 삭제된 프로젝트입니다\";\n        // 404의 경우 실제로는 삭제된 것이므로 복원하지 않음\n        return;\n      } else if (err.response) {\n        errorMessage =\n          err.response.data?.message || `서버 오류 (${err.response.status})`;\n      } else if (err.request) {\n        errorMessage = \"네트워크 오류: CORS 또는 연결 문제\";\n      }\n\n      toast.error(errorMessage);\n    }\n  };\n\n  // 프로젝트 편집 함수들\n  const handleEditProject = (project) => {\n    setEditingProject(project);\n    setShowEditModal(true);\n  };\n\n  const handleUpdateProject = async (projectData) => {\n    try {\n      await projectAPI.updateProject(editingProject.projectId, projectData);\n      toast.success(\"프로젝트가 수정되었습니다\");\n      setShowEditModal(false);\n      setEditingProject(null);\n      loadProjects();\n    } catch (err) {\n      const errorInfo = handleAPIError(err);\n      toast.error(`프로젝트 수정 실패: ${errorInfo.message}`);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setShowEditModal(false);\n    setEditingProject(null);\n  };\n\n  // 필터링된 프로젝트 목록\n  const filteredProjects = useMemo(() => {\n    return filterProjects(projects, {\n      searchQuery,\n      sortBy,\n    });\n  }, [projects, searchQuery, sortBy]);\n\n  // 정렬 옵션 데이터\n  const sortOptions = [\n    { value: \"created\", label: \"생성일순\" },\n    { value: \"updated\", label: \"수정일순\" },\n    { value: \"name\", label: \"이름순\" },\n  ];\n\n  const currentSortOption = sortOptions.find(\n    (option) => option.value === sortBy\n  );\n\n  if (loading) {\n    return <ProjectListSkeleton />;\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-red-600 mb-4\">⚠️ 오류가 발생했습니다</div>\n        <p className=\"text-gray-600 mb-6\">{error}</p>\n        <button\n          onClick={loadProjects}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\n        >\n          다시 시도\n        </button>\n      </div>\n    );\n  }\n\n  const handleCreateSuccess = () => {\n    console.log(\"📝 handleCreateSuccess 호출됨 - 프로젝트 목록 새로고침 시작\");\n    loadProjects(); // 프로젝트 목록 새로고침\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 헤더 */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-gray-900\">프로젝트 목록</h2>\n          <p className=\"text-gray-600 mt-1\">\n            AI 제목 생성 프로젝트를 관리하고 새로운 프로젝트를 생성하세요\n          </p>\n        </div>\n      </div>\n\n      {/* 필터링 바 */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm transition-colors duration-200\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          {/* 검색바 */}\n          <div className=\"flex-1 relative\">\n            <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"프로젝트 이름, 설명, 태그로 검색...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200\"\n            />\n          </div>\n\n          {/* 정렬 옵션 - 커스텀 드롭다운 */}\n          <div className=\"flex items-center space-x-3\">\n            <FunnelIcon className=\"h-5 w-5 text-gray-400 flex-shrink-0\" />\n            <div className=\"relative\" ref={sortDropdownRef}>\n              <button\n                onClick={() => setSortDropdownOpen(!sortDropdownOpen)}\n                className=\"flex items-center justify-between pl-4 pr-3 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 min-w-[140px]\"\n              >\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-gray-700 dark:text-gray-300 font-medium\">\n                    {currentSortOption?.label}\n                  </span>\n                </div>\n                <ChevronDownIcon\n                  className={`h-4 w-4 text-gray-400 transition-transform duration-200 ${\n                    sortDropdownOpen ? \"rotate-180\" : \"\"\n                  }`}\n                />\n              </button>\n\n              {/* 드롭다운 메뉴 */}\n              {sortDropdownOpen && (\n                <div className=\"absolute top-full left-0 mt-1 w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 overflow-hidden\">\n                  {sortOptions.map((option) => (\n                    <button\n                      key={option.value}\n                      onClick={() => {\n                        setSortBy(option.value);\n                        setSortDropdownOpen(false);\n                      }}\n                      className={`w-full flex items-center justify-between px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-150 ${\n                        sortBy === option.value\n                          ? \"bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400\"\n                          : \"text-gray-700 dark:text-gray-300\"\n                      }`}\n                    >\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"font-medium\">{option.label}</span>\n                      </div>\n                      {sortBy === option.value && (\n                        <CheckIcon className=\"h-4 w-4 text-blue-600\" />\n                      )}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* 뷰 모드 */}\n          <div className=\"flex items-center space-x-1 bg-gray-100 rounded-lg p-1\">\n            <button\n              onClick={() => setViewMode(\"grid\")}\n              className={`p-2 rounded-md ${\n                viewMode === \"grid\" ? \"bg-white shadow-sm\" : \"hover:bg-gray-200\"\n              }`}\n            >\n              <Squares2X2Icon className=\"h-4 w-4\" />\n            </button>\n            <button\n              onClick={() => setViewMode(\"list\")}\n              className={`p-2 rounded-md ${\n                viewMode === \"list\" ? \"bg-white shadow-sm\" : \"hover:bg-gray-200\"\n              }`}\n            >\n              <ListBulletIcon className=\"h-4 w-4\" />\n            </button>\n          </div>\n\n          {/* 새 프로젝트 버튼 */}\n          <button\n            onClick={() => setShowCreateModal(true)}\n            onMouseEnter={prefetchCreateProject}\n            className=\"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\n          >\n            <PlusIcon className=\"h-4 w-4 mr-2\" />새 프로젝트\n          </button>\n        </div>\n      </div>\n\n      {/* 프로젝트 목록 */}\n      {filteredProjects.length === 0 ? (\n        <div className=\"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200\">\n          <FolderOpenIcon className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n          <h3 className=\"text-xl font-medium text-gray-900 dark:text-white mb-2\">\n            {searchQuery\n              ? \"조건에 맞는 프로젝트가 없습니다\"\n              : \"프로젝트가 없습니다\"}\n          </h3>\n          <p className=\"text-gray-500 dark:text-gray-400 mb-8\">\n            {searchQuery\n              ? \"다른 조건으로 검색해보세요\"\n              : \"첫 번째 프로젝트를 생성해보세요\"}\n          </p>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            onMouseEnter={prefetchCreateProject}\n            className=\"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium\"\n          >\n            <PlusIcon className=\"h-4 w-4 mr-2\" />새 프로젝트 생성\n          </button>\n        </div>\n      ) : (\n        <div\n          className={\n            viewMode === \"grid\"\n              ? \"grid gap-6 md:grid-cols-2 lg:grid-cols-3\"\n              : \"space-y-4\"\n          }\n        >\n          {filteredProjects.map((project) => (\n            <AnimatedProjectCard\n              key={project.projectId}\n              project={project}\n              onDelete={deleteProject}\n              onEdit={handleEditProject}\n              viewMode={viewMode}\n              navigate={navigate}\n              onMouseEnter={onMouseEnter}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* 새 프로젝트 생성 모달 */}\n      <CreateProject\n        isOpen={showCreateModal}\n        onClose={() => setShowCreateModal(false)}\n        onSuccess={handleCreateSuccess}\n      />\n\n      {/* 프로젝트 편집 모달 */}\n      <ProjectEditModal\n        project={editingProject}\n        isOpen={showEditModal}\n        onSave={handleUpdateProject}\n        onCancel={handleCancelEdit}\n      />\n    </div>\n  );\n};\n\n// 프로젝트 카드 컴포넌트\nconst ProjectCard = ({ project, onDelete, onEdit, viewMode, navigate, onMouseEnter }) => {\n  const [showMenu, setShowMenu] = useState(false);\n  const menuRef = useRef(null);\n\n  // 카드 클릭 핸들러\n  const handleCardClick = (e) => {\n    // 메뉴 버튼을 클릭한 경우 무시\n    if (e.target.closest(\"button\") || e.target.closest(\"a\")) {\n      return;\n    }\n    // 프로젝트 상세 페이지로 이동\n    navigate(`/projects/${project.projectId}`);\n  };\n\n  // 외부 클릭 시 메뉴 닫기\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setShowMenu(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  if (viewMode === \"list\") {\n    return (\n      <div\n        onClick={handleCardClick}\n        onMouseEnter={onMouseEnter}\n        className=\"bg-white rounded-xl border border-gray-200 hover:shadow-md transition-all cursor-pointer h-[320px] flex flex-col\"\n      >\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4 flex-1\">\n              <div className=\"flex-shrink-0\">\n                <DocumentTextIcon className=\"h-12 w-12 text-blue-600\" />\n              </div>\n\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center space-x-3 mb-2\">\n                  <h3 className=\"text-xl font-semibold text-gray-900 truncate\">\n                    {project.name}\n                  </h3>\n                </div>\n                <p className=\"text-gray-500 truncate mb-3\">\n                  {project.description || \"설명 없음\"}\n                </p>\n\n                {/* 날짜 */}\n                <div className=\"flex items-center space-x-4 mb-3\">\n                  <div className=\"flex items-center text-sm text-gray-500\">\n                    <CalendarIcon className=\"h-4 w-4 mr-1.5\" />\n                    <span>\n                      생성{\" \"}\n                      {new Date(project.createdAt).toLocaleDateString(\"ko-KR\")}\n                    </span>\n                  </div>\n                  {project.updatedAt &&\n                    project.updatedAt !== project.createdAt && (\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"text-gray-300\">•</span>\n                        <span className=\"ml-1.5\">\n                          수정{\" \"}\n                          {new Date(project.updatedAt).toLocaleDateString(\n                            \"ko-KR\"\n                          )}\n                        </span>\n                      </div>\n                    )}\n                </div>\n\n                {/* 프롬프트 정보 */}\n                <div className=\"flex items-center space-x-4 mb-3\">\n                  <div className=\"flex items-center text-sm text-gray-500\">\n                    <DocumentTextIcon className=\"h-4 w-4 mr-1.5\" />\n                    <span>프롬프트 클릭해 주세요</span>\n                  </div>\n                </div>\n\n                {/* 태그 */}\n                {project.tags && project.tags.length > 0 && (\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-center\">\n                      <TagIcon className=\"h-4 w-4 mr-1.5 text-gray-400\" />\n                      <div className=\"flex flex-wrap gap-1.5\">\n                        {project.tags.slice(0, 3).map((tag, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-medium\"\n                          >\n                            {tag}\n                          </span>\n                        ))}\n                        {project.tags.length > 3 && (\n                          <span className=\"inline-flex items-center text-xs text-gray-400 px-2\">\n                            +{project.tags.length - 3}개\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"relative\" ref={menuRef}>\n                <button\n                  onClick={() => setShowMenu(!showMenu)}\n                  className=\"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100\"\n                >\n                  <EllipsisHorizontalIcon className=\"h-5 w-5\" />\n                </button>\n\n                {showMenu && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-10\">\n                    <div className=\"py-1\">\n                      <button\n                        onClick={() => {\n                          onEdit(project);\n                          setShowMenu(false);\n                        }}\n                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                      >\n                        <PencilIcon className=\"h-4 w-4 mr-3\" />\n                        편집\n                      </button>\n                      <button\n                        onClick={() => {\n                          onDelete(project.projectId, project.name);\n                          setShowMenu(false);\n                        }}\n                        className=\"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50\"\n                      >\n                        <TrashIcon className=\"h-4 w-4 mr-3\" />\n                        삭제\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      onClick={handleCardClick}\n      onMouseEnter={prefetchProjectDetail}\n      className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all cursor-pointer h-[280px] flex flex-col\"\n    >\n      <div className=\"p-6 flex flex-col flex-1\">\n        <div className=\"flex justify-between items-start mb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"flex-shrink-0\">\n              <DocumentTextIcon className=\"h-8 w-8 text-blue-600\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white truncate\">\n                {project.name}\n              </h3>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2\">\n                {project.description || \"설명 없음\"}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"relative\" ref={menuRef}>\n            <button\n              onClick={() => setShowMenu(!showMenu)}\n              className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors\"\n              title=\"프로젝트 옵션\"\n            >\n              <EllipsisHorizontalIcon className=\"h-5 w-5\" />\n            </button>\n\n            {showMenu && (\n              <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-10\">\n                <div className=\"py-1\">\n                  <button\n                    onClick={() => {\n                      onEdit(project);\n                      setShowMenu(false);\n                    }}\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                  >\n                    <PencilIcon className=\"h-4 w-4 mr-3\" />\n                    편집\n                  </button>\n                  <button\n                    onClick={() => {\n                      onDelete(project.projectId, project.name);\n                      setShowMenu(false);\n                    }}\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50\"\n                  >\n                    <TrashIcon className=\"h-4 w-4 mr-3\" />\n                    삭제\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto\">\n          {/* 날짜 */}\n          <div className=\"flex items-center space-x-4 mb-3\">\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <CalendarIcon className=\"h-4 w-4 mr-1.5\" />\n              <span>\n                생성 {new Date(project.createdAt).toLocaleDateString(\"ko-KR\")}\n              </span>\n            </div>\n            {project.updatedAt && project.updatedAt !== project.createdAt && (\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <span className=\"text-gray-300\">•</span>\n                <span className=\"ml-1.5\">\n                  수정 {new Date(project.updatedAt).toLocaleDateString(\"ko-KR\")}\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* 프롬프트 정보 */}\n          <div className=\"flex items-center space-x-4 mb-3\">\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <DocumentTextIcon className=\"h-4 w-4 mr-1.5\" />\n              <span>프롬프트 클릭해 주세요</span>\n            </div>\n          </div>\n\n          {/* 태그 */}\n          {project.tags && project.tags.length > 0 && (\n            <div className=\"mb-4\">\n              <div className=\"flex items-center\">\n                <TagIcon className=\"h-4 w-4 mr-1.5 text-gray-400\" />\n                <div className=\"flex flex-wrap gap-1.5\">\n                  {project.tags.slice(0, 3).map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"inline-flex items-center bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-medium\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                  {project.tags.length > 3 && (\n                    <span className=\"inline-flex items-center text-xs text-gray-400 px-2\">\n                      +{project.tags.length - 3}개\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 프로젝트 편집 모달 컴포넌트\nconst ProjectEditModal = ({ project, isOpen, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    tags: [],\n  });\n  const [tagInput, setTagInput] = useState(\"\");\n\n  useEffect(() => {\n    if (project) {\n      setFormData({\n        name: project.name || \"\",\n        description: project.description || \"\",\n        tags: Array.isArray(project.tags) ? [...project.tags] : [],\n      });\n    }\n  }, [project]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!formData.name.trim()) {\n      toast.error(\"프로젝트 이름을 입력해주세요\");\n      return;\n    }\n    onSave(formData);\n  };\n\n  const handleModalClose = () => {\n    setTagInput(\"\");\n    onCancel();\n  };\n\n  // 태그 추가 함수\n  const addTag = () => {\n    const tag = tagInput.trim();\n    if (tag && !formData.tags.includes(tag) && formData.tags.length < 10) {\n      setFormData({\n        ...formData,\n        tags: [...formData.tags, tag],\n      });\n      setTagInput(\"\");\n    }\n  };\n\n  // 태그 제거 함수\n  const removeTag = (tagToRemove) => {\n    setFormData({\n      ...formData,\n      tags: formData.tags.filter((tag) => tag !== tagToRemove),\n    });\n  };\n\n  // Enter 키로 태그 추가\n  const handleTagKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      addTag();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-lg max-w-md w-full\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">프로젝트 편집</h3>\n          <button\n            onClick={handleModalClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <XMarkIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-4 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              프로젝트 이름 *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) =>\n                setFormData({ ...formData, name: e.target.value })\n              }\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"프로젝트 이름을 입력하세요\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              설명\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) =>\n                setFormData({ ...formData, description: e.target.value })\n              }\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"프로젝트 설명을 입력하세요\"\n            />\n          </div>\n\n          {/* 태그 관리 */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              태그 ({formData.tags.length}/10)\n            </label>\n\n            {/* 현재 태그들 */}\n            {formData.tags.length > 0 && (\n              <div className=\"flex flex-wrap gap-2 mb-3\">\n                {formData.tags.map((tag, index) => (\n                  <span\n                    key={index}\n                    className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\"\n                  >\n                    {tag}\n                    <button\n                      type=\"button\"\n                      onClick={() => removeTag(tag)}\n                      className=\"ml-2 text-blue-600 hover:text-blue-800\"\n                    >\n                      <XMarkIcon className=\"h-3 w-3\" />\n                    </button>\n                  </span>\n                ))}\n              </div>\n            )}\n\n            {/* 태그 입력 */}\n            <div className=\"flex gap-2\">\n              <input\n                type=\"text\"\n                value={tagInput}\n                onChange={(e) => setTagInput(e.target.value)}\n                onKeyPress={handleTagKeyPress}\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"태그를 입력하고 Enter를 누르세요\"\n                maxLength={20}\n                disabled={formData.tags.length >= 10}\n              />\n              <button\n                type=\"button\"\n                onClick={addTag}\n                disabled={!tagInput.trim() || formData.tags.length >= 10}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                추가\n              </button>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              태그는 최대 10개까지 추가할 수 있습니다. 각 태그는 20자 이내로\n              입력하세요.\n            </p>\n          </div>\n\n          <div className=\"flex justify-end space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={handleModalClose}\n              className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50\"\n            >\n              취소\n            </button>\n            <button\n              type=\"submit\"\n              disabled={!formData.name.trim()}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              저장\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}