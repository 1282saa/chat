{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/ai_\\u110C\\u1166\\u1106\\u1169\\u11A8\\u1103\\u1161\\u11AF\\u1100\\u1175/frontend/src/components/AuthContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\nimport EmailVerification from \"./EmailVerification\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContainer = ({\n  onAuthSuccess\n}) => {\n  _s();\n  const [currentView, setCurrentView] = useState(\"login\"); // 'login', 'signup', 'verify'\n  const [signupEmail, setSignupEmail] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    login,\n    signup,\n    verifyEmail\n  } = useAuth();\n  const handleLoginSuccess = async response => {\n    // AuthContext의 상태가 업데이트되면 자동으로 App.js에서 인증된 화면으로 전환됨\n    console.log(\"로그인 성공:\", response);\n    // 명시적으로 홈페이지로 리다이렉트\n    navigate(\"/\", {\n      replace: true\n    });\n  };\n  const handleSignupSuccess = (response, email) => {\n    setSignupEmail(email || response.email || signupEmail);\n    setCurrentView(\"verify\");\n  };\n  const handleVerificationSuccess = () => {\n    setCurrentView(\"login\");\n    alert(\"이메일 인증이 완료되었습니다. 로그인해주세요.\");\n  };\n  const handleSwitchToSignup = () => {\n    setCurrentView(\"signup\");\n  };\n  const handleSwitchToLogin = () => {\n    setCurrentView(\"login\");\n  };\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case \"signup\":\n        return /*#__PURE__*/_jsxDEV(Signup, {\n          onSignupSuccess: handleSignupSuccess,\n          onSwitchToLogin: handleSwitchToLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this);\n      case \"verify\":\n        return /*#__PURE__*/_jsxDEV(EmailVerification, {\n          email: signupEmail,\n          onVerificationSuccess: handleVerificationSuccess,\n          onBackToLogin: handleSwitchToLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this);\n      case \"login\":\n      default:\n        return /*#__PURE__*/_jsxDEV(Login, {\n          onLoginSuccess: handleLoginSuccess,\n          onSwitchToSignup: handleSwitchToSignup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return renderCurrentView();\n};\n_s(AuthContainer, \"+Oz/I4uY7AkJwesrxrPLaWAM6G8=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = AuthContainer;\nexport default AuthContainer;\nvar _c;\n$RefreshReg$(_c, \"AuthContainer\");","map":{"version":3,"names":["React","useState","useNavigate","Login","Signup","EmailVerification","useAuth","jsxDEV","_jsxDEV","AuthContainer","onAuthSuccess","_s","currentView","setCurrentView","signupEmail","setSignupEmail","navigate","login","signup","verifyEmail","handleLoginSuccess","response","console","log","replace","handleSignupSuccess","email","handleVerificationSuccess","alert","handleSwitchToSignup","handleSwitchToLogin","renderCurrentView","onSignupSuccess","onSwitchToLogin","fileName","_jsxFileName","lineNumber","columnNumber","onVerificationSuccess","onBackToLogin","onLoginSuccess","onSwitchToSignup","_c","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/AuthContainer.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\nimport EmailVerification from \"./EmailVerification\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst AuthContainer = ({ onAuthSuccess }) => {\n  const [currentView, setCurrentView] = useState(\"login\"); // 'login', 'signup', 'verify'\n  const [signupEmail, setSignupEmail] = useState(\"\");\n  const navigate = useNavigate();\n  const { login, signup, verifyEmail } = useAuth();\n\n  const handleLoginSuccess = async (response) => {\n    // AuthContext의 상태가 업데이트되면 자동으로 App.js에서 인증된 화면으로 전환됨\n    console.log(\"로그인 성공:\", response);\n    // 명시적으로 홈페이지로 리다이렉트\n    navigate(\"/\", { replace: true });\n  };\n\n  const handleSignupSuccess = (response, email) => {\n    setSignupEmail(email || response.email || signupEmail);\n    setCurrentView(\"verify\");\n  };\n\n  const handleVerificationSuccess = () => {\n    setCurrentView(\"login\");\n    alert(\"이메일 인증이 완료되었습니다. 로그인해주세요.\");\n  };\n\n  const handleSwitchToSignup = () => {\n    setCurrentView(\"signup\");\n  };\n\n  const handleSwitchToLogin = () => {\n    setCurrentView(\"login\");\n  };\n\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case \"signup\":\n        return (\n          <Signup\n            onSignupSuccess={handleSignupSuccess}\n            onSwitchToLogin={handleSwitchToLogin}\n          />\n        );\n      case \"verify\":\n        return (\n          <EmailVerification\n            email={signupEmail}\n            onVerificationSuccess={handleVerificationSuccess}\n            onBackToLogin={handleSwitchToLogin}\n          />\n        );\n      case \"login\":\n      default:\n        return (\n          <Login\n            onLoginSuccess={handleLoginSuccess}\n            onSwitchToSignup={handleSwitchToSignup}\n          />\n        );\n    }\n  };\n\n  return renderCurrentView();\n};\n\nexport default AuthContainer;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;EACzD,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAMe,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEe,KAAK;IAAEC,MAAM;IAAEC;EAAY,CAAC,GAAGb,OAAO,CAAC,CAAC;EAEhD,MAAMc,kBAAkB,GAAG,MAAOC,QAAQ,IAAK;IAC7C;IACAC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,QAAQ,CAAC;IAChC;IACAL,QAAQ,CAAC,GAAG,EAAE;MAAEQ,OAAO,EAAE;IAAK,CAAC,CAAC;EAClC,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAACJ,QAAQ,EAAEK,KAAK,KAAK;IAC/CX,cAAc,CAACW,KAAK,IAAIL,QAAQ,CAACK,KAAK,IAAIZ,WAAW,CAAC;IACtDD,cAAc,CAAC,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAMc,yBAAyB,GAAGA,CAAA,KAAM;IACtCd,cAAc,CAAC,OAAO,CAAC;IACvBe,KAAK,CAAC,2BAA2B,CAAC;EACpC,CAAC;EAED,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;IACjChB,cAAc,CAAC,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAMiB,mBAAmB,GAAGA,CAAA,KAAM;IAChCjB,cAAc,CAAC,OAAO,CAAC;EACzB,CAAC;EAED,MAAMkB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,QAAQnB,WAAW;MACjB,KAAK,QAAQ;QACX,oBACEJ,OAAA,CAACJ,MAAM;UACL4B,eAAe,EAAEP,mBAAoB;UACrCQ,eAAe,EAAEH;QAAoB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC;MAEN,KAAK,QAAQ;QACX,oBACE7B,OAAA,CAACH,iBAAiB;UAChBqB,KAAK,EAAEZ,WAAY;UACnBwB,qBAAqB,EAAEX,yBAA0B;UACjDY,aAAa,EAAET;QAAoB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC;MAEN,KAAK,OAAO;MACZ;QACE,oBACE7B,OAAA,CAACL,KAAK;UACJqC,cAAc,EAAEpB,kBAAmB;UACnCqB,gBAAgB,EAAEZ;QAAqB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC;IAER;EACF,CAAC;EAED,OAAON,iBAAiB,CAAC,CAAC;AAC5B,CAAC;AAACpB,EAAA,CA5DIF,aAAa;EAAA,QAGAP,WAAW,EACWI,OAAO;AAAA;AAAAoC,EAAA,GAJ1CjC,aAAa;AA8DnB,eAAeA,aAAa;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}