{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/ai_\\u110C\\u1166\\u1106\\u1169\\u11A8\\u1103\\u1161\\u11AF\\u1100\\u1175/frontend/src/components/PromptCardManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { PlusIcon, Bars3Icon } from \"@heroicons/react/24/outline\";\nimport { promptCardAPI, handleAPIError } from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\nimport PromptCard from \"./prompts/PromptCard\";\nimport PromptEditForm from \"./prompts/PromptEditForm\";\nimport { SidebarSkeleton } from \"./SkeletonLoader\";\n\n// 프롬프트 편집 모달\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PromptEditModal = ({\n  isOpen,\n  onSubmit,\n  onCancel,\n  initialData\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(PromptEditForm, {\n        onSubmit: onSubmit,\n        onCancel: onCancel,\n        initialData: initialData,\n        isModal: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n_c = PromptEditModal;\nconst PromptCardManager = ({\n  projectId,\n  onCardsChanged,\n  projectName\n}) => {\n  _s();\n  // 상태 관리\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n\n  // 프롬프트 카드 로드\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(projectId);\n\n      // API 응답 구조 확인 및 안전한 처리\n      let cards = [];\n      if (Array.isArray(response)) {\n        cards = response;\n      } else if (response && Array.isArray(response.promptCards)) {\n        cards = response.promptCards;\n      } else if (response && Array.isArray(response.data)) {\n        cards = response.data;\n      } else {\n        console.warn(\"Unexpected API response structure:\", response);\n        cards = [];\n      }\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n      setPromptCards([]); // 오류 시 빈 배열로 설정\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 카드 업데이트\n  const handleUpdateCard = async cardData => {\n    try {\n      if (editingCard) {\n        // 편집 모드\n        await promptCardAPI.updatePromptCard(editingCard.promptId || editingCard.id, cardData);\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 생성 모드\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      await loadPromptCards();\n      setShowForm(false);\n      setEditingCard(null);\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard ? \"수정\" : \"생성\"} 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 카드 토글 (최적화 UI)\n  const handleToggleCard = async (promptId, enabled) => {\n    // promptCards가 배열인지 확인\n    if (!Array.isArray(promptCards)) {\n      console.error(\"promptCards is not an array:\", promptCards);\n      return;\n    }\n\n    // 낙관적 업데이트: 즉시 UI 반영\n    const originalCards = [...promptCards];\n    const updatedCards = promptCards.map(card => (card.promptId || card.id) === promptId ? {\n      ...card,\n      enabled\n    } : card);\n    setPromptCards(updatedCards);\n    try {\n      await promptCardAPI.updatePromptCard(promptId, {\n        enabled\n      });\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      // 실패 시 복원\n      setPromptCards(originalCards);\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 상태 변경 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 카드 삭제 (최적화 UI)\n  const handleDeleteCard = async promptId => {\n    if (!window.confirm(\"정말로 이 프롬프트 카드를 삭제하시겠습니까?\")) {\n      return;\n    }\n\n    // promptCards가 배열인지 확인\n    if (!Array.isArray(promptCards)) {\n      console.error(\"promptCards is not an array:\", promptCards);\n      return;\n    }\n\n    // 낙관적 업데이트: 즉시 UI에서 제거\n    const originalCards = [...promptCards];\n    const updatedCards = promptCards.filter(card => (card.promptId || card.id) !== promptId);\n    setPromptCards(updatedCards);\n    toast.success(\"프롬프트 카드가 삭제되었습니다!\");\n    try {\n      await promptCardAPI.deletePromptCard(projectId, promptId);\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      // 실패 시 복원\n      setPromptCards(originalCards);\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 삭제 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = card => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // promptCards가 배열인지 확인하고 안전하게 처리\n  const safePromptCards = Array.isArray(promptCards) ? promptCards : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${sidebarCollapsed ? \"w-16\" : \"w-80\"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [!sidebarCollapsed && /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarCollapsed(!sidebarCollapsed),\n            className: \"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md\",\n            children: /*#__PURE__*/_jsxDEV(Bars3Icon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: loading ? /*#__PURE__*/_jsxDEV(SidebarSkeleton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this) : sidebarCollapsed ?\n        /*#__PURE__*/\n        // 축소된 사이드바 - 아이콘만 표시\n        _jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: safePromptCards.map((card, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${card.enabled ? \"bg-blue-100 text-blue-800\" : \"bg-gray-100 text-gray-500\"}`,\n            title: card.title,\n            children: index + 1\n          }, card.promptId || card.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // 전체 사이드바\n        _jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: safePromptCards.length > 0 ? safePromptCards.map((card, index) => /*#__PURE__*/_jsxDEV(PromptCard, {\n            card: card,\n            onEdit: handleEditCard,\n            onToggle: handleToggleCard,\n            onDelete: handleDeleteCard,\n            stepNumber: index + 1\n          }, card.promptId || card.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs mt-1\",\n              children: \"\\uC0C8 \\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uCD94\\uAC00\\uD574\\uBCF4\\uC138\\uC694.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), !sidebarCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowForm(true),\n          className: \"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), \"\\uC0C8 \\uD504\\uB86C\\uD504\\uD2B8 \\uCD94\\uAC00\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: /*#__PURE__*/_jsxDEV(ChatInterface, {\n        projectId: projectId,\n        projectName: projectName,\n        promptCards: safePromptCards\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PromptEditModal, {\n      isOpen: showForm,\n      onSubmit: handleUpdateCard,\n      onCancel: handleCancelForm,\n      initialData: editingCard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(PromptCardManager, \"y6kGmJmYWhyYaEtAj1844IzKDF4=\");\n_c2 = PromptCardManager;\nexport default PromptCardManager;\nvar _c, _c2;\n$RefreshReg$(_c, \"PromptEditModal\");\n$RefreshReg$(_c2, \"PromptCardManager\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","PlusIcon","Bars3Icon","promptCardAPI","handleAPIError","ChatInterface","PromptCard","PromptEditForm","SidebarSkeleton","jsxDEV","_jsxDEV","PromptEditModal","isOpen","onSubmit","onCancel","initialData","className","children","isModal","fileName","_jsxFileName","lineNumber","columnNumber","_c","PromptCardManager","projectId","onCardsChanged","projectName","_s","promptCards","setPromptCards","loading","setLoading","showForm","setShowForm","editingCard","setEditingCard","sidebarCollapsed","setSidebarCollapsed","loadPromptCards","response","getPromptCards","cards","Array","isArray","data","console","warn","error","errorInfo","message","handleUpdateCard","cardData","updatePromptCard","promptId","id","success","createPromptCard","handleToggleCard","enabled","originalCards","updatedCards","map","card","handleDeleteCard","window","confirm","filter","deletePromptCard","handleEditCard","handleCancelForm","safePromptCards","onClick","index","title","length","onEdit","onToggle","onDelete","stepNumber","_c2","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/PromptCardManager.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { PlusIcon, Bars3Icon } from \"@heroicons/react/24/outline\";\nimport { promptCardAPI, handleAPIError } from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\nimport PromptCard from \"./prompts/PromptCard\";\nimport PromptEditForm from \"./prompts/PromptEditForm\";\nimport { SidebarSkeleton } from \"./SkeletonLoader\";\n\n// 프롬프트 편집 모달\nconst PromptEditModal = ({ isOpen, onSubmit, onCancel, initialData }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <PromptEditForm\n          onSubmit={onSubmit}\n          onCancel={onCancel}\n          initialData={initialData}\n          isModal={true}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst PromptCardManager = ({ projectId, onCardsChanged, projectName }) => {\n  // 상태 관리\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n\n  // 프롬프트 카드 로드\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(projectId);\n\n      // API 응답 구조 확인 및 안전한 처리\n      let cards = [];\n      if (Array.isArray(response)) {\n        cards = response;\n      } else if (response && Array.isArray(response.promptCards)) {\n        cards = response.promptCards;\n      } else if (response && Array.isArray(response.data)) {\n        cards = response.data;\n      } else {\n        console.warn(\"Unexpected API response structure:\", response);\n        cards = [];\n      }\n\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n      setPromptCards([]); // 오류 시 빈 배열로 설정\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 카드 업데이트\n  const handleUpdateCard = async (cardData) => {\n    try {\n      if (editingCard) {\n        // 편집 모드\n        await promptCardAPI.updatePromptCard(\n          editingCard.promptId || editingCard.id,\n          cardData\n        );\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 생성 모드\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n\n      await loadPromptCards();\n      setShowForm(false);\n      setEditingCard(null);\n\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(\n        `카드 ${editingCard ? \"수정\" : \"생성\"} 실패: ${errorInfo.message}`\n      );\n    }\n  };\n\n  // 카드 토글 (최적화 UI)\n  const handleToggleCard = async (promptId, enabled) => {\n    // promptCards가 배열인지 확인\n    if (!Array.isArray(promptCards)) {\n      console.error(\"promptCards is not an array:\", promptCards);\n      return;\n    }\n\n    // 낙관적 업데이트: 즉시 UI 반영\n    const originalCards = [...promptCards];\n    const updatedCards = promptCards.map((card) =>\n      (card.promptId || card.id) === promptId ? { ...card, enabled } : card\n    );\n    setPromptCards(updatedCards);\n\n    try {\n      await promptCardAPI.updatePromptCard(promptId, { enabled });\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      // 실패 시 복원\n      setPromptCards(originalCards);\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 상태 변경 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 카드 삭제 (최적화 UI)\n  const handleDeleteCard = async (promptId) => {\n    if (!window.confirm(\"정말로 이 프롬프트 카드를 삭제하시겠습니까?\")) {\n      return;\n    }\n\n    // promptCards가 배열인지 확인\n    if (!Array.isArray(promptCards)) {\n      console.error(\"promptCards is not an array:\", promptCards);\n      return;\n    }\n\n    // 낙관적 업데이트: 즉시 UI에서 제거\n    const originalCards = [...promptCards];\n    const updatedCards = promptCards.filter(\n      (card) => (card.promptId || card.id) !== promptId\n    );\n    setPromptCards(updatedCards);\n    toast.success(\"프롬프트 카드가 삭제되었습니다!\");\n\n    try {\n      await promptCardAPI.deletePromptCard(projectId, promptId);\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      // 실패 시 복원\n      setPromptCards(originalCards);\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 삭제 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = (card) => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // promptCards가 배열인지 확인하고 안전하게 처리\n  const safePromptCards = Array.isArray(promptCards) ? promptCards : [];\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* 사이드바 */}\n      <div\n        className={`${\n          sidebarCollapsed ? \"w-16\" : \"w-80\"\n        } bg-white border-r border-gray-200 transition-all duration-300 flex flex-col`}\n      >\n        {/* 사이드바 헤더 */}\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            {!sidebarCollapsed && (\n              <h2 className=\"text-lg font-semibold text-gray-900\">\n                프롬프트 카드\n              </h2>\n            )}\n            <button\n              onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n              className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md\"\n            >\n              <Bars3Icon className=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n\n        {/* 프롬프트 카드 목록 */}\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          {loading ? (\n            <SidebarSkeleton />\n          ) : sidebarCollapsed ? (\n            // 축소된 사이드바 - 아이콘만 표시\n            <div className=\"space-y-2\">\n              {safePromptCards.map((card, index) => (\n                <div\n                  key={card.promptId || card.id || index}\n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${\n                    card.enabled\n                      ? \"bg-blue-100 text-blue-800\"\n                      : \"bg-gray-100 text-gray-500\"\n                  }`}\n                  title={card.title}\n                >\n                  {index + 1}\n                </div>\n              ))}\n            </div>\n          ) : (\n            // 전체 사이드바\n            <div className=\"space-y-3\">\n              {safePromptCards.length > 0 ? (\n                safePromptCards.map((card, index) => (\n                  <PromptCard\n                    key={card.promptId || card.id || index}\n                    card={card}\n                    onEdit={handleEditCard}\n                    onToggle={handleToggleCard}\n                    onDelete={handleDeleteCard}\n                    stepNumber={index + 1}\n                  />\n                ))\n              ) : (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <p className=\"text-sm\">프롬프트 카드가 없습니다.</p>\n                  <p className=\"text-xs mt-1\">새 프롬프트를 추가해보세요.</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* 새 카드 추가 버튼 */}\n        {!sidebarCollapsed && (\n          <div className=\"p-4 border-t border-gray-200\">\n            <button\n              onClick={() => setShowForm(true)}\n              className=\"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <PlusIcon className=\"h-4 w-4 mr-2\" />새 프롬프트 추가\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* 메인 콘텐츠 - 채팅 인터페이스 */}\n      <div className=\"flex-1\">\n        <ChatInterface\n          projectId={projectId}\n          projectName={projectName}\n          promptCards={safePromptCards}\n        />\n      </div>\n\n      {/* 편집 모달 */}\n      <PromptEditModal\n        isOpen={showForm}\n        onSubmit={handleUpdateCard}\n        onCancel={handleCancelForm}\n        initialData={editingCard}\n      />\n    </div>\n  );\n};\n\nexport default PromptCardManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}