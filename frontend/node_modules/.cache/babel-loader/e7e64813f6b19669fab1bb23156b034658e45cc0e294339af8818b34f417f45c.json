{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{ArrowLeftIcon}from\"@heroicons/react/24/outline\";import{projectAPI,handleAPIError}from\"../services/api\";import LoadingSpinner from\"./LoadingSpinner\";import AdminView from\"./AdminView\";import UserView from\"./UserView\";import{useApp}from\"../contexts/AppContext\";import{ChatInterfaceSkeleton}from\"./skeleton/SkeletonComponents\";import DarkModeToggle from\"./DarkModeToggle\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectDetail=()=>{const{projectId}=useParams();const navigate=useNavigate();const{mode,setMode}=useApp();const[project,setProject]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadProjectData();},[projectId,navigate]);const loadProjectData=async()=>{try{setLoading(true);const projectData=await projectAPI.getProject(projectId);setProject(projectData);}catch(error){console.error(\"프로젝트 로드 실패:\",error);const errorInfo=handleAPIError(error);toast.error(errorInfo.message);navigate(\"/projects\");}finally{setLoading(false);}};const handleBackNavigation=()=>{navigate(\"/projects\");};if(loading){return/*#__PURE__*/_jsx(ChatInterfaceSkeleton,{});}if(!project){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center transition-colors duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/projects\"),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2\"}),\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA9\\uB85D\\uC73C\\uB85C\"]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col bg-gray-50 dark:bg-dark-primary transition-all duration-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-gray-50 dark:bg-dark-primary border-b border-gray-200 dark:border-gray-700 px-6 py-4 transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleBackNavigation,className:\"btn-neo group relative overflow-hidden\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-2 group-hover:-translate-x-1 transition-transform duration-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors duration-300 text-gray-700 dark:text-white\",children:\"\\uBAA9\\uB85D\\uC73C\\uB85C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-8 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900 dark:text-white\",children:project.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(DarkModeToggle,{size:\"md\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-neo p-1 rounded-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode(\"user\"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300 ${mode===\"user\"?\"btn-neo bg-blue-500 text-white shadow-lg\":\"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-dark-tertiary\"}`,children:\"\\uD83D\\uDC65 \\uC0AC\\uC6A9\\uC790\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode(\"admin\"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300 ${mode===\"admin\"?\"btn-neo bg-emerald-500 text-white shadow-lg\":\"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-dark-tertiary\"}`,children:\"\\u2699\\uFE0F \\uAD00\\uB9AC\\uC790\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-neo px-4 py-2 rounded-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 w-2 h-2 bg-emerald-500 rounded-full animate-ping opacity-30\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-emerald-500 dark:text-emerald-400 font-medium\",children:\"\\uC900\\uBE44\\uC644\\uB8CC\"})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden\",children:mode===\"admin\"?/*#__PURE__*/// 관리자 모드: 프롬프트 카드 관리 + 채팅\n_jsx(AdminView,{projectId:projectId,projectName:project.name}):/*#__PURE__*/// 사용자 모드: 채팅만\n_jsx(UserView,{projectId:projectId,projectName:project.name})})]});};export default ProjectDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","toast","ArrowLeftIcon","projectAPI","handleAPIError","LoadingSpinner","AdminView","UserView","useApp","ChatInterfaceSkeleton","DarkModeToggle","jsx","_jsx","jsxs","_jsxs","ProjectDetail","projectId","navigate","mode","setMode","project","setProject","loading","setLoading","loadProjectData","projectData","getProject","error","console","errorInfo","message","handleBackNavigation","className","children","onClick","name","size","projectName"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기(수)_완성본_스트리밍구현 복사본/frontend/src/components/ProjectDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport { ArrowLeftIcon } from \"@heroicons/react/24/outline\";\nimport { projectAPI, handleAPIError } from \"../services/api\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport AdminView from \"./AdminView\";\nimport UserView from \"./UserView\";\nimport { useApp } from \"../contexts/AppContext\";\nimport { ChatInterfaceSkeleton } from \"./skeleton/SkeletonComponents\";\nimport DarkModeToggle from \"./DarkModeToggle\";\n\nconst ProjectDetail = () => {\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n  const { mode, setMode } = useApp();\n  const [project, setProject] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProjectData();\n  }, [projectId, navigate]);\n\n  const loadProjectData = async () => {\n    try {\n      setLoading(true);\n      const projectData = await projectAPI.getProject(projectId);\n      setProject(projectData);\n    } catch (error) {\n      console.error(\"프로젝트 로드 실패:\", error);\n      const errorInfo = handleAPIError(error);\n      toast.error(errorInfo.message);\n      navigate(\"/projects\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBackNavigation = () => {\n    navigate(\"/projects\");\n  };\n\n  if (loading) {\n    return <ChatInterfaceSkeleton />;\n  }\n\n  if (!project) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center transition-colors duration-200\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\n            프로젝트를 찾을 수 없습니다\n          </h2>\n          <button\n            onClick={() => navigate(\"/projects\")}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\"\n          >\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n            프로젝트 목록으로\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50 dark:bg-dark-primary transition-all duration-500\">\n      {/* 상단 네비게이션 바 */}\n      <div className=\"flex-shrink-0 bg-gray-50 dark:bg-dark-primary border-b border-gray-200 dark:border-gray-700 px-6 py-4 transition-all duration-300\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-6\">\n            <button\n              onClick={handleBackNavigation}\n              className=\"btn-neo group relative overflow-hidden\"\n            >\n              <ArrowLeftIcon className=\"h-4 w-4 mr-2 group-hover:-translate-x-1 transition-transform duration-300\" />\n              <span className=\"group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors duration-300 text-gray-700 dark:text-white\">\n                목록으로\n              </span>\n            </button>\n\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"w-2 h-8 bg-blue-500 rounded-full\" />\n              <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                {project.name}\n              </h1>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            {/* 다크모드 토글 */}\n            <DarkModeToggle size=\"md\" />\n\n            {/* 모드 전환 버튼 */}\n            <div className=\"card-neo p-1 rounded-xl\">\n              <div className=\"flex items-center\">\n                <button\n                  onClick={() => setMode(\"user\")}\n                  className={`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300 ${\n                    mode === \"user\"\n                      ? \"btn-neo bg-blue-500 text-white shadow-lg\"\n                      : \"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-dark-tertiary\"\n                  }`}\n                >\n                  👥 사용자\n                </button>\n                <button\n                  onClick={() => setMode(\"admin\")}\n                  className={`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300 ${\n                    mode === \"admin\"\n                      ? \"btn-neo bg-emerald-500 text-white shadow-lg\"\n                      : \"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-dark-tertiary\"\n                  }`}\n                >\n                  ⚙️ 관리자\n                </button>\n              </div>\n            </div>\n\n            {/* 상태 인디케이터 */}\n            <div className=\"card-neo px-4 py-2 rounded-xl\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"relative\">\n                  <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\" />\n                  <div className=\"absolute inset-0 w-2 h-2 bg-emerald-500 rounded-full animate-ping opacity-30\" />\n                </div>\n                <span className=\"text-xs text-emerald-500 dark:text-emerald-400 font-medium\">\n                  준비완료\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 메인 콘텐츠 */}\n      <div className=\"flex-1 overflow-hidden\">\n        {mode === \"admin\" ? (\n          // 관리자 모드: 프롬프트 카드 관리 + 채팅\n          <AdminView projectId={projectId} projectName={project.name} />\n        ) : (\n          // 사용자 모드: 채팅만\n          <UserView projectId={projectId} projectName={project.name} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}