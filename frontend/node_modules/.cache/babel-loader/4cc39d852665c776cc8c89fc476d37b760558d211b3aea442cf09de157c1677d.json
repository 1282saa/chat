{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/ai_\\u110C\\u1166\\u1106\\u1169\\u11A8\\u1103\\u1161\\u11AF\\u1100\\u1175/frontend/src/components/PromptCardManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { PlusIcon, PencilIcon, TrashIcon, EyeIcon, EyeSlashIcon, Cog6ToothIcon, DocumentTextIcon, SparklesIcon, CloudArrowUpIcon, XMarkIcon, Bars3Icon, EllipsisHorizontalIcon } from \"@heroicons/react/24/outline\";\nimport { promptCardAPI, PROMPT_CARD_CATEGORIES, AVAILABLE_MODELS, handleAPIError } from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\n\n// 고정된 프롬프트 카테고리 템플릿 (순서 포함)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FIXED_PROMPT_CATEGORIES = [{\n  id: \"instruction\",\n  name: \"지시사항\",\n  order: 1,\n  color: \"bg-blue-100 text-blue-800\",\n  description: \"AI의 역할과 작업 지시사항을 정의합니다\",\n  defaultContent: \"당신은 전문적인 기사 제목 작성자입니다. 서울경제신문의 스타일에 맞는 매력적이고 정확한 제목을 작성해주세요.\"\n}, {\n  id: \"knowledge\",\n  name: \"지식 베이스\",\n  order: 2,\n  color: \"bg-purple-100 text-purple-800\",\n  description: \"작업에 필요한 배경 지식과 정보를 제공합니다\",\n  defaultContent: \"제목 작성 시 다음 가이드라인을 따라주세요:\\n- 명확하고 간결하게 작성\\n- 독자의 관심을 끌 수 있는 표현 사용\\n- 기사의 핵심 내용을 정확히 반영\"\n}, {\n  id: \"secondary\",\n  name: \"보조 지침\",\n  order: 3,\n  color: \"bg-green-100 text-green-800\",\n  description: \"추가적인 작업 지침과 세부 규칙을 안내합니다\",\n  defaultContent: \"다음 단계를 따라 제목을 생성해주세요:\\n1. 기사 내용 분석\\n2. 핵심 키워드 추출\\n3. 여러 제목 후보 생성\\n4. 최적의 제목 선택\"\n}, {\n  id: \"style_guide\",\n  name: \"스타일 가이드\",\n  order: 4,\n  color: \"bg-orange-100 text-orange-800\",\n  description: \"출력 형식과 스타일 규칙을 정의합니다\",\n  defaultContent: \"결과는 다음 형식으로 제공해주세요:\\n- 메인 제목 1개\\n- 대안 제목 2-3개\\n- 각 제목의 선택 이유 간단 설명\"\n}, {\n  id: \"validation\",\n  name: \"검증 기준\",\n  order: 5,\n  color: \"bg-yellow-100 text-yellow-800\",\n  description: \"품질 검증과 최종 검토 기준을 제시합니다\",\n  defaultContent: \"생성된 제목을 다음 기준으로 검수해주세요:\\n- 문법적 정확성\\n- 사실 관계 확인\\n- 브랜드 가이드라인 준수\\n- 독자 친화성\"\n}, {\n  id: \"enhancement\",\n  name: \"최적화\",\n  order: 6,\n  color: \"bg-red-100 text-red-800\",\n  description: \"결과 개선과 최적화 방법을 안내합니다\",\n  defaultContent: \"좋은 제목 예시:\\n- '반도체 수출 급증, 3분기 실적 기대감 ↑'\\n- '부동산 규제 완화로 거래량 30% 증가'\\n- 'K-뷰티 해외진출 가속화, 올해 수출 목표 달성'\"\n}];\n\n// 프롬프트 편집 모달\nconst PromptEditModal = ({\n  isOpen,\n  onSubmit,\n  onCancel,\n  initialData\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(PromptEditForm, {\n        onSubmit: onSubmit,\n        onCancel: onCancel,\n        initialData: initialData,\n        isModal: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n// 프롬프트 폼 (편집 전용)\n_c = PromptEditModal;\nconst PromptEditForm = ({\n  onSubmit,\n  onCancel,\n  initialData,\n  isModal = false\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"instruction\",\n    model_name: \"claude-3-5-sonnet-20241022\",\n    temperature: 0.7,\n    prompt_text: \"\",\n    enabled: true,\n    step_order: 1,\n    ...initialData\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.prompt_text.trim()) {\n      toast.error(\"프롬프트 내용을 입력해주세요.\");\n      return;\n    }\n    try {\n      await onSubmit(formData);\n    } catch (error) {\n      console.error(\"폼 제출 실패:\", error);\n      toast.error(\"폼 제출에 실패했습니다.\");\n    }\n  };\n  const handleChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === formData.category);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border border-gray-200 p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2\",\n          children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uD3B8\\uC9D1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uC81C\\uBAA9 (\\uC218\\uC815 \\uBD88\\uAC00)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.title,\n            readOnly: true,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\uBAA8\\uB378\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.model_name,\n              onChange: e => handleChange(\"model_name\", e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-5-sonnet-20241022\",\n                children: \"Claude 3.5 Sonnet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-sonnet-20240229\",\n                children: \"Claude 3 Sonnet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"claude-3-haiku-20240307\",\n                children: \"Claude 3 Haiku\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: [\"\\uC628\\uB3C4: \", formData.temperature]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"0\",\n              max: \"1\",\n              step: \"0.1\",\n              value: formData.temperature,\n              onChange: e => handleChange(\"temperature\", parseFloat(e.target.value)),\n              className: \"w-full h-2 bg-gradient-to-r from-blue-200 to-blue-500 rounded-lg appearance-none cursor-pointer\",\n              style: {\n                background: `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${formData.temperature * 100}%, #e5e7eb ${formData.temperature * 100}%, #e5e7eb 100%)`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-500 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uC815\\uD655\\uD568 (0.0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uCC3D\\uC758\\uC801 (1.0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uB0B4\\uC6A9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.prompt_text,\n            onChange: e => handleChange(\"prompt_text\", e.target.value),\n            rows: 12,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleChange(\"prompt_text\", (categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.defaultContent) || \"\"),\n              className: \"text-xs text-blue-600 hover:text-blue-800\",\n              children: \"\\uAE30\\uBCF8 \\uB0B4\\uC6A9\\uC73C\\uB85C \\uBCF5\\uC6D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3 pt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors\",\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\",\n            children: \"\\uC800\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n\n// 개선된 사이드바 프롬프트 카드 (편집 전용)\n_s(PromptEditForm, \"E2yf2zzXu5KYI5JBQ3QmQ52iulY=\");\n_c2 = PromptEditForm;\nconst SidebarPromptCard = ({\n  card,\n  onEdit,\n  onToggle,\n  onDelete\n}) => {\n  _s2();\n  const [isToggling, setIsToggling] = useState(false);\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === card.category);\n  const getModelDisplayName = modelId => {\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude-3-5-sonnet\")) return \"Claude 3.5 Sonnet\";\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude-3-sonnet\")) return \"Claude 3 Sonnet\";\n    if (modelId !== null && modelId !== void 0 && modelId.includes(\"claude\")) return \"Claude\";\n    return \"Unknown Model\";\n  };\n\n  // 즉시 반응하는 토글 (낙관적 업데이트)\n  const handleToggleClick = async () => {\n    if (isToggling) return;\n    setIsToggling(true);\n    const newEnabled = !card.enabled;\n\n    // 즉시 UI 업데이트 (낙관적 업데이트)\n    card.enabled = newEnabled;\n    try {\n      await onToggle(card.promptId || card.id, newEnabled);\n    } catch (error) {\n      // 실패시 원래 상태로 복원\n      card.enabled = !newEnabled;\n      toast.error(\"상태 변경에 실패했습니다.\");\n    } finally {\n      setIsToggling(false);\n    }\n  };\n  const handleEdit = () => {\n    onEdit(card);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"group p-4 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 transition-all duration-200 relative\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.color}`,\n            children: [categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.order, \". \", categoryInfo === null || categoryInfo === void 0 ? void 0 : categoryInfo.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-sm font-medium text-gray-900 truncate\",\n            children: card.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Temperature: \", card.temperature || 0.7]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Model: \", getModelDisplayName(card.model_name || card.model)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEdit,\n          className: \"p-1 text-gray-400 hover:text-blue-600 rounded transition-all hover:bg-blue-50\",\n          title: \"\\uD3B8\\uC9D1\",\n          children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (window.confirm('이 프롬프트 카드를 삭제하시겠습니까?')) {\n              onDelete(card.promptId || card.id);\n            }\n          },\n          className: \"p-1 text-gray-400 hover:text-red-600 rounded transition-all hover:bg-red-50\",\n          title: \"\\uC0AD\\uC81C\",\n          children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleToggleClick,\n          disabled: isToggling,\n          className: `w-10 h-5 rounded-full relative transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 ${card.enabled ? \"bg-gradient-to-r from-blue-500 to-blue-600 shadow-lg\" : \"bg-gray-300 hover:bg-gray-400\"} ${isToggling ? \"opacity-50 cursor-not-allowed\" : \"cursor-pointer\"}`,\n          title: card.enabled ? \"비활성화\" : \"활성화\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-4 h-4 bg-white rounded-full shadow-md transform transition-all duration-300 absolute top-0.5 ${card.enabled ? \"translate-x-5\" : \"translate-x-0.5\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n};\n\n// 메인 PromptCardManager 컴포넌트 (템플릿 시스템)\n_s2(SidebarPromptCard, \"L7q4RljS0ASaoS0XasDScXRfyVk=\");\n_c3 = SidebarPromptCard;\nconst PromptCardManager = ({\n  projectId,\n  onCardsChanged,\n  projectName\n}) => {\n  _s3();\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n\n  // 프롬프트 카드 목록 로딩 및 기본 카드 생성\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(projectId, true, true);\n      let cards = response.promptCards || [];\n\n      // 기본 카테고리별로 카드가 없으면 생성 (임시 비활성화)\n      console.log('Loaded cards from API:', cards.length);\n      // TODO: 기본 카드 생성 로직을 API 스키마 확인 후 다시 활성화\n      /*\n      for (const category of FIXED_PROMPT_CATEGORIES) {\n        const existingCard = cards.find(\n          (card) => card.category === category.id\n        );\n        if (!existingCard) {\n          // 기본 카드 생성\n          const defaultCard = {\n            title: `${category.name} 프롬프트`,\n            category: category.id,\n            model_name: \"claude-3-5-sonnet-20241022\",\n            temperature: 0.7,\n            prompt_text: category.defaultContent,\n            enabled: true,\n            step_order: category.order || 1,\n          };\n           try {\n            console.log(`Creating default card for ${category.name}:`, defaultCard);\n            const newCard = await promptCardAPI.createPromptCard(\n              projectId,\n              defaultCard\n            );\n            cards.push(newCard);\n          } catch (error) {\n            console.error(`기본 카드 생성 실패 (${category.name}):`, error);\n            if (error.response) {\n              console.error('API Response:', error.response.data);\n              console.error('Status:', error.response.status);\n            }\n          }\n        }\n      }\n      */\n\n      // 순서대로 정렬\n      cards.sort((a, b) => {\n        const aCategory = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === a.category);\n        const bCategory = FIXED_PROMPT_CATEGORIES.find(cat => cat.id === b.category);\n        return ((aCategory === null || aCategory === void 0 ? void 0 : aCategory.order) || 999) - ((bCategory === null || bCategory === void 0 ? void 0 : bCategory.order) || 999);\n      });\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 프롬프트 카드 수정/생성\n  const handleUpdateCard = async cardData => {\n    try {\n      if (editingCard.promptId || editingCard.id) {\n        // 기존 카드 수정\n        await promptCardAPI.updatePromptCard(projectId, editingCard.promptId || editingCard.id, cardData);\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 새 카드 생성\n        console.log('Creating new card:', cardData);\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      setEditingCard(null);\n      setShowForm(false);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard.promptId || editingCard.id ? '수정' : '생성'} 실패: ${errorInfo.message}`);\n      console.error('Card operation error:', error);\n      if (error.response) {\n        console.error('API Response:', error.response.data);\n      }\n    }\n  };\n\n  // 프롬프트 카드 활성/비활성 토글 (백그라운드 처리)\n  const handleToggleCard = async (promptId, enabled) => {\n    try {\n      await promptCardAPI.togglePromptCard(projectId, promptId, enabled);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      throw error; // SidebarPromptCard에서 처리\n    }\n  };\n\n  // 프롬프트 카드 삭제\n  const handleDeleteCard = async promptId => {\n    try {\n      await promptCardAPI.deletePromptCard(projectId, promptId);\n      toast.success(\"프롬프트 카드가 삭제되었습니다!\");\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 삭제 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = card => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // 카테고리별 그룹화 (순서 유지) - 빈 카테고리도 표시\n  const groupedCards = FIXED_PROMPT_CATEGORIES.reduce((groups, category) => {\n    const categoryCards = promptCards.filter(card => card.category === category.id);\n    groups[category.id] = {\n      ...category,\n      cards: categoryCards\n    };\n    return groups;\n  }, {});\n\n  // 디버깅용 로그\n  console.log('PromptCardManager Debug:');\n  console.log('promptCards:', promptCards);\n  console.log('groupedCards:', groupedCards);\n  const activeCards = promptCards.filter(card => card.enabled !== false).length;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-50 gap-4 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-hidden\",\n        children: showForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full overflow-y-auto p-6\",\n          children: /*#__PURE__*/_jsxDEV(PromptEditForm, {\n            onSubmit: handleUpdateCard,\n            onCancel: handleCancelForm,\n            initialData: editingCard\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ChatInterface, {\n          projectId: projectId,\n          projectName: projectName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-96 bg-white border border-gray-200 rounded-lg shadow-sm flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Cog6ToothIcon, {\n            className: \"h-5 w-5 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-900\",\n            children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uD15C\\uD50C\\uB9BF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [activeCards, \"/\", promptCards.length, \" \\uD65C\\uC131\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\\uB97C \\uB85C\\uB529 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this) : Object.values(groupedCards).map(categoryGroup => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-xs font-medium text-gray-700 uppercase tracking-wider\",\n                children: [categoryGroup.order, \". \", categoryGroup.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: categoryGroup.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: categoryGroup.cards.length > 0 ? categoryGroup.cards.map(card => /*#__PURE__*/_jsxDEV(SidebarPromptCard, {\n                card: card,\n                onEdit: handleEditCard,\n                onToggle: handleToggleCard,\n                onDelete: handleDeleteCard\n              }, card.promptId || card.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mb-2\",\n                  children: [categoryGroup.name, \" \\uD504\\uB86C\\uD504\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    // 해당 카테고리의 기본 카드 생성\n                    const defaultCard = {\n                      title: `${categoryGroup.name} 프롬프트`,\n                      category: categoryGroup.id,\n                      model_name: \"claude-3-5-sonnet-20241022\",\n                      temperature: 0.7,\n                      prompt_text: categoryGroup.defaultContent,\n                      enabled: true,\n                      step_order: categoryGroup.order || 1\n                    };\n                    setEditingCard(defaultCard);\n                    setShowForm(true);\n                  },\n                  className: \"text-xs text-blue-600 hover:text-blue-800\",\n                  children: \"+ \\uCE74\\uB4DC \\uCD94\\uAC00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 19\n            }, this)]\n          }, categoryGroup.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium mb-1\",\n            children: \"\\uD83D\\uDCA1 \\uD15C\\uD50C\\uB9BF \\uC2DC\\uC2A4\\uD15C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uAC01 \\uCE74\\uD14C\\uACE0\\uB9AC\\uBCC4 \\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uD3B8\\uC9D1\\uD558\\uC5EC AI \\uC751\\uB2F5\\uC744 \\uAC1C\\uC120\\uD558\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 539,\n    columnNumber: 5\n  }, this);\n};\n_s3(PromptCardManager, \"AcIVqa/+sZ2PDglpPDcoGHWxABI=\");\n_c4 = PromptCardManager;\nexport default PromptCardManager;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"PromptEditModal\");\n$RefreshReg$(_c2, \"PromptEditForm\");\n$RefreshReg$(_c3, \"SidebarPromptCard\");\n$RefreshReg$(_c4, \"PromptCardManager\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","PlusIcon","PencilIcon","TrashIcon","EyeIcon","EyeSlashIcon","Cog6ToothIcon","DocumentTextIcon","SparklesIcon","CloudArrowUpIcon","XMarkIcon","Bars3Icon","EllipsisHorizontalIcon","promptCardAPI","PROMPT_CARD_CATEGORIES","AVAILABLE_MODELS","handleAPIError","ChatInterface","jsxDEV","_jsxDEV","FIXED_PROMPT_CATEGORIES","id","name","order","color","description","defaultContent","PromptEditModal","isOpen","onSubmit","onCancel","initialData","className","children","PromptEditForm","isModal","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s","formData","setFormData","title","category","model_name","temperature","prompt_text","enabled","step_order","handleSubmit","e","preventDefault","trim","error","console","handleChange","field","value","prev","categoryInfo","find","cat","type","readOnly","onChange","target","min","max","step","parseFloat","style","background","rows","placeholder","onClick","_c2","SidebarPromptCard","card","onEdit","onToggle","onDelete","_s2","isToggling","setIsToggling","getModelDisplayName","modelId","includes","handleToggleClick","newEnabled","promptId","handleEdit","model","window","confirm","disabled","_c3","PromptCardManager","projectId","onCardsChanged","projectName","_s3","promptCards","setPromptCards","loading","setLoading","showForm","setShowForm","editingCard","setEditingCard","loadPromptCards","response","getPromptCards","cards","log","length","sort","a","b","aCategory","bCategory","errorInfo","message","handleUpdateCard","cardData","updatePromptCard","success","createPromptCard","data","handleToggleCard","togglePromptCard","handleDeleteCard","deletePromptCard","handleEditCard","handleCancelForm","groupedCards","reduce","groups","categoryCards","filter","activeCards","Object","values","map","categoryGroup","defaultCard","_c4","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기/frontend/src/components/PromptCardManager.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  EyeSlashIcon,\n  Cog6ToothIcon,\n  DocumentTextIcon,\n  SparklesIcon,\n  CloudArrowUpIcon,\n  XMarkIcon,\n  Bars3Icon,\n  EllipsisHorizontalIcon,\n} from \"@heroicons/react/24/outline\";\nimport {\n  promptCardAPI,\n  PROMPT_CARD_CATEGORIES,\n  AVAILABLE_MODELS,\n  handleAPIError,\n} from \"../services/api\";\nimport ChatInterface from \"./ChatInterface\";\n\n// 고정된 프롬프트 카테고리 템플릿 (순서 포함)\nconst FIXED_PROMPT_CATEGORIES = [\n  {\n    id: \"instruction\",\n    name: \"지시사항\",\n    order: 1,\n    color: \"bg-blue-100 text-blue-800\",\n    description: \"AI의 역할과 작업 지시사항을 정의합니다\",\n    defaultContent:\n      \"당신은 전문적인 기사 제목 작성자입니다. 서울경제신문의 스타일에 맞는 매력적이고 정확한 제목을 작성해주세요.\",\n  },\n  {\n    id: \"knowledge\",\n    name: \"지식 베이스\",\n    order: 2,\n    color: \"bg-purple-100 text-purple-800\",\n    description: \"작업에 필요한 배경 지식과 정보를 제공합니다\",\n    defaultContent:\n      \"제목 작성 시 다음 가이드라인을 따라주세요:\\n- 명확하고 간결하게 작성\\n- 독자의 관심을 끌 수 있는 표현 사용\\n- 기사의 핵심 내용을 정확히 반영\",\n  },\n  {\n    id: \"secondary\",\n    name: \"보조 지침\",\n    order: 3,\n    color: \"bg-green-100 text-green-800\",\n    description: \"추가적인 작업 지침과 세부 규칙을 안내합니다\",\n    defaultContent:\n      \"다음 단계를 따라 제목을 생성해주세요:\\n1. 기사 내용 분석\\n2. 핵심 키워드 추출\\n3. 여러 제목 후보 생성\\n4. 최적의 제목 선택\",\n  },\n  {\n    id: \"style_guide\",\n    name: \"스타일 가이드\",\n    order: 4,\n    color: \"bg-orange-100 text-orange-800\",\n    description: \"출력 형식과 스타일 규칙을 정의합니다\",\n    defaultContent:\n      \"결과는 다음 형식으로 제공해주세요:\\n- 메인 제목 1개\\n- 대안 제목 2-3개\\n- 각 제목의 선택 이유 간단 설명\",\n  },\n  {\n    id: \"validation\",\n    name: \"검증 기준\",\n    order: 5,\n    color: \"bg-yellow-100 text-yellow-800\",\n    description: \"품질 검증과 최종 검토 기준을 제시합니다\",\n    defaultContent:\n      \"생성된 제목을 다음 기준으로 검수해주세요:\\n- 문법적 정확성\\n- 사실 관계 확인\\n- 브랜드 가이드라인 준수\\n- 독자 친화성\",\n  },\n  {\n    id: \"enhancement\",\n    name: \"최적화\",\n    order: 6,\n    color: \"bg-red-100 text-red-800\",\n    description: \"결과 개선과 최적화 방법을 안내합니다\",\n    defaultContent:\n      \"좋은 제목 예시:\\n- '반도체 수출 급증, 3분기 실적 기대감 ↑'\\n- '부동산 규제 완화로 거래량 30% 증가'\\n- 'K-뷰티 해외진출 가속화, 올해 수출 목표 달성'\",\n  },\n];\n\n// 프롬프트 편집 모달\nconst PromptEditModal = ({ isOpen, onSubmit, onCancel, initialData }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <PromptEditForm \n          onSubmit={onSubmit} \n          onCancel={onCancel} \n          initialData={initialData}\n          isModal={true}\n        />\n      </div>\n    </div>\n  );\n};\n\n// 프롬프트 폼 (편집 전용)\nconst PromptEditForm = ({ onSubmit, onCancel, initialData, isModal = false }) => {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"instruction\",\n    model_name: \"claude-3-5-sonnet-20241022\",\n    temperature: 0.7,\n    prompt_text: \"\",\n    enabled: true,\n    step_order: 1,\n    ...initialData,\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.prompt_text.trim()) {\n      toast.error(\"프롬프트 내용을 입력해주세요.\");\n      return;\n    }\n\n    try {\n      await onSubmit(formData);\n    } catch (error) {\n      console.error(\"폼 제출 실패:\", error);\n      toast.error(\"폼 제출에 실패했습니다.\");\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(\n    (cat) => cat.id === formData.category\n  );\n\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            프롬프트 편집\n          </h2>\n          <p className=\"text-gray-600\">{categoryInfo?.description}</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n\n          {/* 제목 (읽기 전용) */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              제목 (수정 불가)\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              readOnly\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500\"\n            />\n          </div>\n\n          {/* 모델과 온도 설정 */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                모델\n              </label>\n              <select\n                value={formData.model_name}\n                onChange={(e) => handleChange(\"model_name\", e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"claude-3-5-sonnet-20241022\">\n                  Claude 3.5 Sonnet\n                </option>\n                <option value=\"claude-3-sonnet-20240229\">\n                  Claude 3 Sonnet\n                </option>\n                <option value=\"claude-3-haiku-20240307\">Claude 3 Haiku</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                온도: {formData.temperature}\n              </label>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.1\"\n                value={formData.temperature}\n                onChange={(e) =>\n                  handleChange(\"temperature\", parseFloat(e.target.value))\n                }\n                className=\"w-full h-2 bg-gradient-to-r from-blue-200 to-blue-500 rounded-lg appearance-none cursor-pointer\"\n                style={{\n                  background: `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${formData.temperature * 100}%, #e5e7eb ${formData.temperature * 100}%, #e5e7eb 100%)`\n                }}\n              />\n              <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                <span>정확함 (0.0)</span>\n                <span>창의적 (1.0)</span>\n              </div>\n            </div>\n          </div>\n\n          {/* 프롬프트 내용 편집 */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              프롬프트 내용\n            </label>\n            <textarea\n              value={formData.prompt_text}\n              onChange={(e) => handleChange(\"prompt_text\", e.target.value)}\n              rows={12}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"프롬프트 내용을 입력하세요...\"\n            />\n            <div className=\"mt-2 text-right\">\n              <button\n                type=\"button\"\n                onClick={() =>\n                  handleChange(\"prompt_text\", categoryInfo?.defaultContent || \"\")\n                }\n                className=\"text-xs text-blue-600 hover:text-blue-800\"\n              >\n                기본 내용으로 복원\n              </button>\n            </div>\n          </div>\n\n          {/* 버튼 */}\n          <div className=\"flex justify-end space-x-3 pt-6\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\n            >\n              취소\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n            >\n              저장\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// 개선된 사이드바 프롬프트 카드 (편집 전용)\nconst SidebarPromptCard = ({ card, onEdit, onToggle, onDelete }) => {\n  const [isToggling, setIsToggling] = useState(false);\n\n  const categoryInfo = FIXED_PROMPT_CATEGORIES.find(\n    (cat) => cat.id === card.category\n  );\n\n  const getModelDisplayName = (modelId) => {\n    if (modelId?.includes(\"claude-3-5-sonnet\")) return \"Claude 3.5 Sonnet\";\n    if (modelId?.includes(\"claude-3-sonnet\")) return \"Claude 3 Sonnet\";\n    if (modelId?.includes(\"claude\")) return \"Claude\";\n    return \"Unknown Model\";\n  };\n\n  // 즉시 반응하는 토글 (낙관적 업데이트)\n  const handleToggleClick = async () => {\n    if (isToggling) return;\n\n    setIsToggling(true);\n    const newEnabled = !card.enabled;\n\n    // 즉시 UI 업데이트 (낙관적 업데이트)\n    card.enabled = newEnabled;\n\n    try {\n      await onToggle(card.promptId || card.id, newEnabled);\n    } catch (error) {\n      // 실패시 원래 상태로 복원\n      card.enabled = !newEnabled;\n      toast.error(\"상태 변경에 실패했습니다.\");\n    } finally {\n      setIsToggling(false);\n    }\n  };\n\n  const handleEdit = () => {\n    onEdit(card);\n  };\n\n  return (\n    <div className=\"group p-4 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 transition-all duration-200 relative\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <span\n              className={`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${categoryInfo?.color}`}\n            >\n              {categoryInfo?.order}. {categoryInfo?.name}\n            </span>\n            <h6 className=\"text-sm font-medium text-gray-900 truncate\">\n              {card.title}\n            </h6>\n          </div>\n          <div className=\"text-xs text-gray-500 space-y-1\">\n            <div>Temperature: {card.temperature || 0.7}</div>\n            <div>Model: {getModelDisplayName(card.model_name || card.model)}</div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-2 ml-4\">\n          {/* 편집 버튼 */}\n          <button\n            onClick={handleEdit}\n            className=\"p-1 text-gray-400 hover:text-blue-600 rounded transition-all hover:bg-blue-50\"\n            title=\"편집\"\n          >\n            <PencilIcon className=\"h-4 w-4\" />\n          </button>\n\n          {/* 삭제 버튼 */}\n          <button\n            onClick={() => {\n              if (window.confirm('이 프롬프트 카드를 삭제하시겠습니까?')) {\n                onDelete(card.promptId || card.id);\n              }\n            }}\n            className=\"p-1 text-gray-400 hover:text-red-600 rounded transition-all hover:bg-red-50\"\n            title=\"삭제\"\n          >\n            <TrashIcon className=\"h-4 w-4\" />\n          </button>\n\n          {/* 토글 스위치 */}\n          <button\n            onClick={handleToggleClick}\n            disabled={isToggling}\n            className={`w-10 h-5 rounded-full relative transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 ${\n              card.enabled \n                ? \"bg-gradient-to-r from-blue-500 to-blue-600 shadow-lg\" \n                : \"bg-gray-300 hover:bg-gray-400\"\n            } ${isToggling ? \"opacity-50 cursor-not-allowed\" : \"cursor-pointer\"}`}\n            title={card.enabled ? \"비활성화\" : \"활성화\"}\n          >\n            <div\n              className={`w-4 h-4 bg-white rounded-full shadow-md transform transition-all duration-300 absolute top-0.5 ${\n                card.enabled ? \"translate-x-5\" : \"translate-x-0.5\"\n              }`}\n            ></div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 메인 PromptCardManager 컴포넌트 (템플릿 시스템)\nconst PromptCardManager = ({ projectId, onCardsChanged, projectName }) => {\n  const [promptCards, setPromptCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingCard, setEditingCard] = useState(null);\n\n  // 프롬프트 카드 목록 로딩 및 기본 카드 생성\n  const loadPromptCards = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await promptCardAPI.getPromptCards(\n        projectId,\n        true,\n        true\n      );\n      let cards = response.promptCards || [];\n\n      // 기본 카테고리별로 카드가 없으면 생성 (임시 비활성화)\n      console.log('Loaded cards from API:', cards.length);\n      // TODO: 기본 카드 생성 로직을 API 스키마 확인 후 다시 활성화\n      /*\n      for (const category of FIXED_PROMPT_CATEGORIES) {\n        const existingCard = cards.find(\n          (card) => card.category === category.id\n        );\n        if (!existingCard) {\n          // 기본 카드 생성\n          const defaultCard = {\n            title: `${category.name} 프롬프트`,\n            category: category.id,\n            model_name: \"claude-3-5-sonnet-20241022\",\n            temperature: 0.7,\n            prompt_text: category.defaultContent,\n            enabled: true,\n            step_order: category.order || 1,\n          };\n\n          try {\n            console.log(`Creating default card for ${category.name}:`, defaultCard);\n            const newCard = await promptCardAPI.createPromptCard(\n              projectId,\n              defaultCard\n            );\n            cards.push(newCard);\n          } catch (error) {\n            console.error(`기본 카드 생성 실패 (${category.name}):`, error);\n            if (error.response) {\n              console.error('API Response:', error.response.data);\n              console.error('Status:', error.response.status);\n            }\n          }\n        }\n      }\n      */\n\n      // 순서대로 정렬\n      cards.sort((a, b) => {\n        const aCategory = FIXED_PROMPT_CATEGORIES.find(\n          (cat) => cat.id === a.category\n        );\n        const bCategory = FIXED_PROMPT_CATEGORIES.find(\n          (cat) => cat.id === b.category\n        );\n        return (aCategory?.order || 999) - (bCategory?.order || 999);\n      });\n\n      setPromptCards(cards);\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`프롬프트 카드 로딩 실패: ${errorInfo.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  useEffect(() => {\n    loadPromptCards();\n  }, [loadPromptCards]);\n\n  // 프롬프트 카드 수정/생성\n  const handleUpdateCard = async (cardData) => {\n    try {\n      if (editingCard.promptId || editingCard.id) {\n        // 기존 카드 수정\n        await promptCardAPI.updatePromptCard(\n          projectId,\n          editingCard.promptId || editingCard.id,\n          cardData\n        );\n        toast.success(\"프롬프트 카드가 수정되었습니다!\");\n      } else {\n        // 새 카드 생성\n        console.log('Creating new card:', cardData);\n        await promptCardAPI.createPromptCard(projectId, cardData);\n        toast.success(\"프롬프트 카드가 생성되었습니다!\");\n      }\n      setEditingCard(null);\n      setShowForm(false);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 ${editingCard.promptId || editingCard.id ? '수정' : '생성'} 실패: ${errorInfo.message}`);\n      console.error('Card operation error:', error);\n      if (error.response) {\n        console.error('API Response:', error.response.data);\n      }\n    }\n  };\n\n  // 프롬프트 카드 활성/비활성 토글 (백그라운드 처리)\n  const handleToggleCard = async (promptId, enabled) => {\n    try {\n      await promptCardAPI.togglePromptCard(projectId, promptId, enabled);\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      throw error; // SidebarPromptCard에서 처리\n    }\n  };\n\n  // 프롬프트 카드 삭제\n  const handleDeleteCard = async (promptId) => {\n    try {\n      await promptCardAPI.deletePromptCard(projectId, promptId);\n      toast.success(\"프롬프트 카드가 삭제되었습니다!\");\n      loadPromptCards();\n      if (onCardsChanged) onCardsChanged();\n    } catch (error) {\n      const errorInfo = handleAPIError(error);\n      toast.error(`카드 삭제 실패: ${errorInfo.message}`);\n    }\n  };\n\n  // 편집 모드 시작\n  const handleEditCard = (card) => {\n    setEditingCard(card);\n    setShowForm(true);\n  };\n\n  // 폼 취소\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingCard(null);\n  };\n\n  // 카테고리별 그룹화 (순서 유지) - 빈 카테고리도 표시\n  const groupedCards = FIXED_PROMPT_CATEGORIES.reduce((groups, category) => {\n    const categoryCards = promptCards.filter(\n      (card) => card.category === category.id\n    );\n    groups[category.id] = {\n      ...category,\n      cards: categoryCards,\n    };\n    return groups;\n  }, {});\n\n  // 디버깅용 로그\n  console.log('PromptCardManager Debug:');\n  console.log('promptCards:', promptCards);\n  console.log('groupedCards:', groupedCards);\n\n  const activeCards = promptCards.filter(\n    (card) => card.enabled !== false\n  ).length;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50 gap-4 p-4\">\n      {/* 왼쪽 채팅 영역 */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* 메인 콘텐츠 영역 */}\n        <div className=\"flex-1 overflow-hidden\">\n          {showForm ? (\n            <div className=\"h-full overflow-y-auto p-6\">\n              <PromptEditForm\n                onSubmit={handleUpdateCard}\n                onCancel={handleCancelForm}\n                initialData={editingCard}\n              />\n            </div>\n          ) : (\n            <ChatInterface projectId={projectId} projectName={projectName} />\n          )}\n        </div>\n      </div>\n\n      {/* 우측 사이드바 */}\n      <aside className=\"w-96 bg-white border border-gray-200 rounded-lg shadow-sm flex flex-col\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-white\">\n          <div className=\"flex items-center space-x-2\">\n            <Cog6ToothIcon className=\"h-5 w-5 text-gray-600\" />\n            <h3 className=\"text-sm font-semibold text-gray-900\">\n              프롬프트 템플릿\n            </h3>\n          </div>\n          <div className=\"text-xs text-gray-500\">\n            {activeCards}/{promptCards.length} 활성\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          <div className=\"space-y-6\">\n            {loading ? (\n              <div className=\"text-center py-8\">\n                <DocumentTextIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-500\">프롬프트 카드를 로딩 중...</p>\n              </div>\n            ) : (\n              Object.values(groupedCards).map((categoryGroup) => (\n                <div key={categoryGroup.id}>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h5 className=\"text-xs font-medium text-gray-700 uppercase tracking-wider\">\n                      {categoryGroup.order}. {categoryGroup.name}\n                    </h5>\n                    <span className=\"text-xs text-gray-500\">\n                      {categoryGroup.description}\n                    </span>\n                  </div>\n                  <div className=\"space-y-2\">\n                    {categoryGroup.cards.length > 0 ? (\n                      categoryGroup.cards.map((card) => (\n                        <SidebarPromptCard\n                          key={card.promptId || card.id}\n                          card={card}\n                          onEdit={handleEditCard}\n                          onToggle={handleToggleCard}\n                          onDelete={handleDeleteCard}\n                        />\n                      ))\n                    ) : (\n                      <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\">\n                        <p className=\"text-xs text-gray-500 mb-2\">\n                          {categoryGroup.name} 프롬프트가 없습니다\n                        </p>\n                        <button \n                          onClick={() => {\n                            // 해당 카테고리의 기본 카드 생성\n                            const defaultCard = {\n                              title: `${categoryGroup.name} 프롬프트`,\n                              category: categoryGroup.id,\n                              model_name: \"claude-3-5-sonnet-20241022\",\n                              temperature: 0.7,\n                              prompt_text: categoryGroup.defaultContent,\n                              enabled: true,\n                              step_order: categoryGroup.order || 1,\n                            };\n                            setEditingCard(defaultCard);\n                            setShowForm(true);\n                          }}\n                          className=\"text-xs text-blue-600 hover:text-blue-800\"\n                        >\n                          + 카드 추가\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* 사이드바 하단 - 도움말 */}\n        <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n          <div className=\"text-xs text-gray-600\">\n            <p className=\"font-medium mb-1\">💡 템플릿 시스템</p>\n            <p>각 카테고리별 프롬프트를 편집하여 AI 응답을 개선하세요.</p>\n          </div>\n        </div>\n      </aside>\n    </div>\n  );\n};\n\nexport default PromptCardManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}