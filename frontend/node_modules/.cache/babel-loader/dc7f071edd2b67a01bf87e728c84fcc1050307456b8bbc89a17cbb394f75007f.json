{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{toast}from\"react-hot-toast\";import{ArrowLeftIcon}from\"@heroicons/react/24/outline\";import{projectAPI,handleAPIError}from\"../services/api\";import LoadingSpinner from\"./LoadingSpinner\";import AdminView from\"./AdminView\";import UserView from\"./UserView\";import{useApp}from\"../contexts/AppContext\";import{ChatInterfaceSkeleton}from\"./skeleton/SkeletonComponents\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectDetail=()=>{const{projectId}=useParams();const navigate=useNavigate();const{mode,setMode}=useApp();const[project,setProject]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadProjectData();},[projectId,navigate]);const loadProjectData=async()=>{try{setLoading(true);const projectData=await projectAPI.getProject(projectId);setProject(projectData);}catch(error){console.error(\"프로젝트 로드 실패:\",error);const errorInfo=handleAPIError(error);toast.error(errorInfo.message);navigate(\"/projects\");}finally{setLoading(false);}};const handleBackNavigation=()=>{navigate(\"/projects\");};if(loading){return/*#__PURE__*/_jsx(ChatInterfaceSkeleton,{});}if(!project){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"\\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/projects\"),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2\"}),\"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA9\\uB85D\\uC73C\\uB85C\"]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 transition-colors duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleBackNavigation,className:\"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-2\"}),\"\\uBAA9\\uB85D\\uC73C\\uB85C\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:project.name})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode('user'),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${mode==='user'?'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm':'text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white'}`,children:\"\\uC0AC\\uC6A9\\uC790\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode('admin'),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${mode==='admin'?'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm':'text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white'}`,children:\"\\uAD00\\uB9AC\\uC790\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-3 py-1 bg-green-50 dark:bg-green-900 border border-green-100 dark:border-green-700 rounded-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-700 dark:text-green-300\",children:\"\\uC900\\uBE44\\uC644\\uB8CC\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden\",children:mode===\"admin\"?/*#__PURE__*/// 관리자 모드: 프롬프트 카드 관리 + 채팅\n_jsx(AdminView,{projectId:projectId,projectName:project.name}):/*#__PURE__*/// 사용자 모드: 채팅만\n_jsx(UserView,{projectId:projectId,projectName:project.name})})]});};export default ProjectDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","toast","ArrowLeftIcon","projectAPI","handleAPIError","LoadingSpinner","AdminView","UserView","useApp","ChatInterfaceSkeleton","jsx","_jsx","jsxs","_jsxs","ProjectDetail","projectId","navigate","mode","setMode","project","setProject","loading","setLoading","loadProjectData","projectData","getProject","error","console","errorInfo","message","handleBackNavigation","className","children","onClick","name","projectName"],"sources":["/Users/yeong-gwang/Documents/work/서울경제신문/ai_제목달기(수)_완성본_스트리밍구현 복사본/frontend/src/components/ProjectDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport { ArrowLeftIcon } from \"@heroicons/react/24/outline\";\nimport { projectAPI, handleAPIError } from \"../services/api\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport AdminView from \"./AdminView\";\nimport UserView from \"./UserView\";\nimport { useApp } from \"../contexts/AppContext\";\nimport { ChatInterfaceSkeleton } from \"./skeleton/SkeletonComponents\";\n\nconst ProjectDetail = () => {\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n  const { mode, setMode } = useApp();\n  const [project, setProject] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadProjectData();\n  }, [projectId, navigate]);\n\n  const loadProjectData = async () => {\n    try {\n      setLoading(true);\n      const projectData = await projectAPI.getProject(projectId);\n      setProject(projectData);\n    } catch (error) {\n      console.error(\"프로젝트 로드 실패:\", error);\n      const errorInfo = handleAPIError(error);\n      toast.error(errorInfo.message);\n      navigate(\"/projects\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBackNavigation = () => {\n    navigate(\"/projects\");\n  };\n\n  if (loading) {\n    return <ChatInterfaceSkeleton />;\n  }\n\n  if (!project) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n            프로젝트를 찾을 수 없습니다\n          </h2>\n          <button\n            onClick={() => navigate(\"/projects\")}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n            프로젝트 목록으로\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* 상단 네비게이션 바 */}\n      <div className=\"flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 transition-colors duration-200\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={handleBackNavigation}\n              className=\"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\"\n            >\n              <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n              목록으로\n            </button>\n            <div className=\"flex items-center\">\n              <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                {project.name}\n              </h1>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            {/* 모드 전환 버튼 */}\n            <div className=\"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1\">\n              <button\n                onClick={() => setMode('user')}\n                className={`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${\n                  mode === 'user'\n                    ? 'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm'\n                    : 'text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white'\n                }`}\n              >\n                사용자\n              </button>\n              <button\n                onClick={() => setMode('admin')}\n                className={`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${\n                  mode === 'admin'\n                    ? 'bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm'\n                    : 'text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white'\n                }`}\n              >\n                관리자\n              </button>\n            </div>\n            \n            <div className=\"flex items-center gap-2 px-3 py-1 bg-green-50 dark:bg-green-900 border border-green-100 dark:border-green-700 rounded-full\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n              <span className=\"text-xs text-green-700 dark:text-green-300\">준비완료</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 메인 콘텐츠 */}\n      <div className=\"flex-1 overflow-hidden\">\n        {mode === \"admin\" ? (\n          // 관리자 모드: 프롬프트 카드 관리 + 채팅\n          <AdminView projectId={projectId} projectName={project.name} />\n        ) : (\n          // 사용자 모드: 채팅만\n          <UserView projectId={projectId} projectName={project.name} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}